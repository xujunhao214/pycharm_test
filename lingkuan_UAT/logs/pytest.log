INFO     2025-08-07 10:34:30 [lingkuan_UAT.conftest;198]  : [2025-08-07 10:34] 测试会话开始: 2025-08-07 10:34:30
INFO     2025-08-07 10:34:30 [lingkuan_UAT.commons.variable_manager;39]  : [2025-08-07 10:34] 成功加载静态变量: VAR\test_data.json
INFO     2025-08-07 10:34:30 [lingkuan_UAT.commons.variable_manager;55]  : [2025-08-07 10:34] 成功加载运行时变量: VAR\runtime_vars.json
INFO     2025-08-07 10:34:30 [requests.session;58]  : [2025-08-07 10:34] 初始化环境会话: test | Base URL: https://uat.atcp.top/api
INFO     2025-08-07 10:34:30 [requests.session;63]  : [2025-08-07 10:34] 切换到Base URL: https://uat.atcp.top/api
INFO     2025-08-07 10:34:30 [lingkuan_UAT.conftest;65]  : [2025-08-07 10:34] 用例 test_vps/test_create.py::TestCreate::test_create_user 使用默认URL登录: https://uat.atcp.top/api
INFO     2025-08-07 10:34:30 [lingkuan_UAT.conftest;75]  : 登录尝试 1/3，生成MFA验证码: 494311
INFO     2025-08-07 10:34:30 [requests.session;101]  : [2025-08-07 10:34] 构建相对URL: https://uat.atcp.top/api + /sys/auth/login -> https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:34:30 [requests.session;114]  : [2025-08-07 10:34:30.157] POST 请求开始: https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:34:30 [requests.session;115]  : [2025-08-07 10:34:30.157] 请求参数: args=(), kwargs_keys=['data', 'json']
INFO     2025-08-07 10:34:30 [requests.session;123]  : [2025-08-07 10:34:30.157] JSON请求体: {'username': 'xujunhao', 'password': '04ab152ebbde10be0fb30a66e25d72b9730c20eb7c6bf0215c16a58286baf80911433932c3f6185c890748b28d8bdbe4037cfadbfff8a310feef9f1c125cc24ba6178a3fa91914a26266be288daa985c8768f1c1a2e1c9198cb68b4a9e06f9ef89b364e70255a1', 'captcha': '', 'key': '', 'secretKey': '', 'code': 494311, 'isMfaVerified': 1, 'isStartMfaVerify': 1}
ERROR    2025-08-07 10:34:30 [requests.session;159]  : [2025-08-07 10:34:30.157] 网络连接异常（可能包含DNS解析失败）: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))) | URL: https://uat.atcp.top/api/sys/auth/login
urllib3.exceptions.ProxyError: ('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pycharm_test\lingkuan_UAT\commons\session.py", line 127, in request
    response = super().request(method, full_url, *args, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 694, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
WARNING  2025-08-07 10:34:30 [lingkuan_UAT.conftest;109]  : 第1次登录失败: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
INFO     2025-08-07 10:34:30 [lingkuan_UAT.conftest;111]  : 等待 15 秒后重试...
INFO     2025-08-07 10:34:45 [lingkuan_UAT.conftest;75]  : 登录尝试 2/3，生成MFA验证码: 494311
INFO     2025-08-07 10:34:45 [requests.session;101]  : [2025-08-07 10:34] 构建相对URL: https://uat.atcp.top/api + /sys/auth/login -> https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:34:45 [requests.session;114]  : [2025-08-07 10:34:45.194] POST 请求开始: https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:34:45 [requests.session;115]  : [2025-08-07 10:34:45.194] 请求参数: args=(), kwargs_keys=['data', 'json']
INFO     2025-08-07 10:34:45 [requests.session;123]  : [2025-08-07 10:34:45.194] JSON请求体: {'username': 'xujunhao', 'password': '04ab152ebbde10be0fb30a66e25d72b9730c20eb7c6bf0215c16a58286baf80911433932c3f6185c890748b28d8bdbe4037cfadbfff8a310feef9f1c125cc24ba6178a3fa91914a26266be288daa985c8768f1c1a2e1c9198cb68b4a9e06f9ef89b364e70255a1', 'captcha': '', 'key': '', 'secretKey': '', 'code': 494311, 'isMfaVerified': 1, 'isStartMfaVerify': 1}
ERROR    2025-08-07 10:34:45 [requests.session;159]  : [2025-08-07 10:34:45.194] 网络连接异常（可能包含DNS解析失败）: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))) | URL: https://uat.atcp.top/api/sys/auth/login
urllib3.exceptions.ProxyError: ('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pycharm_test\lingkuan_UAT\commons\session.py", line 127, in request
    response = super().request(method, full_url, *args, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 694, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
WARNING  2025-08-07 10:34:45 [lingkuan_UAT.conftest;109]  : 第2次登录失败: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
INFO     2025-08-07 10:34:45 [lingkuan_UAT.conftest;111]  : 等待 15 秒后重试...
INFO     2025-08-07 10:35:00 [lingkuan_UAT.conftest;75]  : 登录尝试 3/3，生成MFA验证码: 299883
INFO     2025-08-07 10:35:00 [requests.session;101]  : [2025-08-07 10:34] 构建相对URL: https://uat.atcp.top/api + /sys/auth/login -> https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:35:00 [requests.session;114]  : [2025-08-07 10:35:00.216] POST 请求开始: https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:35:00 [requests.session;115]  : [2025-08-07 10:35:00.216] 请求参数: args=(), kwargs_keys=['data', 'json']
INFO     2025-08-07 10:35:00 [requests.session;123]  : [2025-08-07 10:35:00.216] JSON请求体: {'username': 'xujunhao', 'password': '04ab152ebbde10be0fb30a66e25d72b9730c20eb7c6bf0215c16a58286baf80911433932c3f6185c890748b28d8bdbe4037cfadbfff8a310feef9f1c125cc24ba6178a3fa91914a26266be288daa985c8768f1c1a2e1c9198cb68b4a9e06f9ef89b364e70255a1', 'captcha': '', 'key': '', 'secretKey': '', 'code': 299883, 'isMfaVerified': 1, 'isStartMfaVerify': 1}
ERROR    2025-08-07 10:35:00 [requests.session;159]  : [2025-08-07 10:35:00.216] 网络连接异常（可能包含DNS解析失败）: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))) | URL: https://uat.atcp.top/api/sys/auth/login
urllib3.exceptions.ProxyError: ('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pycharm_test\lingkuan_UAT\commons\session.py", line 127, in request
    response = super().request(method, full_url, *args, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 694, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
WARNING  2025-08-07 10:35:00 [lingkuan_UAT.conftest;109]  : 第3次登录失败: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
INFO     2025-08-07 10:35:00 [lingkuan_UAT.commons.api_base;273]  : [2025-08-07 10:34] 执行SQL: SELECT * FROM FOLLOW_TRADER_USER WHERE account = %s | 参数: ('300151',)
INFO     2025-08-07 10:35:00 [lingkuan_UAT.commons.api_base;276]  : [2025-08-07 10:34] 查询成功，结果数量: 0 | SQL: SELECT * FROM FOLLOW_TRADER_USER WHERE account = %s
INFO     2025-08-07 10:35:00 [lingkuan_UAT.commons.api_base;282]  : [2025-08-07 10:34] 查询结果: []
INFO     2025-08-07 10:35:00 [requests.session;58]  : [2025-08-07 10:34] 初始化环境会话: test | Base URL: https://uat.atcp.top/api
INFO     2025-08-07 10:35:00 [requests.session;63]  : [2025-08-07 10:34] 切换到Base URL: https://uat.atcp.top/api
INFO     2025-08-07 10:35:00 [lingkuan_UAT.conftest;65]  : [2025-08-07 10:34] 用例 test_vps/test_create.py::TestCreate::test_create_importuser 使用默认URL登录: https://uat.atcp.top/api
INFO     2025-08-07 10:35:00 [lingkuan_UAT.conftest;75]  : 登录尝试 1/3，生成MFA验证码: 299883
INFO     2025-08-07 10:35:00 [requests.session;101]  : [2025-08-07 10:34] 构建相对URL: https://uat.atcp.top/api + /sys/auth/login -> https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:35:00 [requests.session;114]  : [2025-08-07 10:35:00.942] POST 请求开始: https://uat.atcp.top/api/sys/auth/login
INFO     2025-08-07 10:35:00 [requests.session;115]  : [2025-08-07 10:35:00.942] 请求参数: args=(), kwargs_keys=['data', 'json']
INFO     2025-08-07 10:35:00 [requests.session;123]  : [2025-08-07 10:35:00.942] JSON请求体: {'username': 'xujunhao', 'password': '04ab152ebbde10be0fb30a66e25d72b9730c20eb7c6bf0215c16a58286baf80911433932c3f6185c890748b28d8bdbe4037cfadbfff8a310feef9f1c125cc24ba6178a3fa91914a26266be288daa985c8768f1c1a2e1c9198cb68b4a9e06f9ef89b364e70255a1', 'captcha': '', 'key': '', 'secretKey': '', 'code': 299883, 'isMfaVerified': 1, 'isStartMfaVerify': 1}
ERROR    2025-08-07 10:35:00 [requests.session;159]  : [2025-08-07 10:35:00.942] 网络连接异常（可能包含DNS解析失败）: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))) | URL: https://uat.atcp.top/api/sys/auth/login
urllib3.exceptions.ProxyError: ('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory'))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pycharm_test\lingkuan_UAT\commons\session.py", line 127, in request
    response = super().request(method, full_url, *args, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 694, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
WARNING  2025-08-07 10:35:00 [lingkuan_UAT.conftest;109]  : 第1次登录失败: HTTPSConnectionPool(host='uat.atcp.top', port=443): Max retries exceeded with url: /api/sys/auth/login (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
INFO     2025-08-07 10:35:00 [lingkuan_UAT.conftest;111]  : 等待 15 秒后重试...
INFO     2025-08-07 10:35:04 [lingkuan_UAT.conftest;225]  : [2025-08-07 10:34] 测试会话结束，总耗时: 34.00秒
INFO     2025-08-07 10:35:04 [lingkuan_UAT.commons.feishu_notification;128]  : [2025-08-07 10:34] 发送飞书消息，URL: https://open.feishu.cn/open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f
ERROR    2025-08-07 10:35:04 [lingkuan_UAT.commons.feishu_notification;148]  : [2025-08-07 10:34] [FEISHU] 发送通知异常: HTTPSConnectionPool(host='open.feishu.cn', port=443): Max retries exceeded with url: /open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f (Caused by ProxyError('Unable to connect to proxy', FileNotFoundError(2, 'No such file or directory')))
INFO     2025-08-07 10:35:04 [lingkuan_UAT.conftest;236]  : [2025-08-07 10:34] 飞书通知发送成功
INFO     2025-08-07 10:35:04 [lingkuan_UAT.commons.variable_manager;101]  : [2025-08-07 10:34] 运行时变量已保存
