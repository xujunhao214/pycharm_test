{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_1127.test_vps.test_lianxi2.TestVPSOrdersendbuy.TestVPSOrderSend1 object at 0x00000152B2389400>\nclass_random_str = 'zdhpn2443'\nvar_manager = <lingkuan_1127.commons.variable_manager.VariableManager object at 0x00000152B23CDB50>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x00000152B282B0A0>\n\n    @allure.title(\"数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查\")\n    def test_dbquery_addsalve_MT5orderSendclose(self, class_random_str, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            addVPS_MT5Slave = var_manager.get_variable(\"addVPS_MT5Slave\")\n            account = addVPS_MT5Slave[\"account\"]\n            MT5vps_addslave_id = var_manager.get_variable(\"MT5vps_addslave_id\")\n            sql = f\"\"\"\n                        SELECT\n                            fod.size,\n                            fod.comment,\n                            fod.close_no,\n                            fod.magical,\n                            fod.open_price,\n                            fod.symbol,\n                            fod.order_no,\n                            foi.true_total_lots,\n                            foi.order_no,\n                            foi.operation_type,\n                            foi.create_time,\n                            foi.status,\n                            foi.min_lot_size,\n                            foi.max_lot_size,\n                            foi.total_lots,\n                            foi.master_order,\n                            foi.total_orders\n                        FROM\n                            follow_order_detail fod\n                        INNER JOIN\n                            follow_order_instruct foi\n                        ON\n                            foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                        WHERE foi.operation_type = %s\n                            AND fod.account = %s\n                            AND fod.trader_id = %s\n                            AND fod.comment = %s\n                            \"\"\"\n            params = (\n                '1',\n                account,\n                MT5vps_addslave_id,\n                class_random_str\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_lianxi2.py:684: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_1127.test_vps.test_lianxi2.TestVPSOrdersendbuy.TestVPSOrderSend1 object at 0x00000152B2389400>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x00000152B282B0A0>\nsql = '\\n                            SELECT \\n                                fod.size,\\n                                fod...        AND fod.trader_id = %s\\n                                AND fod.comment = %s\\n                                '\nparams = ('1', '66938909', 15693, 'zdhpn2443'), time_field = 'fod.close_time'\ntime_range = 3, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 6, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} \\n继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    display_result = min(len(final_result), 50)\n                    allure.attach(self.serialize_data(final_result[:display_result]),\n                                  f\"查询结果（共{len(final_result)}条，显示前50条）\", allure.attachment_type.JSON)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1239: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总订单3，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1127\\test_vps\\test_lianxi2.py\", line 684, in test_dbquery_addsalve_MT5orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_1127\\commons\\api_base.py\", line 1239, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1127\\commons\\api_base.py\", line 1239, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552506086, "stop": 1764552506138}], "attachments": [{"name": "时区处理", "source": "9a99be25-01d7-4a8c-bf10-203ca0eaaaac-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "abadab5c-87d4-4da3-b4d7-a81d49e9dbe0-attachment.txt", "type": "text/plain"}], "start": 1764552506085, "stop": 1764552506138}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5d2a4a32-4ad8-49e4-aa11-49ed03989c70-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2d636912-5d2b-4504-b1a2-2d1ff7cc09b5-attachment.txt", "type": "text/plain"}], "start": 1764552506138, "stop": 1764552506139}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1e461c14-aa03-4e5f-bf7c-388a4e0c3e75-attachment.txt", "type": "text/plain"}], "start": 1764552506139, "stop": 1764552506139}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552508196, "stop": 1764552508248}], "attachments": [{"name": "时区处理", "source": "d0878ceb-e3d1-4aec-815b-17ce5f428f43-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0eeac097-5a1d-42f5-8c98-9e7b3af3ecde-attachment.txt", "type": "text/plain"}], "start": 1764552508194, "stop": 1764552508248}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6a748b8f-1b9b-4ab8-b93e-bce7fcd2772f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "25d72dbc-10c8-4876-8bd3-35904d2b5522-attachment.txt", "type": "text/plain"}], "start": 1764552508248, "stop": 1764552508249}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "aaef6b1d-da4c-4bb5-bf96-4f830196fc8f-attachment.txt", "type": "text/plain"}], "start": 1764552508249, "stop": 1764552508249}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552510308, "stop": 1764552510362}], "attachments": [{"name": "时区处理", "source": "868f8ee3-5844-4036-8084-9f1daa38bc38-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fadc1aed-6a25-4cf9-8ecd-95a17f3c1729-attachment.txt", "type": "text/plain"}], "start": 1764552510307, "stop": 1764552510362}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8cbf14dc-9b36-45c9-a517-39d14d87f96f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d1fdf390-358d-473e-8950-e61657d683e8-attachment.txt", "type": "text/plain"}], "start": 1764552510362, "stop": 1764552510363}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ed5d9705-a8f1-47f2-8ebf-15321b378b7b-attachment.txt", "type": "text/plain"}], "start": 1764552510363, "stop": 1764552510364}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552512417, "stop": 1764552512472}], "attachments": [{"name": "时区处理", "source": "97699710-7c80-43f9-a0f5-4ff47d165d88-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bff440e5-adb1-41ae-b77f-08ec4dba81f7-attachment.txt", "type": "text/plain"}], "start": 1764552512416, "stop": 1764552512472}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "909c2422-06e5-4f29-9acd-d2610a71f890-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5a4af85f-99dd-4cbd-a3e7-d441d144556e-attachment.txt", "type": "text/plain"}], "start": 1764552512472, "stop": 1764552512472}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "526f955f-a80f-407c-8626-cd3e8415a028-attachment.txt", "type": "text/plain"}], "start": 1764552512472, "stop": 1764552512473}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552514531, "stop": 1764552514590}], "attachments": [{"name": "时区处理", "source": "30d5a350-1eb6-415d-8849-55feb18eca7d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "72d01cd3-65ab-414d-8b0d-b9277e05c2e8-attachment.txt", "type": "text/plain"}], "start": 1764552514530, "stop": 1764552514590}, {"name": "轮询中（已等待8.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "018ed513-cbd4-404f-ad69-5c06d56519dc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "279ba82e-c03e-47d4-9d62-5118798df825-attachment.txt", "type": "text/plain"}], "start": 1764552514590, "stop": 1764552514590}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d26c617f-453f-443d-b2f5-15fead907c88-attachment.txt", "type": "text/plain"}], "start": 1764552514590, "stop": 1764552514591}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552516642, "stop": 1764552516694}], "attachments": [{"name": "时区处理", "source": "5646006f-7bbe-4003-91bf-124a8b904c86-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bcc8e5a1-9698-42d6-80bc-0fb18ed5dd25-attachment.txt", "type": "text/plain"}], "start": 1764552516641, "stop": 1764552516694}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ab689940-5aec-4341-8a34-6ecdd89553d8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "58b80f97-a968-4073-9e4b-b488344b9131-attachment.txt", "type": "text/plain"}], "start": 1764552516694, "stop": 1764552516695}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1b9fcfc4-e8ed-471e-892a-58d5d0eff78f-attachment.txt", "type": "text/plain"}], "start": 1764552516695, "stop": 1764552516695}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552518750, "stop": 1764552518805}], "attachments": [{"name": "时区处理", "source": "ee633ef1-0023-4619-b960-fbda58822da0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4e626751-5ee2-4fb6-b349-38ae0071e62e-attachment.txt", "type": "text/plain"}], "start": 1764552518749, "stop": 1764552518805}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "af823a2c-b088-456f-bf0d-fb6abf911c56-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9d67eba9-5768-448b-8f43-aad666abc310-attachment.txt", "type": "text/plain"}], "start": 1764552518805, "stop": 1764552518806}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8026b68b-5eb3-4d1b-8a13-69032dd51fab-attachment.txt", "type": "text/plain"}], "start": 1764552518806, "stop": 1764552518806}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552520866, "stop": 1764552520918}], "attachments": [{"name": "时区处理", "source": "c76154ce-b503-4f80-8490-6bce89debd64-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "43414e01-c2a9-4dbe-9ad5-8972d7ab6743-attachment.txt", "type": "text/plain"}], "start": 1764552520865, "stop": 1764552520918}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "818b8e73-1434-4f2b-b2de-910b36e1f3d9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6756104a-ffa5-40d8-8917-2afc385a6a30-attachment.txt", "type": "text/plain"}], "start": 1764552520918, "stop": 1764552520919}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "86abdddf-9aff-4eae-944b-3aa0d38b5025-attachment.txt", "type": "text/plain"}], "start": 1764552520919, "stop": 1764552520919}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552522981, "stop": 1764552523033}], "attachments": [{"name": "时区处理", "source": "9e2bbbee-1ebe-4cf3-900f-9cde4d16864f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "050a93cf-b84c-4d11-a069-7347986f2b65-attachment.txt", "type": "text/plain"}], "start": 1764552522980, "stop": 1764552523033}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2d2ec206-8c31-4eec-a8ef-f9d9f0618895-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fbb4172b-37f5-42e9-8a3c-a6beb6c68167-attachment.txt", "type": "text/plain"}], "start": 1764552523033, "stop": 1764552523034}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0e237372-7875-400f-a54e-482a08887eaf-attachment.txt", "type": "text/plain"}], "start": 1764552523034, "stop": 1764552523034}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552525088, "stop": 1764552525145}], "attachments": [{"name": "时区处理", "source": "b84ccfc6-49eb-4db4-bf20-8abc34548a1a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "dcd721b9-0436-4fb2-921b-bd65e66ec035-attachment.txt", "type": "text/plain"}], "start": 1764552525087, "stop": 1764552525145}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8b5ee253-964f-4456-ae55-437e8e1ecd05-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9b8fb84e-0d83-43ac-8f0b-c8cb381b08ab-attachment.txt", "type": "text/plain"}], "start": 1764552525145, "stop": 1764552525147}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9cfa118a-58ea-4b68-930c-43566abca095-attachment.txt", "type": "text/plain"}], "start": 1764552525147, "stop": 1764552525148}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552527214, "stop": 1764552527266}], "attachments": [{"name": "时区处理", "source": "24dfc35b-e5bc-405c-afc0-0464c3ce400a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "379baabc-fd4b-49b3-979f-f159e98002ee-attachment.txt", "type": "text/plain"}], "start": 1764552527213, "stop": 1764552527266}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4a5421af-0ff4-47e7-9beb-8aaec1ec9f8e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d54de273-6631-424c-ab6c-9ba603e28968-attachment.txt", "type": "text/plain"}], "start": 1764552527266, "stop": 1764552527267}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "85d38045-40d1-41b2-8d12-8c2197cc1e6f-attachment.txt", "type": "text/plain"}], "start": 1764552527267, "stop": 1764552527267}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552529326, "stop": 1764552529378}], "attachments": [{"name": "时区处理", "source": "9a3cf60a-81f9-4bec-9e36-6a4a6cff68ec-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2a43e033-b3fd-4192-aba5-60846b253e4f-attachment.txt", "type": "text/plain"}], "start": 1764552529326, "stop": 1764552529378}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3cf139bc-a2a9-4beb-80fa-464474b4b81c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c367a9b4-af10-472a-b101-ddd6b341fb85-attachment.txt", "type": "text/plain"}], "start": 1764552529378, "stop": 1764552529379}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1c02d6df-bd41-4871-8567-d2921c8e6ad0-attachment.txt", "type": "text/plain"}], "start": 1764552529379, "stop": 1764552529379}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552531429, "stop": 1764552531483}], "attachments": [{"name": "时区处理", "source": "73219d38-2c00-4ceb-a80c-13c126e32ed5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "37377193-520f-409e-9952-3ddf7ba7a676-attachment.txt", "type": "text/plain"}], "start": 1764552531429, "stop": 1764552531483}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9643e646-16ac-4fe1-a25c-b56eeafc72c5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e05e3e04-6f53-47f2-9ad1-35083d52704c-attachment.txt", "type": "text/plain"}], "start": 1764552531483, "stop": 1764552531484}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6b5a744f-f516-44e2-9d9e-5f9f6e987cea-attachment.txt", "type": "text/plain"}], "start": 1764552531484, "stop": 1764552531484}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552533562, "stop": 1764552533618}], "attachments": [{"name": "时区处理", "source": "cd554e3e-6bee-49f5-8041-f6c25a870aca-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "acc9ee2e-f6ae-45d7-8ee6-cb73d0314fc9-attachment.txt", "type": "text/plain"}], "start": 1764552533561, "stop": 1764552533618}, {"name": "轮询中（已等待27.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "edcfa48f-6b84-46a6-abd6-0188d2546822-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "955898a6-c73a-47ad-b9c9-fa6675fe5c45-attachment.txt", "type": "text/plain"}], "start": 1764552533618, "stop": 1764552533619}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bc63d610-2dce-4b25-aaff-537c7bd10dce-attachment.txt", "type": "text/plain"}], "start": 1764552533619, "stop": 1764552533619}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764552535666, "stop": 1764552535718}], "attachments": [{"name": "时区处理", "source": "a4d93df1-0e45-45ae-b2eb-b666995e7aa8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "871c372e-030c-4122-b279-49b8727ec3cb-attachment.txt", "type": "text/plain"}], "start": 1764552535666, "stop": 1764552535718}, {"name": "轮询中（已等待29.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4fbee1f8-eb3a-40ad-902a-0a4de1a9bf80-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a8ba691d-894e-4a29-b6ad-fa28c6d8f07a-attachment.txt", "type": "text/plain"}], "start": 1764552535718, "stop": 1764552535719}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2c6693b2-7db7-49ca-99c0-c475df949550-attachment.txt", "type": "text/plain"}], "start": 1764552535719, "stop": 1764552535719}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "4711e4f9-b5f8-4130-8b27-6ea57921e825-attachment.txt", "type": "text/plain"}], "start": 1764552537723, "stop": 1764552537723}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "3adc57bb-e10e-4b7f-a571-37e70fd52f2e-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "b0e2d54e-f10c-4b5c-a513-34373a6c3f2a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "578476c4-1466-427b-85a9-037abb013f32-attachment.txt", "type": "text/plain"}], "start": 1764552537776, "stop": 1764552537777}], "start": 1764552537724, "stop": 1764552537777}], "attachments": [{"name": "时区处理", "source": "5bafeaf0-c6be-4a12-833e-f8b2f83de711-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "34eb7672-62dc-4a95-b140-6dd93c3e277e-attachment.txt", "type": "text/plain"}], "start": 1764552537723, "stop": 1764552537777}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "6fe216ef-992c-4fe8-b1fe-d8e08856f104-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "d51c26c1-d35d-48d0-83cb-eb501b5073f5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a9ad4d3e-e950-488c-9f97-fecdb4613056-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "a77d0e16-aa72-4df2-b61c-b536bf85bafe-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "cd434dd5-53f5-4502-a583-ec9619b7ee80-attachment.txt", "type": "text/plain"}], "start": 1764552537777, "stop": 1764552537779}], "start": 1764552506039, "stop": 1764552537779}], "start": 1764552506039, "stop": 1764552537779}], "attachments": [{"name": "log", "source": "c033deba-2f9c-40f2-9b89-8ac705e9db7a-attachment.txt", "type": "text/plain"}], "start": 1764552506039, "stop": 1764552537779, "uuid": "011764e8-7ea4-4a7a-ba9f-01e5c8725666", "historyId": "784fc29266d4c00fd5f145c32c6e6407", "testCaseId": "784fc29266d4c00fd5f145c32c6e6407", "fullName": "test_vps.test_lianxi2.TestVPSOrderSend1#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景1：复制下单-手数0.1-1，总订单3，总手数1"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi2"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "10688-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi2"}]}