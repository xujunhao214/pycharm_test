{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x0000020E383CDFA0>\nvar_manager = <lingkuan_MT4DE.commons.variable_manager.VariableManager object at 0x0000020E38321520>\ndb_transaction = <pymysql.connections.Connection object at 0x0000020E382DF7C0>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        vps_user_count = var_manager.get_variable(\"vps_user_count\", 0)\n        if vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应vps_user_accounts_2到vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x0000020E383CDFA0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000020E382DF7C0>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('31493',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（31493）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1d561dc6-a733-42a1-a870-caa1c3f9c809-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b2ad12a9-6827-476c-b9d9-65e335399012-attachment.txt", "type": "text/plain"}], "start": 1761905104645, "stop": 1761905104695}], "attachments": [{"name": "查询条件", "source": "8c950d86-7800-4ea6-94bb-e3b71cb55e5d-attachment.txt", "type": "text/plain"}], "start": 1761905104645, "stop": 1761905104695}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5a3b72ba-822d-4fa3-96f1-34fbe6209421-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "055979ea-45bc-4058-bee2-aa9d0f383fe9-attachment.txt", "type": "text/plain"}], "start": 1761905104695, "stop": 1761905104696}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "333f2ab4-48b0-4185-ad2c-910f1bf311ac-attachment.txt", "type": "text/plain"}], "start": 1761905104696, "stop": 1761905104696}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1f72a8bb-e561-4e13-91ad-4c14a3f8734d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c8a28e02-b336-4a06-999e-797c32c77621-attachment.txt", "type": "text/plain"}], "start": 1761905106747, "stop": 1761905106898}], "attachments": [{"name": "查询条件", "source": "a7711f36-6335-4566-8707-365a2b2647ed-attachment.txt", "type": "text/plain"}], "start": 1761905106747, "stop": 1761905106898}, {"name": "轮询中（已等待2.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f89f61a3-34b4-4340-884b-e2b50b4cc8b4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f3e16bdf-a921-4656-889d-56478d561c3f-attachment.txt", "type": "text/plain"}], "start": 1761905106898, "stop": 1761905106899}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "6d62771f-c5c4-481c-867d-b41c80952e81-attachment.txt", "type": "text/plain"}], "start": 1761905106899, "stop": 1761905106899}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7d2885ae-3563-428a-b777-b4f7805c992f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "057cd6c4-9dff-446c-8dd5-a99236615bba-attachment.txt", "type": "text/plain"}], "start": 1761905108991, "stop": 1761905109150}], "attachments": [{"name": "查询条件", "source": "fa8ab2e2-252a-4b50-ad7d-7352ae480fa2-attachment.txt", "type": "text/plain"}], "start": 1761905108990, "stop": 1761905109150}, {"name": "轮询中（已等待4.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "96d1d9a7-e4e1-49d8-92c9-fef2f865a1be-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4d27e170-2967-4c79-bcff-af307c52767f-attachment.txt", "type": "text/plain"}], "start": 1761905109150, "stop": 1761905109152}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a29b2af0-7a19-47f3-acdb-6a011b66b5a2-attachment.txt", "type": "text/plain"}], "start": 1761905109152, "stop": 1761905109152}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "49642d60-3cbe-4a1c-83a9-cd9faeacf9cb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "84fd41af-e11e-44f3-a304-4ce077471297-attachment.txt", "type": "text/plain"}], "start": 1761905111209, "stop": 1761905111271}], "attachments": [{"name": "查询条件", "source": "87d1cec5-3e8c-4577-be32-257edad3b1a3-attachment.txt", "type": "text/plain"}], "start": 1761905111208, "stop": 1761905111271}, {"name": "轮询中（已等待6.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3042472e-df16-40fb-90cf-68195317afd6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "583c13b8-28b3-4ec7-b35b-6a7dd9bc0e17-attachment.txt", "type": "text/plain"}], "start": 1761905111271, "stop": 1761905111272}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c9d27d64-c297-4307-9bfb-0946a61db51d-attachment.txt", "type": "text/plain"}], "start": 1761905111272, "stop": 1761905111272}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "305831e8-afe1-4602-a214-935690321483-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d97ccd7c-c1f7-49fb-b116-0c0c17bd4cb0-attachment.txt", "type": "text/plain"}], "start": 1761905113325, "stop": 1761905113374}], "attachments": [{"name": "查询条件", "source": "8c4fffb1-817d-48a8-ab7a-040fe2efe0a8-attachment.txt", "type": "text/plain"}], "start": 1761905113325, "stop": 1761905113374}, {"name": "轮询中（已等待8.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b0dd88c1-0d0b-4354-98bd-6794fa6ddfe7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1d5d5480-c503-43cd-add2-724a57b6d95d-attachment.txt", "type": "text/plain"}], "start": 1761905113374, "stop": 1761905113375}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c61efeeb-7311-4004-8a40-f422b9a7167c-attachment.txt", "type": "text/plain"}], "start": 1761905113375, "stop": 1761905113375}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6317ce21-eda6-4b06-94d9-11a31e137962-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "400daaa5-6ee3-40c0-829f-373ad46628a2-attachment.txt", "type": "text/plain"}], "start": 1761905115424, "stop": 1761905115475}], "attachments": [{"name": "查询条件", "source": "73650acd-53d4-45f3-bb44-e66e87b76409-attachment.txt", "type": "text/plain"}], "start": 1761905115424, "stop": 1761905115475}, {"name": "轮询中（已等待10.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9a37655b-3fbe-4880-8fa2-d92023c285af-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b2c414c2-7213-4828-8609-2e5425acb791-attachment.txt", "type": "text/plain"}], "start": 1761905115475, "stop": 1761905115475}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ebce7cd2-f8bb-4f3c-b1b4-63adf9e94cd6-attachment.txt", "type": "text/plain"}], "start": 1761905115475, "stop": 1761905115476}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ecc155df-272b-4bc4-9e56-1c347f808f10-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "eea299f7-e0ad-49cd-bd24-3408514d0fed-attachment.txt", "type": "text/plain"}], "start": 1761905117562, "stop": 1761905117610}], "attachments": [{"name": "查询条件", "source": "120fe8f2-f99c-44bf-9a1f-c18c461c3c99-attachment.txt", "type": "text/plain"}], "start": 1761905117561, "stop": 1761905117610}, {"name": "轮询中（已等待13.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a8a6ad57-24f3-4a1c-885c-13b0a3af9e22-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cd0dadc0-f8e7-47a0-8a20-338046e68307-attachment.txt", "type": "text/plain"}], "start": 1761905117610, "stop": 1761905117611}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4334ad22-2a0e-4b30-bafe-4fc4fbdf9e88-attachment.txt", "type": "text/plain"}], "start": 1761905117611, "stop": 1761905117611}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b7d0c5ed-cebb-4c01-860e-ce6f3e555223-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5caea34c-bfd8-46b0-a1dd-ca2a65311f40-attachment.txt", "type": "text/plain"}], "start": 1761905119666, "stop": 1761905119722}], "attachments": [{"name": "查询条件", "source": "8202b644-809b-47ca-b717-1b6194325f5f-attachment.txt", "type": "text/plain"}], "start": 1761905119665, "stop": 1761905119722}, {"name": "轮询中（已等待15.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9d91c302-5e69-4678-b738-69e4a51e333e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "19490a20-f06e-4185-8187-b143a8f70525-attachment.txt", "type": "text/plain"}], "start": 1761905119722, "stop": 1761905119724}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d4b48e9a-c1c3-4ffc-82f2-1c3a333058e7-attachment.txt", "type": "text/plain"}], "start": 1761905119724, "stop": 1761905119724}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "77070cdb-c411-460f-9d90-34897d698038-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "548617e5-7d41-40a3-8312-e9c014c2e176-attachment.txt", "type": "text/plain"}], "start": 1761905121775, "stop": 1761905121825}], "attachments": [{"name": "查询条件", "source": "8c7aa4c5-2a7b-47e9-bf15-aafda2c5f3d6-attachment.txt", "type": "text/plain"}], "start": 1761905121774, "stop": 1761905121825}, {"name": "轮询中（已等待17.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ec21f834-5c93-4402-b1e4-6e8c41cb7727-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a7287269-4e85-422f-9d60-95bc1667dbc9-attachment.txt", "type": "text/plain"}], "start": 1761905121825, "stop": 1761905121826}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "99aeed00-e395-4a9c-ba23-bbcc8be64a61-attachment.txt", "type": "text/plain"}], "start": 1761905121826, "stop": 1761905121826}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "519a48ae-7589-4134-a58d-b0da88c64fab-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6257e8d9-07d5-4d19-84df-d6ad9d5fa1b1-attachment.txt", "type": "text/plain"}], "start": 1761905123875, "stop": 1761905123924}], "attachments": [{"name": "查询条件", "source": "1158148c-c842-4b21-8d1a-32006a9b79e4-attachment.txt", "type": "text/plain"}], "start": 1761905123875, "stop": 1761905123924}, {"name": "轮询中（已等待19.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f9df4ac0-e30b-44e7-99c2-75ac87f96ab1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d4413dd6-bf4b-47f1-9ab2-9c9867fec548-attachment.txt", "type": "text/plain"}], "start": 1761905123924, "stop": 1761905123925}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "77981a0f-3d09-4a3b-8523-82ed9e4582f0-attachment.txt", "type": "text/plain"}], "start": 1761905123925, "stop": 1761905123926}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7eb2bd42-c872-41f3-863c-1fa1b5d36210-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "85abddde-4a21-4444-a61e-5f2b57d90f63-attachment.txt", "type": "text/plain"}], "start": 1761905125978, "stop": 1761905126037}], "attachments": [{"name": "查询条件", "source": "d3423e5b-e5fc-4906-be71-23153c215942-attachment.txt", "type": "text/plain"}], "start": 1761905125978, "stop": 1761905126037}, {"name": "轮询中（已等待21.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8692f597-049e-4657-9eef-9dd6a9338cd6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "836649d2-2728-41e8-96eb-3a3ecb0ad633-attachment.txt", "type": "text/plain"}], "start": 1761905126037, "stop": 1761905126038}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f4b6a69f-2e88-451a-a7f3-ef9645c0aeb4-attachment.txt", "type": "text/plain"}], "start": 1761905126038, "stop": 1761905126038}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "92c7a9dc-60af-4e95-a859-d463a926ec2a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6c79378a-21f1-4ab5-a551-89224aec6ab4-attachment.txt", "type": "text/plain"}], "start": 1761905128096, "stop": 1761905128146}], "attachments": [{"name": "查询条件", "source": "f8ed07a1-96d0-4c31-9fdc-8ea75b4fcfed-attachment.txt", "type": "text/plain"}], "start": 1761905128096, "stop": 1761905128146}, {"name": "轮询中（已等待23.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c4f0043b-ba87-4940-973e-aaf21c5ca35b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "96223b77-cd77-4be9-bd85-e2ea7028b059-attachment.txt", "type": "text/plain"}], "start": 1761905128146, "stop": 1761905128147}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b98ca29b-4c56-45b8-8c8d-975259fb770d-attachment.txt", "type": "text/plain"}], "start": 1761905128147, "stop": 1761905128147}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d60e1d20-1316-475d-b147-8d6058809d8e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0a5f79f6-79e1-4c5e-8201-2c89f4ec9e37-attachment.txt", "type": "text/plain"}], "start": 1761905130205, "stop": 1761905130259}], "attachments": [{"name": "查询条件", "source": "cebc26b0-639c-4ae8-ae32-c405ec1546c4-attachment.txt", "type": "text/plain"}], "start": 1761905130204, "stop": 1761905130259}, {"name": "轮询中（已等待25.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "32d62c62-0f2f-4ea6-b971-cf7cf194e2fe-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1340d2f1-c53c-429e-89c3-ad57b21f46e2-attachment.txt", "type": "text/plain"}], "start": 1761905130259, "stop": 1761905130259}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0e475aab-aa01-4275-868d-e471f756950b-attachment.txt", "type": "text/plain"}], "start": 1761905130259, "stop": 1761905130260}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "13068d93-17fe-45c1-92d2-37a3b11f7b01-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b4f43269-1572-4cc5-8fc9-42554541618b-attachment.txt", "type": "text/plain"}], "start": 1761905132308, "stop": 1761905132356}], "attachments": [{"name": "查询条件", "source": "430047bb-30dc-4049-b7f5-412894669c6e-attachment.txt", "type": "text/plain"}], "start": 1761905132308, "stop": 1761905132356}, {"name": "轮询中（已等待27.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "72ca39c8-132f-4651-b976-c8ba9c97b4a4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d13d3d1f-ebff-4dab-b11d-2ca4a0a624d4-attachment.txt", "type": "text/plain"}], "start": 1761905132356, "stop": 1761905132357}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a9b30ea9-2922-42a2-b003-5a904b540dd8-attachment.txt", "type": "text/plain"}], "start": 1761905132357, "stop": 1761905132357}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4ad5b70d-ad85-4d2f-9a57-3dd4a96ccecc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9eb29fda-0a78-4ac0-9b74-7e18d32de696-attachment.txt", "type": "text/plain"}], "start": 1761905134424, "stop": 1761905134473}], "attachments": [{"name": "查询条件", "source": "df967d10-3387-4103-8410-3a671576b3d2-attachment.txt", "type": "text/plain"}], "start": 1761905134423, "stop": 1761905134473}, {"name": "轮询中（已等待29.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6d3e4a52-38ca-43b7-854a-380bdd9251bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "deb29453-b314-4348-9ae2-36fdeff5d527-attachment.txt", "type": "text/plain"}], "start": 1761905134473, "stop": 1761905134475}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "6ab1a00f-d57e-4953-b68c-477a75b7f1ff-attachment.txt", "type": "text/plain"}], "start": 1761905134475, "stop": 1761905134475}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "2bc1827f-6bbe-4d7c-849a-99ac7d87f6a9-attachment.txt", "type": "text/plain"}], "start": 1761905136475, "stop": 1761905136476}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "d9630d4b-b063-4ce7-b554-9cc56cee9164-attachment.json", "type": "application/json"}], "start": 1761905136526, "stop": 1761905136527}], "attachments": [{"name": "执行SQL", "source": "76344a18-18d9-4b2d-a531-18e24a4b987e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1c58df5a-3f6b-48de-a82a-27e017a166f5-attachment.txt", "type": "text/plain"}], "start": 1761905136477, "stop": 1761905136527}], "attachments": [{"name": "查询条件", "source": "f94a7286-687c-449e-adbf-3a461a4008bd-attachment.txt", "type": "text/plain"}], "start": 1761905136476, "stop": 1761905136527}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "eb9d5949-3614-48f4-b6df-876f993a3e20-attachment.json", "type": "application/json"}], "start": 1761905136527, "stop": 1761905136528}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "9ed18be1-7960-47c8-ae61-4e7bb33a2073-attachment.txt", "type": "text/plain"}], "start": 1761905136528, "stop": 1761905136528}], "attachments": [{"name": "执行SQL", "source": "c61d8911-736b-4fa3-bda7-139f5b21a9cd-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a9b23a29-00da-4ad6-8152-b459ce1f8391-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "30efd719-2bc8-49d3-ae30-ad4bfe14b722-attachment.txt", "type": "text/plain"}], "start": 1761905104596, "stop": 1761905136528}], "start": 1761905104596, "stop": 1761905136529}], "attachments": [{"name": "log", "source": "a45aafb2-73cb-430a-bb59-3aec4a4e4aaf-attachment.txt", "type": "text/plain"}], "start": 1761905104595, "stop": 1761905136529, "uuid": "a8bd8000-aaf1-41e3-8c49-17899049a027", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "20300-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}