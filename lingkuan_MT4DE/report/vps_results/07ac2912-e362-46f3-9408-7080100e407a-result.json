{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x000001F7177CDEE0>\nvar_manager = <lingkuan_MT4DE.commons.variable_manager.VariableManager object at 0x000001F7178AB4F0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001F7178A59A0>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        vps_user_count = var_manager.get_variable(\"vps_user_count\", 0)\n        if vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应vps_user_accounts_2到vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x000001F7177CDEE0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001F7178A59A0>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('31493',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（31493）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "96d16484-1cdf-4b1a-bb7b-a13c64f889ab-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a57b2241-04ca-4a63-8e18-d76d25c0134c-attachment.txt", "type": "text/plain"}], "start": 1762138279294, "stop": 1762138279343}], "attachments": [{"name": "查询条件", "source": "0b1796fb-ecf9-4378-ba13-9c67ee9db22b-attachment.txt", "type": "text/plain"}], "start": 1762138279293, "stop": 1762138279343}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "abd60d9d-e643-46f2-9e93-efbe4b2684f5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "74c82324-fe71-4cac-aac5-d33abc21264c-attachment.txt", "type": "text/plain"}], "start": 1762138279343, "stop": 1762138279344}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "597afe81-ff03-4006-ba18-859a3a2b27a3-attachment.txt", "type": "text/plain"}], "start": 1762138279344, "stop": 1762138279345}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6b025fc0-0f5b-4b7d-824e-4543ec2ddca4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "dac59c22-86a8-47e6-a51d-b935a73951c3-attachment.txt", "type": "text/plain"}], "start": 1762138281400, "stop": 1762138281450}], "attachments": [{"name": "查询条件", "source": "0ac63bc2-1a24-443d-b4c8-d701ad38c927-attachment.txt", "type": "text/plain"}], "start": 1762138281400, "stop": 1762138281450}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e5b5aacc-bd9b-4b6f-803d-e950a4e19649-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b8f1180b-7846-4304-b4e1-86961337e5b0-attachment.txt", "type": "text/plain"}], "start": 1762138281450, "stop": 1762138281450}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d92a4d58-6a87-43ce-86f1-e749370f070d-attachment.txt", "type": "text/plain"}], "start": 1762138281450, "stop": 1762138281451}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "995c6aac-c688-4e10-a191-d318506e83b3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a36b1629-6b68-4a89-beef-9d36c0b369d5-attachment.txt", "type": "text/plain"}], "start": 1762138283509, "stop": 1762138283566}], "attachments": [{"name": "查询条件", "source": "054d57ab-afcd-49bb-8e30-31b87b237757-attachment.txt", "type": "text/plain"}], "start": 1762138283509, "stop": 1762138283567}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a39b000b-0352-4c78-b13b-030e504143f0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cfa42a3e-fc02-4360-b53b-686fe50b5035-attachment.txt", "type": "text/plain"}], "start": 1762138283567, "stop": 1762138283567}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "84c52063-de9b-40a5-85ea-efa6b1cef9f4-attachment.txt", "type": "text/plain"}], "start": 1762138283567, "stop": 1762138283568}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "720fc9c3-e9f9-4634-a2ff-e2a4539f3066-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3c5d9cca-a1fd-4bf2-9714-526f8bd7b67d-attachment.txt", "type": "text/plain"}], "start": 1762138285630, "stop": 1762138285680}], "attachments": [{"name": "查询条件", "source": "b48be300-fd3d-4fc9-aa40-4ace4db674a1-attachment.txt", "type": "text/plain"}], "start": 1762138285630, "stop": 1762138285680}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "00ee3470-fb23-4860-960d-79b8988b64a8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "24cab3f1-d432-4a50-b7fe-92d5a7b5b1c5-attachment.txt", "type": "text/plain"}], "start": 1762138285680, "stop": 1762138285681}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9e2d0b06-7638-4966-8f8f-5a018ace1a87-attachment.txt", "type": "text/plain"}], "start": 1762138285681, "stop": 1762138285681}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2274315c-d391-4fdc-b3d0-dddbbc6e9707-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f5bd3e2b-7428-41d8-ad15-59288d2a9da3-attachment.txt", "type": "text/plain"}], "start": 1762138287732, "stop": 1762138287781}], "attachments": [{"name": "查询条件", "source": "f4b29b30-e5e7-4e56-8ad3-831a9399195d-attachment.txt", "type": "text/plain"}], "start": 1762138287731, "stop": 1762138287781}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4a32038f-bed2-4289-9951-c8f9ddc38e2a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0a99de4f-d23a-4563-9d9d-fed1591f8e53-attachment.txt", "type": "text/plain"}], "start": 1762138287781, "stop": 1762138287782}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "02eddf9a-8b26-4793-bc94-9971093f1d39-attachment.txt", "type": "text/plain"}], "start": 1762138287782, "stop": 1762138287782}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "334cf842-5cc9-4f47-b39d-b7a28847361d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fc5c8f91-7f5e-4325-b18f-81c79676e5b8-attachment.txt", "type": "text/plain"}], "start": 1762138289835, "stop": 1762138289886}], "attachments": [{"name": "查询条件", "source": "77b38d5f-2886-4a63-98b2-09109ea6461d-attachment.txt", "type": "text/plain"}], "start": 1762138289834, "stop": 1762138289886}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f9bee863-aa06-472e-8e1b-820f258a505f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "83e0e739-f8a6-4976-a3c1-38458b8509e7-attachment.txt", "type": "text/plain"}], "start": 1762138289886, "stop": 1762138289887}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a730d7a7-934f-4fb2-95d2-b41b91e0a80b-attachment.txt", "type": "text/plain"}], "start": 1762138289887, "stop": 1762138289887}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6cb4dc12-c625-4b77-a207-829206d4e504-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1d56b053-df18-4c2b-97f3-df972f10d563-attachment.txt", "type": "text/plain"}], "start": 1762138291950, "stop": 1762138292009}], "attachments": [{"name": "查询条件", "source": "1fe9fba2-af79-4eb7-92b1-1eb9fe1d0093-attachment.txt", "type": "text/plain"}], "start": 1762138291950, "stop": 1762138292009}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "90af8f8a-9a3c-4f19-a4bc-03f089bb56b2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a4f8c505-5473-431f-8148-e78e64080d48-attachment.txt", "type": "text/plain"}], "start": 1762138292009, "stop": 1762138292009}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "134480de-a8e3-4f96-99fa-dd1f6ebcf69e-attachment.txt", "type": "text/plain"}], "start": 1762138292010, "stop": 1762138292010}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8fd54b42-e5f6-4d77-9e5c-0cdada747856-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0731a9f9-8756-48bb-b671-ecaf9d9114b2-attachment.txt", "type": "text/plain"}], "start": 1762138294073, "stop": 1762138294131}], "attachments": [{"name": "查询条件", "source": "e11cd025-6ff0-4a1c-8f04-11442623b19a-attachment.txt", "type": "text/plain"}], "start": 1762138294073, "stop": 1762138294131}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "16d55966-fa9f-446d-adb2-06cde8c18cc7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ffd1b858-fd60-4f5a-b90d-b1bd1bf24ac7-attachment.txt", "type": "text/plain"}], "start": 1762138294131, "stop": 1762138294132}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ccb9f4a7-8522-4e7e-ac93-5bd708369022-attachment.txt", "type": "text/plain"}], "start": 1762138294132, "stop": 1762138294132}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fff83531-f29c-4eea-80f6-c23467ac5eef-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0e72c7e8-8a0a-43fb-b496-20936a2072c1-attachment.txt", "type": "text/plain"}], "start": 1762138296185, "stop": 1762138296234}], "attachments": [{"name": "查询条件", "source": "f45b8d31-e911-417e-84d4-e7677fddb7d4-attachment.txt", "type": "text/plain"}], "start": 1762138296184, "stop": 1762138296234}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ca1dd289-2e00-4363-8ebb-24f1a0b10e59-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2da6d749-42ca-4b9d-b86e-83e60330a1ea-attachment.txt", "type": "text/plain"}], "start": 1762138296234, "stop": 1762138296234}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8927581c-94cd-4d71-b62e-757e7e17be4c-attachment.txt", "type": "text/plain"}], "start": 1762138296234, "stop": 1762138296235}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3413df57-7834-4d73-a63e-5b0363751219-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7d04fbd4-39f5-49ac-b0c1-fb14e1324f1e-attachment.txt", "type": "text/plain"}], "start": 1762138298301, "stop": 1762138298357}], "attachments": [{"name": "查询条件", "source": "fb9b4cdf-2f40-44c5-a643-8aeca32df2e5-attachment.txt", "type": "text/plain"}], "start": 1762138298299, "stop": 1762138298357}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6cd7ea98-2f61-43d9-9718-d79fbd4b1423-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e9187939-611a-4bc4-bd94-7cc6aee03a24-attachment.txt", "type": "text/plain"}], "start": 1762138298357, "stop": 1762138298358}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4e55c333-26ce-467f-9fd2-7eefc89bcd1e-attachment.txt", "type": "text/plain"}], "start": 1762138298358, "stop": 1762138298359}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "12917304-253c-448b-84fc-0b96cb89574a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "171ecb47-36a5-4c5a-b225-fcccbdccd52b-attachment.txt", "type": "text/plain"}], "start": 1762138300422, "stop": 1762138300477}], "attachments": [{"name": "查询条件", "source": "4a7c9145-6df5-4a52-b75e-14c498310a47-attachment.txt", "type": "text/plain"}], "start": 1762138300421, "stop": 1762138300477}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f531c5ca-b2e2-4a07-9f64-bf5af372222b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "00b8d0f8-23b9-47ac-aa76-16d79e3f2bab-attachment.txt", "type": "text/plain"}], "start": 1762138300477, "stop": 1762138300478}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8895218c-cf12-4d18-af28-d4831f7a7c1c-attachment.txt", "type": "text/plain"}], "start": 1762138300478, "stop": 1762138300479}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "28e84669-4a84-49ab-b1cf-0fa7763773a0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "dd7113aa-f584-43aa-945a-cea09c181c1c-attachment.txt", "type": "text/plain"}], "start": 1762138302537, "stop": 1762138302599}], "attachments": [{"name": "查询条件", "source": "d63dd089-410f-44db-ba67-362a766ad9c8-attachment.txt", "type": "text/plain"}], "start": 1762138302536, "stop": 1762138302599}, {"name": "轮询中（已等待23.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "eb2e637b-0253-4285-b3c4-426842144814-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1c588dd0-76c7-49eb-ae8b-86eeee210dde-attachment.txt", "type": "text/plain"}], "start": 1762138302599, "stop": 1762138302600}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "660979fc-2532-43a0-a555-348837912317-attachment.txt", "type": "text/plain"}], "start": 1762138302600, "stop": 1762138302600}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "74fc5f56-6e86-453d-b506-91bbb8cee3e9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e1c26da6-10e8-45ed-947c-6981c8d77984-attachment.txt", "type": "text/plain"}], "start": 1762138304663, "stop": 1762138304713}], "attachments": [{"name": "查询条件", "source": "b6f87592-77aa-4ae4-9cb5-6b889adff552-attachment.txt", "type": "text/plain"}], "start": 1762138304663, "stop": 1762138304713}, {"name": "轮询中（已等待25.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8403edc7-b848-4f86-aaae-681a864aa3d4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9f937114-4336-44fa-aa70-02bd65f92752-attachment.txt", "type": "text/plain"}], "start": 1762138304713, "stop": 1762138304714}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b1540ac6-cb8d-4f5f-8920-af7b801f890c-attachment.txt", "type": "text/plain"}], "start": 1762138304714, "stop": 1762138304714}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9d77cb0b-7b41-4b7b-8c16-3de2925f56d8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "16738e87-a8b7-4411-9aff-97c099ab2460-attachment.txt", "type": "text/plain"}], "start": 1762138306777, "stop": 1762138306828}], "attachments": [{"name": "查询条件", "source": "5152965f-931f-46d1-8d87-f6fc8ab8288e-attachment.txt", "type": "text/plain"}], "start": 1762138306777, "stop": 1762138306828}, {"name": "轮询中（已等待27.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e167cd89-cbb3-4552-b488-8501e6d6a32b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "36a08078-4715-40a1-9c37-051e49ad4104-attachment.txt", "type": "text/plain"}], "start": 1762138306828, "stop": 1762138306829}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "7dd52fe2-d6bd-4b4c-b71a-f9d342d09b0d-attachment.txt", "type": "text/plain"}], "start": 1762138306829, "stop": 1762138306830}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c364d9ff-3586-4814-b985-ba513520abbd-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "06be805b-fc64-45d1-bf44-ca597669a2f1-attachment.txt", "type": "text/plain"}], "start": 1762138308892, "stop": 1762138308943}], "attachments": [{"name": "查询条件", "source": "9908c94b-2a36-4a81-b01e-fce39808a336-attachment.txt", "type": "text/plain"}], "start": 1762138308892, "stop": 1762138308943}, {"name": "轮询中（已等待29.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9f9a6e8c-8e3d-4ebb-81aa-2d29380efbba-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3d36ae18-92fc-45b4-89d7-a6a86792c02b-attachment.txt", "type": "text/plain"}], "start": 1762138308943, "stop": 1762138308944}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "faf432c1-c04c-4548-9863-9a729f7a7830-attachment.txt", "type": "text/plain"}], "start": 1762138308944, "stop": 1762138308944}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "da776b2f-a3ff-437d-ab58-61997e5e0c56-attachment.txt", "type": "text/plain"}], "start": 1762138310945, "stop": 1762138310946}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "90e5a4ce-bbad-4e85-a102-550805251e4c-attachment.json", "type": "application/json"}], "start": 1762138310995, "stop": 1762138310996}], "attachments": [{"name": "执行SQL", "source": "3e6a8e92-82b4-4968-bdeb-d4b48eabb62c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e9a983f0-7f3e-4eb4-b14c-9bc6b8d71f50-attachment.txt", "type": "text/plain"}], "start": 1762138310946, "stop": 1762138310996}], "attachments": [{"name": "查询条件", "source": "4c1d9b5c-dcb1-4e7c-b6b5-cbc706923632-attachment.txt", "type": "text/plain"}], "start": 1762138310946, "stop": 1762138310996}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "c05f542d-14d1-4883-82bf-b30039dc3409-attachment.json", "type": "application/json"}], "start": 1762138310996, "stop": 1762138310996}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "64a6c5a2-d2f5-47d9-8c3b-c1b7cbdc947a-attachment.txt", "type": "text/plain"}], "start": 1762138310996, "stop": 1762138310996}], "attachments": [{"name": "执行SQL", "source": "74d9266d-ccc9-4acf-bd85-e75987a080d0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a2d8d156-bfdf-49e8-996c-46b3738c06f6-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "71db2c6f-75cb-4bf4-9fbf-0414741eaf26-attachment.txt", "type": "text/plain"}], "start": 1762138279245, "stop": 1762138310996}], "start": 1762138279244, "stop": 1762138310997}], "attachments": [{"name": "log", "source": "690dbffd-215d-444e-a99b-591253637ad5-attachment.txt", "type": "text/plain"}], "start": 1762138279244, "stop": 1762138310997, "uuid": "0f6ffa61-5a06-406e-bac9-091719bc9c14", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "16048-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}