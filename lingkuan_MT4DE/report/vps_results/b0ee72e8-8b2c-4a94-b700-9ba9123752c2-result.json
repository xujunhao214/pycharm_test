{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x000001BD3EACEFA0>\nvar_manager = <lingkuan_MT4DE.commons.variable_manager.VariableManager object at 0x000001BD3EA22040>\ndb_transaction = <pymysql.connections.Connection object at 0x000001BD3EA86C40>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        vps_user_count = var_manager.get_variable(\"vps_user_count\", 0)\n        if vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应vps_user_accounts_2到vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x000001BD3EACEFA0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001BD3EA86C40>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('31493',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（31493）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1610b0be-dd13-476d-8d84-57569a201a87-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "35ec0213-6bd7-4a47-a51a-ea92e6e18cca-attachment.txt", "type": "text/plain"}], "start": 1761893111353, "stop": 1761893111401}], "attachments": [{"name": "查询条件", "source": "a3665236-c539-4d2f-b365-bd0fdb112ff9-attachment.txt", "type": "text/plain"}], "start": 1761893111352, "stop": 1761893111401}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d9c1e88a-1d0e-461f-a707-c9d8751a3a69-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ea9fe56c-6e12-4a24-b8c6-dc788aa0b5b6-attachment.txt", "type": "text/plain"}], "start": 1761893111401, "stop": 1761893111402}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "df305f11-3f32-4321-b669-35c84c1bfbc5-attachment.txt", "type": "text/plain"}], "start": 1761893111402, "stop": 1761893111402}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6ceddcee-4193-4b40-ab47-77a26a515363-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "86faab7e-e5cb-4ecf-b16f-3fd107824c76-attachment.txt", "type": "text/plain"}], "start": 1761893113462, "stop": 1761893113510}], "attachments": [{"name": "查询条件", "source": "92b9035d-1663-4c6d-b202-801cfcde7060-attachment.txt", "type": "text/plain"}], "start": 1761893113462, "stop": 1761893113510}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6a627eec-4d39-45fd-bfb7-69d4fcd1ef41-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bb2fc9c2-4bfa-4db5-bdbe-85e8bece06de-attachment.txt", "type": "text/plain"}], "start": 1761893113510, "stop": 1761893113511}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4741a581-62d2-4053-a4a7-98c0123ca28a-attachment.txt", "type": "text/plain"}], "start": 1761893113511, "stop": 1761893113511}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b0bc6aa3-03b2-4bb6-81c8-20a3e05e9871-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fc1d915a-2a37-4479-8609-850526ff3ba8-attachment.txt", "type": "text/plain"}], "start": 1761893115568, "stop": 1761893115618}], "attachments": [{"name": "查询条件", "source": "26b77c6f-607c-4422-804b-09262ecb2cd3-attachment.txt", "type": "text/plain"}], "start": 1761893115568, "stop": 1761893115618}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dda74a44-cc22-4743-a99c-49d1214b212a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3e56c8ae-e7c9-46cd-bfd5-b8a20436be88-attachment.txt", "type": "text/plain"}], "start": 1761893115618, "stop": 1761893115619}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "bedfd884-f76b-40ff-82f6-e77d3e988809-attachment.txt", "type": "text/plain"}], "start": 1761893115619, "stop": 1761893115619}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ea83eae6-a476-489a-bb24-7957b0117c5c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a7795184-b378-4e50-9998-9099f8d97222-attachment.txt", "type": "text/plain"}], "start": 1761893117674, "stop": 1761893117726}], "attachments": [{"name": "查询条件", "source": "e4b46f97-6959-4d76-b66d-21d052783978-attachment.txt", "type": "text/plain"}], "start": 1761893117673, "stop": 1761893117726}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f1a835e5-3ba1-41d2-b8f8-89b525cefbc9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "55e2e9c7-8159-4b33-ac53-0f2d7783a28f-attachment.txt", "type": "text/plain"}], "start": 1761893117726, "stop": 1761893117727}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2dc60796-8f3b-44ec-9973-f243e5f19085-attachment.txt", "type": "text/plain"}], "start": 1761893117728, "stop": 1761893117728}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "88299919-19f7-474e-9541-34a6a9bbf034-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c3a3348d-e93f-42f6-ac50-a2235969bafc-attachment.txt", "type": "text/plain"}], "start": 1761893119777, "stop": 1761893119833}], "attachments": [{"name": "查询条件", "source": "1abf1411-b41f-4a15-8152-245fb49f332e-attachment.txt", "type": "text/plain"}], "start": 1761893119776, "stop": 1761893119833}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "757a618e-2d7d-470a-a68b-7f05038c641a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4c2aab87-56b5-4e78-968a-fb1fa9204a0d-attachment.txt", "type": "text/plain"}], "start": 1761893119833, "stop": 1761893119834}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ecb09a99-7aa1-42c0-8722-847a831fa9dc-attachment.txt", "type": "text/plain"}], "start": 1761893119834, "stop": 1761893119835}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f3702667-abf9-482b-aa6f-b90f7d71305e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d5569bbf-6766-4f21-afb8-6eb9cbe1f292-attachment.txt", "type": "text/plain"}], "start": 1761893121894, "stop": 1761893121945}], "attachments": [{"name": "查询条件", "source": "25930867-b285-47db-a8e0-e260a19e255e-attachment.txt", "type": "text/plain"}], "start": 1761893121892, "stop": 1761893121945}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bdf95585-4087-4a3e-9040-cd728696d23a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "32d014a9-45b9-4552-ac40-2fa971f4660c-attachment.txt", "type": "text/plain"}], "start": 1761893121945, "stop": 1761893121946}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4f882baa-4f31-4240-a2c8-c19fac0a8932-attachment.txt", "type": "text/plain"}], "start": 1761893121947, "stop": 1761893121948}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3d03f0bc-3763-4dbd-83a8-f469147f67f3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8ae9438e-1acb-4a18-a852-2e1b17f65074-attachment.txt", "type": "text/plain"}], "start": 1761893124004, "stop": 1761893124055}], "attachments": [{"name": "查询条件", "source": "92fc6510-3a6b-4e3a-b576-ebc22939e80e-attachment.txt", "type": "text/plain"}], "start": 1761893124003, "stop": 1761893124055}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "16e65da3-c891-4be3-a99b-f2f519c1cbba-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8b4e421a-585d-4205-aaa6-921850ce719c-attachment.txt", "type": "text/plain"}], "start": 1761893124055, "stop": 1761893124057}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ec8a751e-cb0a-4972-8d59-2b696c118336-attachment.txt", "type": "text/plain"}], "start": 1761893124057, "stop": 1761893124057}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f0879c1a-12b4-46cb-8bb2-ea9c03a175a1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "80d42118-c263-47c5-91a4-3a1fd8d99362-attachment.txt", "type": "text/plain"}], "start": 1761893126111, "stop": 1761893126323}], "attachments": [{"name": "查询条件", "source": "be480cd4-156f-4405-abdf-3eb4643369d1-attachment.txt", "type": "text/plain"}], "start": 1761893126110, "stop": 1761893126323}, {"name": "轮询中（已等待15.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "28e343a3-70d8-4e95-85f2-eaccb35e7242-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "88bf83ce-d5c5-4416-a529-ab5fac976fd8-attachment.txt", "type": "text/plain"}], "start": 1761893126323, "stop": 1761893126325}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "3ecabef5-5ffc-4307-aac6-c30b4d7f3c4a-attachment.txt", "type": "text/plain"}], "start": 1761893126325, "stop": 1761893126326}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4b47ba05-8cc8-493a-9269-e72590b36893-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b87e2649-180e-4f9f-84bb-83652a5a48a3-attachment.txt", "type": "text/plain"}], "start": 1761893128384, "stop": 1761893128434}], "attachments": [{"name": "查询条件", "source": "c35566ae-77f3-46d4-9fe9-fa86845014a8-attachment.txt", "type": "text/plain"}], "start": 1761893128383, "stop": 1761893128434}, {"name": "轮询中（已等待17.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cdfc832c-fcf4-406f-bb2b-4986129d4332-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a70ebb78-2c82-444a-92c7-cb65350de60c-attachment.txt", "type": "text/plain"}], "start": 1761893128434, "stop": 1761893128435}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "43103848-d895-400b-a3e3-3aa2142ac1c1-attachment.txt", "type": "text/plain"}], "start": 1761893128435, "stop": 1761893128436}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "434517e6-8c22-47f4-973d-f82f9101bd5b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e79ea7f4-879b-4be1-8a12-953bd6190213-attachment.txt", "type": "text/plain"}], "start": 1761893130499, "stop": 1761893130549}], "attachments": [{"name": "查询条件", "source": "e28995fc-daaf-4f66-923b-bd9acd0e5983-attachment.txt", "type": "text/plain"}], "start": 1761893130498, "stop": 1761893130549}, {"name": "轮询中（已等待19.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b1209649-094a-4274-a351-0349ca728c70-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f1641361-0a6d-4022-bd03-4b7d53a0f2f4-attachment.txt", "type": "text/plain"}], "start": 1761893130549, "stop": 1761893130551}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "51aa507f-ea6a-4e92-b0e0-296291f0510f-attachment.txt", "type": "text/plain"}], "start": 1761893130551, "stop": 1761893130551}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c22d050e-f947-4d96-80b1-7d533841e159-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3be455aa-66a1-4c9a-9183-a107c6f868da-attachment.txt", "type": "text/plain"}], "start": 1761893132610, "stop": 1761893132833}], "attachments": [{"name": "查询条件", "source": "6308c4a7-04d6-400e-8431-83b6426c918b-attachment.txt", "type": "text/plain"}], "start": 1761893132609, "stop": 1761893132833}, {"name": "轮询中（已等待21.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "374068ad-9cc7-4b83-9e10-5e2c717faf73-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "834c2cd5-7d37-4487-974e-d765eaab92ed-attachment.txt", "type": "text/plain"}], "start": 1761893132833, "stop": 1761893132835}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "18ec02c3-b54e-48cd-9fc5-e4a3a3df4f3e-attachment.txt", "type": "text/plain"}], "start": 1761893132835, "stop": 1761893132836}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ea07452e-6d20-4355-8e1a-a31f2d79df87-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5e1796de-dd9c-4a15-bf0f-172fcb700dd1-attachment.txt", "type": "text/plain"}], "start": 1761893134886, "stop": 1761893135222}], "attachments": [{"name": "查询条件", "source": "b420582e-273c-4938-98bd-d23f806d8668-attachment.txt", "type": "text/plain"}], "start": 1761893134885, "stop": 1761893135222}, {"name": "轮询中（已等待23.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "babedb36-fe16-4187-aeca-fb2a1d30b870-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c1598408-0a41-4d55-b3ed-7b13c958944b-attachment.txt", "type": "text/plain"}], "start": 1761893135222, "stop": 1761893135223}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "08f2ba21-3207-4370-b78c-d4ed211740df-attachment.txt", "type": "text/plain"}], "start": 1761893135223, "stop": 1761893135224}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "88715b3c-75f7-4d71-9ca5-c41e920aa154-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1e8856cf-ab41-470a-8344-b4f1ca393217-attachment.txt", "type": "text/plain"}], "start": 1761893137277, "stop": 1761893137606}], "attachments": [{"name": "查询条件", "source": "17018083-3649-4876-a557-9aaed4c6a761-attachment.txt", "type": "text/plain"}], "start": 1761893137276, "stop": 1761893137606}, {"name": "轮询中（已等待26.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e2c49146-1339-4985-b1ff-4d76750b55c8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2217c23b-7183-486b-8b7d-053d17212534-attachment.txt", "type": "text/plain"}], "start": 1761893137606, "stop": 1761893137607}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "52d3e81c-c1f2-4ae1-9ee5-1de2460b5cd0-attachment.txt", "type": "text/plain"}], "start": 1761893137607, "stop": 1761893137608}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "69b2c961-3fb6-40ef-90c2-0b1e70be8f69-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1b452165-af3f-498a-9088-b5a900c5bfc8-attachment.txt", "type": "text/plain"}], "start": 1761893139658, "stop": 1761893139753}], "attachments": [{"name": "查询条件", "source": "16e58230-0c69-4418-b486-6f3cf681419e-attachment.txt", "type": "text/plain"}], "start": 1761893139657, "stop": 1761893139753}, {"name": "轮询中（已等待28.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3d0a48ce-8f3f-43cf-b98d-bfbd41009756-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "082a6b22-061b-427d-8f57-54530c557565-attachment.txt", "type": "text/plain"}], "start": 1761893139753, "stop": 1761893139754}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ee634ea4-92c6-4032-bc8f-1d73f9301042-attachment.txt", "type": "text/plain"}], "start": 1761893139754, "stop": 1761893139755}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "8c83d2b3-150a-4945-80cf-91afe62bcbbf-attachment.txt", "type": "text/plain"}], "start": 1761893141755, "stop": 1761893141757}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "ef897e98-dc69-4828-8490-ce1ac6610ec0-attachment.json", "type": "application/json"}], "start": 1761893141808, "stop": 1761893141810}], "attachments": [{"name": "执行SQL", "source": "8b780128-5558-42c6-8e83-4546a258733d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b32a1cfc-cade-499a-905f-a6f8c2ad4572-attachment.txt", "type": "text/plain"}], "start": 1761893141757, "stop": 1761893141810}], "attachments": [{"name": "查询条件", "source": "271768d5-b937-4240-9e53-b300fb95fafa-attachment.txt", "type": "text/plain"}], "start": 1761893141757, "stop": 1761893141810}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "194e6d35-3c99-4216-8871-30600c32521b-attachment.json", "type": "application/json"}], "start": 1761893141810, "stop": 1761893141810}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "48d75258-a4d3-4dcc-ad95-21d94773c202-attachment.txt", "type": "text/plain"}], "start": 1761893141810, "stop": 1761893141811}], "attachments": [{"name": "执行SQL", "source": "2d9afa93-e0f2-4f76-91e5-21fc2e13994e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9c18ef8d-bf09-48a0-8156-63c3176cda98-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "193922f3-5a3d-4c5d-bec0-845bf058dd80-attachment.txt", "type": "text/plain"}], "start": 1761893111304, "stop": 1761893141811}], "start": 1761893111304, "stop": 1761893141812}], "attachments": [{"name": "log", "source": "7f17e523-1101-4f11-9342-6fd00635ef30-attachment.txt", "type": "text/plain"}], "start": 1761893111304, "stop": 1761893141813, "uuid": "3d009bfa-6fd0-4ff2-b492-5f489aa6a020", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "25024-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}