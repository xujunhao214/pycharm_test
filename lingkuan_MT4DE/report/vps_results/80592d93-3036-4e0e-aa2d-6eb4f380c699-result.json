{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x00000196FD2006A0>\nvar_manager = <lingkuan_MT4DE.commons.variable_manager.VariableManager object at 0x00000196FD312910>\ndb_transaction = <pymysql.connections.Connection object at 0x00000196FD371D90>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        vps_user_count = var_manager.get_variable(\"vps_user_count\", 0)\n        if vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应vps_user_accounts_2到vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT4DE.test_vps.test_create_scene.TestCreate_Scene object at 0x00000196FD2006A0>\ndb_transaction = <pymysql.connections.Connection object at 0x00000196FD371D90>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('31493',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（31493）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT4DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6f5e17e2-9205-4de3-bd8f-336580fd5a7a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1713065d-3646-4325-ab02-25e919bf49ff-attachment.txt", "type": "text/plain"}], "start": 1761631520623, "stop": 1761631520674}], "attachments": [{"name": "查询条件", "source": "88889c58-0cc3-4830-b4d8-2eb08a309346-attachment.txt", "type": "text/plain"}], "start": 1761631520622, "stop": 1761631520675}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "11858190-3ed2-4a2a-aeb5-cb52970b3a4a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4a8d0bb6-e0c5-4ed5-bb39-78760d5fde79-attachment.txt", "type": "text/plain"}], "start": 1761631520675, "stop": 1761631520676}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c3e5e95d-33f3-479b-8b1b-4aac81c68d25-attachment.txt", "type": "text/plain"}], "start": 1761631520676, "stop": 1761631520676}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "551b012c-ddc3-49e1-845d-1b57567b8016-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e5356531-a2e3-411a-9440-22b43db4a948-attachment.txt", "type": "text/plain"}], "start": 1761631522738, "stop": 1761631522790}], "attachments": [{"name": "查询条件", "source": "71ff0615-dabc-46cc-8bcc-65042036abbc-attachment.txt", "type": "text/plain"}], "start": 1761631522737, "stop": 1761631522790}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5d566b3d-49b2-4978-8c76-aaf698d74f04-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6670140e-f7df-4a37-bb81-ab4fafe756c9-attachment.txt", "type": "text/plain"}], "start": 1761631522790, "stop": 1761631522791}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2e7eb17f-b7be-475d-b578-fbbd3a81c2a4-attachment.txt", "type": "text/plain"}], "start": 1761631522791, "stop": 1761631522791}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5173b6db-1793-4b17-b47d-a6c4b84f8be3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4cb22ca0-8157-42b7-b135-a6e1d5ebf9c8-attachment.txt", "type": "text/plain"}], "start": 1761631524857, "stop": 1761631524910}], "attachments": [{"name": "查询条件", "source": "45b4f611-b6f8-4ffd-8e6e-168eb46116cc-attachment.txt", "type": "text/plain"}], "start": 1761631524856, "stop": 1761631524910}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f9545527-8f3a-4069-ad28-040ab6fafb79-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "96c3de50-e7fd-409c-ba35-fc484f315ce6-attachment.txt", "type": "text/plain"}], "start": 1761631524910, "stop": 1761631524911}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "63ff0582-d066-4b35-b33f-05e4f532f18d-attachment.txt", "type": "text/plain"}], "start": 1761631524911, "stop": 1761631524911}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ca9760f4-7154-493c-9ecc-56d90e0eeb0d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fdc05a37-9120-415a-8e54-cc05360179d4-attachment.txt", "type": "text/plain"}], "start": 1761631526978, "stop": 1761631527029}], "attachments": [{"name": "查询条件", "source": "0de54e32-116a-482b-867b-4f4c83d3a3a9-attachment.txt", "type": "text/plain"}], "start": 1761631526977, "stop": 1761631527029}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f26febf3-bd28-4b43-89f3-a5b36440c435-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2e728ce0-94ee-4442-bda3-1ae006034621-attachment.txt", "type": "text/plain"}], "start": 1761631527029, "stop": 1761631527030}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "01909b61-6600-462f-861b-b86474468df4-attachment.txt", "type": "text/plain"}], "start": 1761631527030, "stop": 1761631527030}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1fdf1c7d-5e65-4c42-978b-cd3599817df2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d9c3aa41-e6a4-46a1-810b-938cdb02846b-attachment.txt", "type": "text/plain"}], "start": 1761631529091, "stop": 1761631529143}], "attachments": [{"name": "查询条件", "source": "8c83d9de-c191-4425-a112-d50407364ab6-attachment.txt", "type": "text/plain"}], "start": 1761631529090, "stop": 1761631529143}, {"name": "轮询中（已等待8.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fae8db0e-3e08-4323-aa28-94b45a33b480-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cb9f1196-bf42-493b-aec7-e365d75c9d49-attachment.txt", "type": "text/plain"}], "start": 1761631529143, "stop": 1761631529144}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2dc6f54d-c6bc-465a-95ab-6da576ddbc33-attachment.txt", "type": "text/plain"}], "start": 1761631529144, "stop": 1761631529145}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0f02358a-a08d-4606-bf49-9d68eb183cf3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "75dea78c-264e-422d-b2e3-087ea768ddb7-attachment.txt", "type": "text/plain"}], "start": 1761631531206, "stop": 1761631531262}], "attachments": [{"name": "查询条件", "source": "d3ec35cc-9687-412d-ac63-0847aac3475c-attachment.txt", "type": "text/plain"}], "start": 1761631531205, "stop": 1761631531262}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "68d1ed95-d57c-41b6-ae40-f0227c8e2346-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ded49a96-55ae-4e25-90d9-451dd2dd243c-attachment.txt", "type": "text/plain"}], "start": 1761631531262, "stop": 1761631531264}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "faf4aab6-e0be-4b37-8b59-75926faea50e-attachment.txt", "type": "text/plain"}], "start": 1761631531264, "stop": 1761631531265}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f20fa33c-8a29-42dd-8f6f-213d5d7a4744-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "27c6f8f5-f68f-4c02-ae03-2f3c8ac812e6-attachment.txt", "type": "text/plain"}], "start": 1761631533323, "stop": 1761631533376}], "attachments": [{"name": "查询条件", "source": "b7b9e5f3-7fd1-4f5a-a9b2-2f625e20f8a0-attachment.txt", "type": "text/plain"}], "start": 1761631533323, "stop": 1761631533376}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f5e95e72-ec34-4584-9eb6-776c8f8027e6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c5d8a697-a7d8-4b3e-b053-2c50af69903a-attachment.txt", "type": "text/plain"}], "start": 1761631533376, "stop": 1761631533377}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e9485b66-3d1e-42bc-bae7-81184e5ca78c-attachment.txt", "type": "text/plain"}], "start": 1761631533377, "stop": 1761631533377}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ad578a0e-bec4-4e4a-b732-5b3c085b0b62-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3d5b42f2-a4ef-473f-89d4-a0bac75144c2-attachment.txt", "type": "text/plain"}], "start": 1761631535433, "stop": 1761631535484}], "attachments": [{"name": "查询条件", "source": "86ca0a57-85f3-4c8f-a359-ce8ac8668dc8-attachment.txt", "type": "text/plain"}], "start": 1761631535433, "stop": 1761631535484}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0488fa83-beec-48cc-bbd3-b20322cdfbb9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "291759b5-9a61-4fb6-af38-e88a7c0d4ae2-attachment.txt", "type": "text/plain"}], "start": 1761631535484, "stop": 1761631535485}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "434f125d-8c2d-4b0a-9b6c-d065e90ef154-attachment.txt", "type": "text/plain"}], "start": 1761631535485, "stop": 1761631535486}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5ad45d99-c218-40fa-a0ae-d58a0c4c8cfb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "022b7043-2bbb-4034-afd9-7bf6c778f01d-attachment.txt", "type": "text/plain"}], "start": 1761631537551, "stop": 1761631537605}], "attachments": [{"name": "查询条件", "source": "df0f59f8-9c9a-495b-ad19-1dae7ea5d56e-attachment.txt", "type": "text/plain"}], "start": 1761631537551, "stop": 1761631537605}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2f2e8997-6990-41b6-9ca5-36a58a2e90b6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cacfff26-294d-42c4-9547-1eef51aaa05b-attachment.txt", "type": "text/plain"}], "start": 1761631537605, "stop": 1761631537605}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1c126d2b-7f9b-485d-9d22-533b4b88d2f7-attachment.txt", "type": "text/plain"}], "start": 1761631537605, "stop": 1761631537606}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "32364a0f-c97f-4a3b-b3d2-64a990255b53-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6b42b728-0768-44d8-bb55-a0da03ab58c1-attachment.txt", "type": "text/plain"}], "start": 1761631539678, "stop": 1761631539732}], "attachments": [{"name": "查询条件", "source": "35f8808b-6ede-413f-9ac4-63403b383362-attachment.txt", "type": "text/plain"}], "start": 1761631539678, "stop": 1761631539732}, {"name": "轮询中（已等待19.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8bc50bc1-f8be-4267-9f64-1d7631cc16e4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f11d8d58-6a13-445a-b071-20c7bfea9896-attachment.txt", "type": "text/plain"}], "start": 1761631539732, "stop": 1761631539733}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "48e5787b-f51e-4037-ac00-7c0d14509ca1-attachment.txt", "type": "text/plain"}], "start": 1761631539733, "stop": 1761631539733}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "95079cfd-a1ea-4b27-b3fa-520b9084dcb9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "43c23b21-d460-44a1-8c26-75dbe39ef032-attachment.txt", "type": "text/plain"}], "start": 1761631541792, "stop": 1761631541845}], "attachments": [{"name": "查询条件", "source": "f724278f-183d-493c-a706-426511dc157f-attachment.txt", "type": "text/plain"}], "start": 1761631541791, "stop": 1761631541845}, {"name": "轮询中（已等待21.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a191d8b2-6bcc-493d-9d1d-00d31da7d7b6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f50378aa-7d44-4a81-bfae-bb76745706ad-attachment.txt", "type": "text/plain"}], "start": 1761631541845, "stop": 1761631541846}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f0d68c51-e71c-4c43-82f3-d76887bf5fc4-attachment.txt", "type": "text/plain"}], "start": 1761631541846, "stop": 1761631541847}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6a44124c-9178-429e-a7ad-89d28f66aa4e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e070b91b-6a76-4ca6-a106-10a9dff1ea5e-attachment.txt", "type": "text/plain"}], "start": 1761631543916, "stop": 1761631543977}], "attachments": [{"name": "查询条件", "source": "eb8a0bd8-be09-4b58-a14b-baf051d19fe3-attachment.txt", "type": "text/plain"}], "start": 1761631543914, "stop": 1761631543977}, {"name": "轮询中（已等待23.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1240e3ab-37eb-4283-acf9-4928e3bc1efe-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "52fa45fa-b452-410a-8359-e21f7dab31da-attachment.txt", "type": "text/plain"}], "start": 1761631543977, "stop": 1761631543979}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "5352b654-0ede-4057-9d6f-6b220dabd60c-attachment.txt", "type": "text/plain"}], "start": 1761631543979, "stop": 1761631543979}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6a5c6ef4-a001-449a-87a9-5de6743ef5f7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "dce81538-82b9-4dd2-874b-489e19be28e5-attachment.txt", "type": "text/plain"}], "start": 1761631546042, "stop": 1761631546096}], "attachments": [{"name": "查询条件", "source": "7921a3ee-534c-400c-aaf7-63238922e3d4-attachment.txt", "type": "text/plain"}], "start": 1761631546041, "stop": 1761631546096}, {"name": "轮询中（已等待25.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0614cf0a-457e-47db-8e43-91388a18abf7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7a2632c9-d143-4fc7-a2cd-47cfd926377c-attachment.txt", "type": "text/plain"}], "start": 1761631546096, "stop": 1761631546097}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2c05db0b-792c-49d5-b647-71b874fc9916-attachment.txt", "type": "text/plain"}], "start": 1761631546097, "stop": 1761631546097}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c5f65583-56e1-4e5d-bb33-34a3addc7970-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "065647a2-5490-40d1-a4c6-051964323583-attachment.txt", "type": "text/plain"}], "start": 1761631548159, "stop": 1761631548213}], "attachments": [{"name": "查询条件", "source": "76a99696-f2fa-450b-baa6-7368bde76c78-attachment.txt", "type": "text/plain"}], "start": 1761631548158, "stop": 1761631548213}, {"name": "轮询中（已等待27.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0d49eb78-bc4a-40e2-9c2f-e92c26de6aef-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1bbba5f6-18e8-4c60-8ed8-f0c182da30b2-attachment.txt", "type": "text/plain"}], "start": 1761631548213, "stop": 1761631548213}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e8f54028-8da2-4bf8-a6ec-524c85bb26fe-attachment.txt", "type": "text/plain"}], "start": 1761631548213, "stop": 1761631548213}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "67abdd60-d3ce-4536-842e-a0e20ec64c7b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b95159c3-a7e2-4c2a-8bcb-b2868f33cc6e-attachment.txt", "type": "text/plain"}], "start": 1761631550284, "stop": 1761631550338}], "attachments": [{"name": "查询条件", "source": "0fee4627-6b32-49c7-a921-bec1cd3af678-attachment.txt", "type": "text/plain"}], "start": 1761631550283, "stop": 1761631550338}, {"name": "轮询中（已等待29.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b8ac2f3e-74eb-49e4-87e9-25c707667999-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "97abc9e0-0e4e-4b6a-bf87-9af98a86546a-attachment.txt", "type": "text/plain"}], "start": 1761631550338, "stop": 1761631550339}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "03ed697f-ebef-4dc6-85cb-41985ac18260-attachment.txt", "type": "text/plain"}], "start": 1761631550339, "stop": 1761631550339}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "36f8219c-44b5-4581-a10a-8129c4652e01-attachment.txt", "type": "text/plain"}], "start": 1761631552347, "stop": 1761631552347}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "e69c8519-7666-4872-8977-49a60c54491f-attachment.json", "type": "application/json"}], "start": 1761631552401, "stop": 1761631552402}], "attachments": [{"name": "执行SQL", "source": "2272d89a-0905-4228-a525-a763d5f99d9a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "75f79d5b-6afa-4658-85e1-0ecd61c34bcf-attachment.txt", "type": "text/plain"}], "start": 1761631552348, "stop": 1761631552402}], "attachments": [{"name": "查询条件", "source": "d6a6ee71-ac6e-4121-808c-3372f6dee4b9-attachment.txt", "type": "text/plain"}], "start": 1761631552347, "stop": 1761631552402}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "c698ddcc-4ff0-4ce1-9136-cc9d7491defb-attachment.json", "type": "application/json"}], "start": 1761631552402, "stop": 1761631552402}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "cf40ea17-8911-4af1-b8b3-e8f77985339c-attachment.txt", "type": "text/plain"}], "start": 1761631552402, "stop": 1761631552403}], "attachments": [{"name": "执行SQL", "source": "9d132dc9-aeec-48e4-8da6-136f0fbdb024-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f765d8d9-f06d-4739-9197-95320538629a-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "88ae5895-59ac-42e2-b799-b44af81c2931-attachment.txt", "type": "text/plain"}], "start": 1761631520571, "stop": 1761631552403}], "start": 1761631520570, "stop": 1761631552403}], "attachments": [{"name": "log", "source": "0fdaf241-ceed-4ff8-9817-9edd04d2f826-attachment.txt", "type": "text/plain"}], "start": 1761631520570, "stop": 1761631552403, "uuid": "ff7d9024-07dc-4eb2-a8a6-11e4a11de871", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "55804-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}