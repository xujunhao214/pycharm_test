INFO     - 2025-10-28 09:24:36 - [conftest:276] - [2025-10-28 09:24] 测试会话开始: 2025-10-28 09:24:36, 测试组: vps
INFO     - 2025-10-28 09:24:36 - [variable_manager:40] - [2025-10-28 09:24] 成功加载静态变量: VAR\test_data.json
INFO     - 2025-10-28 09:24:36 - [variable_manager:64] - [2025-10-28 09:24] 成功加载运行时变量: VAR\runtime_vars_vps.json
INFO     - 2025-10-28 09:24:36 - [conftest:62] - [2025-10-28 09:24:36] 用例 test_vps/test_create_scene.py::TestCreate_Scene::test_import_addSlave 开始登录，环境: test
DEBUG    - 2025-10-28 09:24:36 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-10-28 09:24:36 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-10-28 09:24:36 - [conftest:89] - 测试环境登录成功
INFO     - 2025-10-28 09:24:36 - [variable_manager:111] - [2025-10-28 09:24] 运行时变量已保存到: D:\pycharm_test\lingkuan_1024\VAR\runtime_vars_vps.json
INFO     - 2025-10-28 09:24:36 - [conftest:152] - 切换到VPS URL: http://39.99.136.49/vps
DEBUG    - 2025-10-28 09:24:52 - [connectionpool:546] - http://39.99.136.49:80 "POST /vps/subcontrol/follow/addSlave HTTP/11" 200 None
INFO     - 2025-10-28 09:24:52 - [api_base:152] - [2025-10-28 09:24:52] POST请求（JSON）: /subcontrol/follow/addSlave | 数据: {'traderId': 13598, 'platform': 'FXAdamantStone-Real', 'account': '31493', 'password': 'fa1af751c83d311f091c9393a364068c', 'remark': '参数化新增跟单账号', 'followDirection': 0, 'followMode': 0, 'remainder': 0, 'followParam': '5.00', 'placedType': 0, 'templateId': 1, 'followStatus': 1, 'followOpen': 1, 'followClose': 1, 'followRep': 0, 'fixedComment': '', 'commentType': '', 'digits': 0, 'cfd': '', 'forex': '', 'abRemark': '', 'platformType': 0}
INFO     - 2025-10-28 09:24:52 - [api_base:160] - [2025-10-28 09:24:52] 请求后等待 3 秒
DEBUG    - 2025-10-28 09:25:01 - [connectionpool:546] - http://39.99.136.49:80 "POST /vps/subcontrol/follow/addSlave HTTP/11" 200 None
INFO     - 2025-10-28 09:25:01 - [api_base:152] - [2025-10-28 09:25:01] POST请求（JSON）: /subcontrol/follow/addSlave | 数据: {'traderId': 13598, 'platform': 'FXAdamantStone-Real', 'account': '31494', 'password': 'fa1af751c83d311f091c9393a364068c', 'remark': '参数化新增跟单账号', 'followDirection': 0, 'followMode': 1, 'remainder': 0, 'followParam': '1', 'placedType': 0, 'templateId': 57, 'followStatus': 1, 'followOpen': 1, 'followClose': 1, 'followRep': 0, 'fixedComment': '', 'commentType': '', 'digits': 0, 'cfd': '', 'forex': '', 'abRemark': '', 'platformType': 0}
INFO     - 2025-10-28 09:25:01 - [api_base:160] - [2025-10-28 09:25:01] 请求后等待 3 秒
ERROR    - 2025-10-28 09:25:04 - [api_base:423] - [2025-10-28 09:25:04] JSON断言失败: Failed: 账号31494响应异常（模板：账号31494-修改品种（3倍））（JSON路径值不匹配） | 路径: $.msg | 响应: {"code":500,"msg":"保存失败java.lang.NullPointerException: Cannot invoke \"net.maku.followcom.entity.FollowTraderEntity.getId()\" because \"leader\" is null","data":null}
INFO     - 2025-10-28 09:25:04 - [conftest:157] - [2025-10-28 09:25:04] 用例 test_vps/test_create_scene.py::TestCreate_Scene::test_import_addSlave 执行完毕
INFO     - 2025-10-28 09:25:04 - [api_base:539] - [2025-10-28 09:25:04] 开始轮询等待数据稳定 | 超时: 30秒 | 稳定期: 2秒
INFO     - 2025-10-28 09:25:04 - [api_base:451] - [2025-10-28 09:25:04] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('31493',)
INFO     - 2025-10-28 09:25:05 - [api_base:454] - [2025-10-28 09:25:05] 查询成功，结果数量: 1
INFO     - 2025-10-28 09:25:05 - [api_base:466] - [2025-10-28 09:25:05] 查询结果: [{"id": 13611, "account": "31493", "is_demo": 1, "type": 1, "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "status": 0, "status_extra": "启动成功", "ip_addr": "39.99.136.49", "server_id": 6, "server_name": "^^^主VPS1", "euqit": 0.0, "balance": 0.0, "free_margin": 0.0, "margin_proportion": 0.0, "leverage": 0, "profit_loss": 0.0, "multiple": 0.0, "diff": 0, "version": 0, "remark": "参数化新增跟单账号", "deleted": 0, "creator": 10107, "create_time": "2025-10-28 09:24:48", "updater": 10107, "update_time": "2025-10-28 09:24:54", "template_id": 1, "follow_status": 1, "is_first_sync": 0, "login_node": "47.238.99.66:443", "cfd": null, "forex": null, "node_type": 0, "login_last_time": "2025-10-28 09:24:52", "ab_remark": "", "follow_order_remark": 1, "fixed_comment": "", "comment_type": null, "digits": 0, "platform_type": 0}]
INFO     - 2025-10-28 09:25:07 - [api_base:451] - [2025-10-28 09:25:07] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('31493',)
INFO     - 2025-10-28 09:25:07 - [api_base:454] - [2025-10-28 09:25:07] 查询成功，结果数量: 1
INFO     - 2025-10-28 09:25:07 - [api_base:466] - [2025-10-28 09:25:07] 查询结果: [{"id": 13611, "account": "31493", "is_demo": 1, "type": 1, "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "status": 0, "status_extra": "启动成功", "ip_addr": "39.99.136.49", "server_id": 6, "server_name": "^^^主VPS1", "euqit": 0.0, "balance": 0.0, "free_margin": 0.0, "margin_proportion": 0.0, "leverage": 0, "profit_loss": 0.0, "multiple": 0.0, "diff": 0, "version": 0, "remark": "参数化新增跟单账号", "deleted": 0, "creator": 10107, "create_time": "2025-10-28 09:24:48", "updater": 10107, "update_time": "2025-10-28 09:24:54", "template_id": 1, "follow_status": 1, "is_first_sync": 0, "login_node": "47.238.99.66:443", "cfd": null, "forex": null, "node_type": 0, "login_last_time": "2025-10-28 09:24:52", "ab_remark": "", "follow_order_remark": 1, "fixed_comment": "", "comment_type": null, "digits": 0, "platform_type": 0}]
INFO     - 2025-10-28 09:25:09 - [api_base:451] - [2025-10-28 09:25:09] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('31493',)
INFO     - 2025-10-28 09:25:10 - [api_base:454] - [2025-10-28 09:25:10] 查询成功，结果数量: 1
INFO     - 2025-10-28 09:25:10 - [api_base:466] - [2025-10-28 09:25:10] 查询结果: [{"id": 13611, "account": "31493", "is_demo": 1, "type": 1, "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "status": 0, "status_extra": "启动成功", "ip_addr": "39.99.136.49", "server_id": 6, "server_name": "^^^主VPS1", "euqit": 0.0, "balance": 0.0, "free_margin": 0.0, "margin_proportion": 0.0, "leverage": 0, "profit_loss": 0.0, "multiple": 0.0, "diff": 0, "version": 0, "remark": "参数化新增跟单账号", "deleted": 0, "creator": 10107, "create_time": "2025-10-28 09:24:48", "updater": 10107, "update_time": "2025-10-28 09:24:54", "template_id": 1, "follow_status": 1, "is_first_sync": 0, "login_node": "47.238.99.66:443", "cfd": null, "forex": null, "node_type": 0, "login_last_time": "2025-10-28 09:24:52", "ab_remark": "", "follow_order_remark": 1, "fixed_comment": "", "comment_type": null, "digits": 0, "platform_type": 0}]
INFO     - 2025-10-28 09:25:10 - [api_base:585] - [2025-10-28 09:25:10] 数据已稳定2秒（耗时5.4秒）| 结果数: 1
INFO     - 2025-10-28 09:25:10 - [variable_manager:111] - [2025-10-28 09:24] 运行时变量已保存到: D:\pycharm_test\lingkuan_1024\VAR\runtime_vars_vps.json
INFO     - 2025-10-28 09:25:10 - [test_create_scene:191] - 新增跟单账号状态status应为0（正常），实际状态为: 0
INFO     - 2025-10-28 09:25:10 - [variable_manager:111] - [2025-10-28 09:24] 运行时变量已保存到: D:\pycharm_test\lingkuan_1024\VAR\runtime_vars_vps.json
INFO     - 2025-10-28 09:25:10 - [conftest:303] - [2025-10-28 09:24] 测试会话结束，总耗时: 34.00秒
INFO     - 2025-10-28 09:25:10 - [feishu_notification:131] - [2025-10-28 09:24] 发送飞书消息，URL: https://open.feishu.cn/open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f
DEBUG    - 2025-10-28 09:25:10 - [connectionpool:1051] - Starting new HTTPS connection (1): open.feishu.cn:443
DEBUG    - 2025-10-28 09:25:10 - [connectionpool:546] - https://open.feishu.cn:443 "POST /open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f HTTP/11" 200 77
INFO     - 2025-10-28 09:25:10 - [feishu_notification:139] - [2025-10-28 09:24] 飞书响应状态码: 200
INFO     - 2025-10-28 09:25:10 - [feishu_notification:140] - [2025-10-28 09:24] 飞书响应内容: {"StatusCode":0,"StatusMessage":"success","code":0,"data":{},"msg":"success"}
INFO     - 2025-10-28 09:25:10 - [feishu_notification:145] - [2025-10-28 09:24] [FEISHU] 消息发送成功
INFO     - 2025-10-28 09:25:10 - [conftest:315] - [2025-10-28 09:24] 飞书通知发送成功
