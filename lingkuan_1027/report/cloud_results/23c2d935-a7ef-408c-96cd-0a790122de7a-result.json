{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（45秒）", "trace": "self = <lingkuan_1027.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x000001CF7ADE84C0>\nvar_manager = <lingkuan_1027.commons.variable_manager.VariableManager object at 0x000001CF7AEDCC70>\ndb_transaction = <pymysql.connections.Connection object at 0x000001CF7AD50C70>\n\n    @pytest.mark.retry(n=3, delay=5)\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_cloudTrader = []\n        cloudTrader_user_count = var_manager.get_variable(\"cloudTrader_user_count\")\n        for i in range(2, cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            cloudTrader_account_var_name = f\"cloudTrader_user_accounts_{i}\"\n            cloudTrader_account = var_manager.get_variable(cloudTrader_account_var_name)\n            if not cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{cloudTrader_account_var_name}）\")\n            all_accounts_cloudTrader.append(cloudTrader_account)\n        print(f\"将校验的后9个账号：{all_accounts_cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_cloudTrader = []\n        for idx, cloudTrader_account in enumerate(all_accounts_cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (cloudTrader_account,)\n    \n                db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n                print(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\")\n    \n                if not db_data:\n                    pytest.fail(f\"账号 {cloudTrader_account} 在主表中未找到记录\")\n    \n                # 保存账号ID并校验状态/净值/订阅表（代码与之前一致）\n                cloudTrader_vps_id = db_data[0][\"id\"]\n                all_ids_cloudTrader.append(cloudTrader_vps_id)\n                var_manager.set_runtime_variable(f\"cloudTrader_vps_ids_{idx}\", cloudTrader_vps_id)\n                print(\n                    f\"账号 {cloudTrader_account} 的ID为：{cloudTrader_vps_id}，已保存到变量 cloudTrader_vps_ids_{idx}\")\n    \n            with allure.step(\"校验账号状态和净值\"):\n                status = db_data[0][\"status\"]\n                assert status == 0, f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\"\n                logging.info(f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\")\n    \n                # euqit = db_data[0][\"euqit\"]\n                # assert euqit > 0, f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\"\n                # logging.info(f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\")\n    \n                # 校验订阅表记录（代码与之前一致）\n                sql = f\"SELECT * FROM follow_trader_subscribe WHERE slave_account = %s\"\n                params = (cloudTrader_account,)\n>               db_sub_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"slave_account ASC\"\n                )\n\ntest_cloudTrader\\test_create.py:299: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_1027.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x000001CF7ADE84C0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001CF7AD50C70>\nsql = 'SELECT * FROM follow_trader_subscribe WHERE slave_account = %s'\nparams = ('300160',), time_field = None, time_range = 3\norder_by = 'slave_account ASC', timeout = 45, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} \\n继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（45秒）\n\ncommons\\api_base.py:653: TimeoutError"}, "steps": [{"name": "验证第1个账号（300160）的数据库记录", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890701934, "stop": 1761890702132}], "attachments": [{"name": "查询条件", "source": "ee14c74b-d3cb-409c-8b82-8ee5c7cd4a51-attachment.txt", "type": "text/plain"}], "start": 1761890701933, "stop": 1761890702132}, {"name": "轮询中（已等待0.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "152ff458-b33f-42c7-b3f9-81e3e4c31485-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6a91644d-eeb3-4caf-b728-4d6fa3b7d531-attachment.txt", "type": "text/plain"}], "start": 1761890702132, "stop": 1761890702133}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1769d236-a9c3-43cc-8794-23f805c3f1d3-attachment.txt", "type": "text/plain"}], "start": 1761890702133, "stop": 1761890702133}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890704184, "stop": 1761890704230}], "attachments": [{"name": "查询条件", "source": "4762d770-32f2-420d-adf7-751607926f7e-attachment.txt", "type": "text/plain"}], "start": 1761890704183, "stop": 1761890704230}, {"name": "轮询中（已等待2.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ef24b7de-c885-4185-a850-9533dbf2164d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "15431f8c-5d8f-4205-8913-c0aca3dfeb02-attachment.txt", "type": "text/plain"}], "start": 1761890704231, "stop": 1761890704231}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9b32b72e-9aa3-428a-ad6c-20224cc791ff-attachment.txt", "type": "text/plain"}], "start": 1761890704231, "stop": 1761890704232}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890706537, "stop": 1761890708669}], "attachments": [{"name": "查询条件", "source": "31d34a6b-ebaf-4538-a8f9-dd382dc9821d-attachment.txt", "type": "text/plain"}], "start": 1761890706535, "stop": 1761890708669}, {"name": "轮询中（已等待6.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "38dd095b-bb17-43af-a243-8899613d0e1f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c07549e4-ddcd-404d-9561-3315a8e931f7-attachment.txt", "type": "text/plain"}], "start": 1761890708669, "stop": 1761890708671}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a8a9e60e-9a6e-4e6b-aa60-1c034487cfc5-attachment.txt", "type": "text/plain"}], "start": 1761890708672, "stop": 1761890708673}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890710732, "stop": 1761890710825}], "attachments": [{"name": "查询条件", "source": "84141a69-049d-4d02-8ccd-7fd2e2666c94-attachment.txt", "type": "text/plain"}], "start": 1761890710731, "stop": 1761890710825}, {"name": "轮询中（已等待8.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c83c19b7-c4b1-47fd-89ba-04e5a149e8a2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fb4b93c1-954b-4890-b40a-25991c617a43-attachment.txt", "type": "text/plain"}], "start": 1761890710825, "stop": 1761890710826}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "29b5c037-6f1a-4864-9a1d-e1495af7629f-attachment.txt", "type": "text/plain"}], "start": 1761890710826, "stop": 1761890710827}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890712892, "stop": 1761890712945}], "attachments": [{"name": "查询条件", "source": "2f422397-14f4-4240-b35d-4759d10eb7d1-attachment.txt", "type": "text/plain"}], "start": 1761890712891, "stop": 1761890712945}, {"name": "轮询中（已等待11.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f9cdb8ef-8749-47c4-8c54-9c811fc46a14-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "709832a9-efc9-4bff-a661-d2d5e8974f0b-attachment.txt", "type": "text/plain"}], "start": 1761890712945, "stop": 1761890712946}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "9f6b9657-61d9-4f5d-8d53-e33e72dc7e2f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d94c971b-8e5c-4a17-ad27-4e9a24961f54-attachment.txt", "type": "text/plain"}], "start": 1761890712946, "stop": 1761890712947}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e165d0af-d333-4f54-a4c1-9349cf97feae-attachment.txt", "type": "text/plain"}], "start": 1761890712947, "stop": 1761890712947}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890715005, "stop": 1761890715055}], "attachments": [{"name": "查询条件", "source": "eb7d3039-c31a-4aa4-87ad-5bb48ee244f9-attachment.txt", "type": "text/plain"}], "start": 1761890715004, "stop": 1761890715055}, {"name": "轮询中（已等待13.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "49274ed2-4280-46b7-ab19-cf2d32fd2c91-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cecef7e6-785a-4655-bd7d-05f6ea85eddc-attachment.txt", "type": "text/plain"}], "start": 1761890715055, "stop": 1761890715057}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f718cc29-448c-498e-b35b-e47b37ae0ec1-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "841832d1-b990-49cb-b72f-20ddd2b561f1-attachment.txt", "type": "text/plain"}], "start": 1761890715057, "stop": 1761890715058}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "464f1be5-c7af-484a-82dd-f3d9db1ec2b5-attachment.txt", "type": "text/plain"}], "start": 1761890715058, "stop": 1761890715059}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890717109, "stop": 1761890717156}], "attachments": [{"name": "查询条件", "source": "9265ed84-439d-469c-ba6c-f61680bc3719-attachment.txt", "type": "text/plain"}], "start": 1761890717108, "stop": 1761890717156}, {"name": "轮询中（已等待15.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3cd5d2b6-fe54-4a45-8957-b3ec8a8414d7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eae3bd93-2419-419a-93f2-c1301c304d3a-attachment.txt", "type": "text/plain"}], "start": 1761890717156, "stop": 1761890717158}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "b40ce644-899e-46c0-ab91-21fac737b041-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c1fc1755-69dd-4ce0-947c-f3490725c238-attachment.txt", "type": "text/plain"}], "start": 1761890717158, "stop": 1761890717160}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "87c442a7-9e3b-450b-9820-c2f0080ad381-attachment.txt", "type": "text/plain"}], "start": 1761890717161, "stop": 1761890717161}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "0920ad17-eeb2-4a78-86a5-d4ed17f18896-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "7f952a31-d1b1-4c82-b069-b03021f96e15-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "95db80be-9fb4-4dd0-93f7-ce2b95857e34-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "6d92b4a3-ef56-47b9-8085-9d0326739556-attachment.txt", "type": "text/plain"}], "start": 1761890717161, "stop": 1761890717165}], "start": 1761890701885, "stop": 1761890717165}], "start": 1761890701885, "stop": 1761890717166}, {"name": "校验账号状态和净值", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（45秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1027\\test_cloudTrader\\test_create.py\", line 299, in test_dbimport_addSlave\n    db_sub_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_1027\\commons\\api_base.py\", line 653, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（45秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1027\\commons\\api_base.py\", line 653, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890717215, "stop": 1761890717262}], "attachments": [{"name": "查询条件", "source": "baeef2e2-8d49-46b0-b69d-a3323625ee1d-attachment.txt", "type": "text/plain"}], "start": 1761890717214, "stop": 1761890717262}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e771f1fe-eeea-4b3e-85d3-a91597b5cbdb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "03cf98bd-e402-43a2-96d2-4afc7c735f4b-attachment.txt", "type": "text/plain"}], "start": 1761890717262, "stop": 1761890717263}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2132bc5a-6ede-4cee-a910-5dec5464cb5a-attachment.txt", "type": "text/plain"}], "start": 1761890717263, "stop": 1761890717263}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890719315, "stop": 1761890719364}], "attachments": [{"name": "查询条件", "source": "1d641ad9-8ab9-4ae2-9116-b34e9b3da738-attachment.txt", "type": "text/plain"}], "start": 1761890719315, "stop": 1761890719364}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cffcf73d-b418-47be-8298-8aaa27b88436-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8b23ea1f-fab3-4e83-90e5-6c8e2a47f5b1-attachment.txt", "type": "text/plain"}], "start": 1761890719364, "stop": 1761890719365}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "69ee08de-7d7c-4b15-9e4a-870e777996ef-attachment.txt", "type": "text/plain"}], "start": 1761890719365, "stop": 1761890719366}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890721425, "stop": 1761890721472}], "attachments": [{"name": "查询条件", "source": "52e6fdb3-db0f-448f-824c-a1370ea960f2-attachment.txt", "type": "text/plain"}], "start": 1761890721424, "stop": 1761890721472}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a45303e4-e7ee-483c-b33f-dff82953f7b7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f833651c-6b7f-446f-9f42-1c33a7d3d756-attachment.txt", "type": "text/plain"}], "start": 1761890721472, "stop": 1761890721472}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f07e0c9c-f516-42b9-940f-cf6d48508c86-attachment.txt", "type": "text/plain"}], "start": 1761890721472, "stop": 1761890721473}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890723532, "stop": 1761890723580}], "attachments": [{"name": "查询条件", "source": "0de0f502-d247-44a0-9222-3b9d795e4106-attachment.txt", "type": "text/plain"}], "start": 1761890723531, "stop": 1761890723580}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3109a520-24fd-4418-a0a8-03230055ffb8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "78ed6874-98f5-4a93-98c7-cc466ce9b534-attachment.txt", "type": "text/plain"}], "start": 1761890723580, "stop": 1761890723581}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "af442c39-f573-445d-a3be-4e84d7382e51-attachment.txt", "type": "text/plain"}], "start": 1761890723581, "stop": 1761890723581}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890725639, "stop": 1761890725690}], "attachments": [{"name": "查询条件", "source": "efef2b24-b3e8-42da-8251-100d1d8923d1-attachment.txt", "type": "text/plain"}], "start": 1761890725637, "stop": 1761890725690}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "477d413b-e9de-49bd-9808-952c0734da91-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d9bd4f8d-81d2-4868-a128-72318207d0a7-attachment.txt", "type": "text/plain"}], "start": 1761890725690, "stop": 1761890725692}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9b38e9f0-5897-4d10-a4cc-55b89e2c754a-attachment.txt", "type": "text/plain"}], "start": 1761890725692, "stop": 1761890725693}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890727745, "stop": 1761890727791}], "attachments": [{"name": "查询条件", "source": "6171ef45-96e0-42e1-a0c0-4c348f14b84b-attachment.txt", "type": "text/plain"}], "start": 1761890727744, "stop": 1761890727791}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "03ebe711-78e5-49a4-aa47-b2742eb0735f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "caf1c740-5231-4d1b-89ea-f276216f797c-attachment.txt", "type": "text/plain"}], "start": 1761890727791, "stop": 1761890727792}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "441ccd1c-a02a-4367-916f-085b53a48837-attachment.txt", "type": "text/plain"}], "start": 1761890727792, "stop": 1761890727792}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890729842, "stop": 1761890729889}], "attachments": [{"name": "查询条件", "source": "7c40248a-96ce-48b0-9875-5a28050d679a-attachment.txt", "type": "text/plain"}], "start": 1761890729842, "stop": 1761890729889}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b3db4f0d-6e62-4899-9c61-dbbe166ad601-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f98f0bf3-586a-4262-b57a-5c5629ff95ab-attachment.txt", "type": "text/plain"}], "start": 1761890729889, "stop": 1761890729890}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e66eb24a-28ca-4710-957c-f1feda6ad1c5-attachment.txt", "type": "text/plain"}], "start": 1761890729890, "stop": 1761890729890}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890731938, "stop": 1761890731993}], "attachments": [{"name": "查询条件", "source": "2918afd3-5d98-44a0-a63a-1100d26c1b8e-attachment.txt", "type": "text/plain"}], "start": 1761890731937, "stop": 1761890731993}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d87e7db0-7bf7-443b-b072-bd9c09080b0e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c3445009-d516-4d31-a43e-900dd59f954f-attachment.txt", "type": "text/plain"}], "start": 1761890731993, "stop": 1761890731994}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c8f52850-d201-4145-a437-da575bb69e64-attachment.txt", "type": "text/plain"}], "start": 1761890731994, "stop": 1761890731994}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890734053, "stop": 1761890734101}], "attachments": [{"name": "查询条件", "source": "6357d023-305c-4050-9e33-cf24689ffff9-attachment.txt", "type": "text/plain"}], "start": 1761890734052, "stop": 1761890734101}, {"name": "轮询中（已等待16.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "786946fb-8e96-495a-8607-43d42043113c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d0e71e1c-35ec-44b6-8a2d-312a233954b0-attachment.txt", "type": "text/plain"}], "start": 1761890734101, "stop": 1761890734102}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "bffdf738-c38a-4271-8f81-7f34e7a77995-attachment.txt", "type": "text/plain"}], "start": 1761890734102, "stop": 1761890734102}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890736158, "stop": 1761890736206}], "attachments": [{"name": "查询条件", "source": "a3ebf74a-6da6-4077-85ca-ececfb9aaa91-attachment.txt", "type": "text/plain"}], "start": 1761890736157, "stop": 1761890736206}, {"name": "轮询中（已等待19.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0a5d75d1-3c15-4471-a0b8-c19bb50144c5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fe1c70e1-2e26-4e89-8234-c1d61adb7a34-attachment.txt", "type": "text/plain"}], "start": 1761890736206, "stop": 1761890736207}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c192c856-33ac-4165-8e60-72f603aa7e57-attachment.txt", "type": "text/plain"}], "start": 1761890736207, "stop": 1761890736207}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890738263, "stop": 1761890738313}], "attachments": [{"name": "查询条件", "source": "793a6e03-21c4-4768-bc82-72044e0b5cdf-attachment.txt", "type": "text/plain"}], "start": 1761890738262, "stop": 1761890738313}, {"name": "轮询中（已等待21.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "91bd1a37-a743-46f0-8c68-42c9d4608ce1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "437ae926-7b55-431b-b550-caa0d0c0753b-attachment.txt", "type": "text/plain"}], "start": 1761890738313, "stop": 1761890738314}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f64e3f67-388e-4cd5-9b9d-2721865009aa-attachment.txt", "type": "text/plain"}], "start": 1761890738314, "stop": 1761890738314}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890740374, "stop": 1761890740431}], "attachments": [{"name": "查询条件", "source": "431a3812-271c-4646-b041-7d9616418bfd-attachment.txt", "type": "text/plain"}], "start": 1761890740374, "stop": 1761890740431}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "668d2bdb-68d7-41b3-8f33-265a1a7f9954-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "264d27a9-5c74-4a34-922a-dc64eb4bc649-attachment.txt", "type": "text/plain"}], "start": 1761890740431, "stop": 1761890740431}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ade0ba8a-d41b-4abc-85bb-1b31f8697c6e-attachment.txt", "type": "text/plain"}], "start": 1761890740432, "stop": 1761890740432}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890742483, "stop": 1761890742530}], "attachments": [{"name": "查询条件", "source": "ba6e63d2-567c-4b30-b01b-dca956ec93de-attachment.txt", "type": "text/plain"}], "start": 1761890742481, "stop": 1761890742530}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f579d74f-dc86-4962-949d-d8baed08f921-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ccd16cf9-2694-46e0-bec1-74d240c17d6f-attachment.txt", "type": "text/plain"}], "start": 1761890742531, "stop": 1761890742532}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1fad77df-95ff-471e-a2fe-3186fea7c6db-attachment.txt", "type": "text/plain"}], "start": 1761890742532, "stop": 1761890742532}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890744585, "stop": 1761890744632}], "attachments": [{"name": "查询条件", "source": "4c644731-3bdd-46de-bc5c-133bad8b4dc9-attachment.txt", "type": "text/plain"}], "start": 1761890744584, "stop": 1761890744632}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "85b5d18a-17be-4f6f-a9c3-0b8e60fdfb6b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "397d1c53-33ed-4e37-a1af-d6b626ed3965-attachment.txt", "type": "text/plain"}], "start": 1761890744632, "stop": 1761890744633}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "98dfbaf7-803d-4459-b970-fbc2fac9a1f6-attachment.txt", "type": "text/plain"}], "start": 1761890744633, "stop": 1761890744633}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890746684, "stop": 1761890746731}], "attachments": [{"name": "查询条件", "source": "edbd9880-dedc-4eb6-912f-fdab4c3cc58c-attachment.txt", "type": "text/plain"}], "start": 1761890746684, "stop": 1761890746731}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b3ac63d9-3158-4a34-986b-25f2cf45ef21-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b845036e-ba0a-4dac-8857-56cb3506bc8a-attachment.txt", "type": "text/plain"}], "start": 1761890746731, "stop": 1761890746732}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e6ecb19b-d99b-4456-ac19-aea461f93d3c-attachment.txt", "type": "text/plain"}], "start": 1761890746732, "stop": 1761890746732}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890748783, "stop": 1761890748834}], "attachments": [{"name": "查询条件", "source": "5fb98c1e-233b-4cc5-8f87-9a4c7e02faaf-attachment.txt", "type": "text/plain"}], "start": 1761890748782, "stop": 1761890748834}, {"name": "轮询中（已等待31.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "182dfb48-19aa-462a-97d9-43000ce64a3a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a14876ae-b95f-4c44-9481-7c445e463972-attachment.txt", "type": "text/plain"}], "start": 1761890748834, "stop": 1761890748835}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a7f05145-5ba0-4db5-a44f-66b49a589aa8-attachment.txt", "type": "text/plain"}], "start": 1761890748836, "stop": 1761890748836}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890750896, "stop": 1761890751196}], "attachments": [{"name": "查询条件", "source": "9dde7e33-c97a-49ab-8eb6-4489b8765b50-attachment.txt", "type": "text/plain"}], "start": 1761890750896, "stop": 1761890751196}, {"name": "轮询中（已等待34.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c6b5e97c-6caf-40f8-bfc2-2afbc0eaeec8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "22b1b59c-caab-43a3-812b-a040dde56cc2-attachment.txt", "type": "text/plain"}], "start": 1761890751196, "stop": 1761890751197}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ccc368d8-69cf-4602-93ae-e21d6e75a818-attachment.txt", "type": "text/plain"}], "start": 1761890751197, "stop": 1761890751198}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890753248, "stop": 1761890753341}], "attachments": [{"name": "查询条件", "source": "90711243-7ffa-4761-b3ce-2bf5081b2e84-attachment.txt", "type": "text/plain"}], "start": 1761890753248, "stop": 1761890753341}, {"name": "轮询中（已等待36.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a9427d20-0d57-41bd-914b-d9cbf3317d77-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ca785ba3-b799-4377-a881-f98f10ff719e-attachment.txt", "type": "text/plain"}], "start": 1761890753341, "stop": 1761890753342}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "57fa50ff-f700-4389-bae9-3c6f40f67c67-attachment.txt", "type": "text/plain"}], "start": 1761890753342, "stop": 1761890753343}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890755395, "stop": 1761890755441}], "attachments": [{"name": "查询条件", "source": "4f65156d-49be-4a74-b4b1-f5ecb596577f-attachment.txt", "type": "text/plain"}], "start": 1761890755394, "stop": 1761890755441}, {"name": "轮询中（已等待38.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e2199361-5416-4052-8dd1-8747053c91b3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "732baf4a-9673-4e36-a3d2-aaf84c9af18f-attachment.txt", "type": "text/plain"}], "start": 1761890755441, "stop": 1761890755442}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "92d4bf11-0eeb-4f90-bfcd-25043479579e-attachment.txt", "type": "text/plain"}], "start": 1761890755442, "stop": 1761890755442}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890757499, "stop": 1761890757549}], "attachments": [{"name": "查询条件", "source": "18bca345-6220-46d0-ab2d-459aa21f1184-attachment.txt", "type": "text/plain"}], "start": 1761890757498, "stop": 1761890757549}, {"name": "轮询中（已等待40.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ce07ffca-f930-4302-9d59-c10738e03f65-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f1dc8478-3af8-4783-9e25-05281ad17d4e-attachment.txt", "type": "text/plain"}], "start": 1761890757549, "stop": 1761890757550}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c172433f-1898-4ec7-9d12-5b149d662193-attachment.txt", "type": "text/plain"}], "start": 1761890757550, "stop": 1761890757550}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890759607, "stop": 1761890759655}], "attachments": [{"name": "查询条件", "source": "dcfbe62b-bea4-4271-87d6-d2c759e18a04-attachment.txt", "type": "text/plain"}], "start": 1761890759606, "stop": 1761890759655}, {"name": "轮询中（已等待42.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "eeed70ff-85e8-4f3c-84a7-4002568ec83b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a609a92e-6c8e-4b5a-85ff-5d9ac32ddb42-attachment.txt", "type": "text/plain"}], "start": 1761890759655, "stop": 1761890759657}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d217d65d-64c9-42f9-b4c4-ef92411c3f91-attachment.txt", "type": "text/plain"}], "start": 1761890759657, "stop": 1761890759657}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761890761722, "stop": 1761890763067}], "attachments": [{"name": "查询条件", "source": "8420fa3c-e05c-465f-8dbd-3ae359caf904-attachment.txt", "type": "text/plain"}], "start": 1761890761722, "stop": 1761890763067}, {"name": "轮询中（已等待45.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7149b74c-3769-4102-b843-bd55f49c84a6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9ade21e5-cec0-49a1-9a4c-a0c728e6e2f1-attachment.txt", "type": "text/plain"}], "start": 1761890763067, "stop": 1761890763069}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ff25b55b-78a5-43c1-bc25-bd61e162de77-attachment.txt", "type": "text/plain"}], "start": 1761890763069, "stop": 1761890763070}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "a1c41255-d3e3-4eb5-9190-16bdb4412ba2-attachment.txt", "type": "text/plain"}], "start": 1761890765081, "stop": 1761890765082}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "c7bd482c-9927-46c5-a084-715e0f50b604-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "97768e8d-b9f9-4423-bad7-446d1c4bd1cc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "deea6673-940f-47d4-8bcd-2fbc48208f53-attachment.txt", "type": "text/plain"}], "start": 1761890765322, "stop": 1761890765324}], "start": 1761890765085, "stop": 1761890765324}], "attachments": [{"name": "查询条件", "source": "1c1759ef-7e78-47e2-be63-961d79a6e24a-attachment.txt", "type": "text/plain"}], "start": 1761890765082, "stop": 1761890765324}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "7eace7e5-206e-4838-888d-84d43659ee4a-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "f56bbf11-b53b-49f7-a03e-8cdbcd82dcb6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "84d5f875-7b83-4d33-9a02-6a4c1e167eed-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "bfe1da67-f003-49e7-a264-bf2dc9c88ab0-attachment.txt", "type": "text/plain"}], "start": 1761890765324, "stop": 1761890765328}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "aa66a75e-934d-4f85-a981-9f5829cddc72-attachment.txt", "type": "text/plain"}], "start": 1761890765328, "stop": 1761890765329}], "start": 1761890717166, "stop": 1761890765329}], "start": 1761890717166, "stop": 1761890765330}], "attachments": [{"name": "log", "source": "3a0c88f1-7e95-4d33-8d87-24f35a9654ec-attachment.txt", "type": "text/plain"}], "start": 1761890701885, "stop": 1761890765332, "uuid": "5ffae3dc-9042-49f1-8aeb-5ab4a0840eec", "historyId": "9096540b4712077bc0bb74ca9894ee36", "testCaseId": "9096540b4712077bc0bb74ca9894ee36", "fullName": "test_cloudTrader.test_create.TestCreate_cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "tag", "value": "retry(n=3, delay=5)"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "73308-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}