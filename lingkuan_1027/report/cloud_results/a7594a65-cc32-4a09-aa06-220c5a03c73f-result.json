{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_1027.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x0000019F78BAA100>\nclass_random_str = 'fv1e2058'\nvar_manager = <lingkuan_1027.commons.variable_manager.VariableManager object at 0x0000019F78993280>\ndb_transaction = <pymysql.connections.Connection object at 0x0000019F78A20820>\n\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, class_random_str, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_cloudTrader = []\n        cloudTrader_user_count = var_manager.get_variable(\"cloudTrader_user_count\")\n        for i in range(2, cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            cloudTrader_account_var_name = f\"cloudTrader_user_accounts_{i}\"\n            cloudTrader_account = var_manager.get_variable(cloudTrader_account_var_name)\n            if not cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{cloudTrader_account_var_name}）\")\n            all_accounts_cloudTrader.append(cloudTrader_account)\n        print(f\"将校验的后9个账号：{all_accounts_cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_cloudTrader = []\n        for idx, cloudTrader_account in enumerate(all_accounts_cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (cloudTrader_account,)\n    \n                db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n    \n                )\n                print(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\")\n    \n                if not db_data:\n                    pytest.fail(f\"账号 {cloudTrader_account} 在主表中未找到记录\")\n    \n                # 保存账号ID并校验状态/净值/订阅表（代码与之前一致）\n                cloudTrader_vps_id = db_data[0][\"id\"]\n                all_ids_cloudTrader.append(cloudTrader_vps_id)\n                var_manager.set_runtime_variable(f\"cloudTrader_vps_ids_{idx}\", cloudTrader_vps_id)\n                print(\n                    f\"账号 {cloudTrader_account} 的ID为：{cloudTrader_vps_id}，已保存到变量 cloudTrader_vps_ids_{idx}\")\n    \n            with allure.step(\"校验账号状态和净值\"):\n                status = db_data[0][\"status\"]\n                assert status == 0, f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\"\n                logging.info(f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\")\n    \n                # euqit = db_data[0][\"euqit\"]\n                # assert euqit > 0, f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\"\n                # logging.info(f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\")\n    \n                # 校验订阅表记录（代码与之前一致）\n                sql = f\"SELECT * FROM follow_trader_subscribe WHERE slave_account = %s\"\n                params = (cloudTrader_account,)\n>               db_sub_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"slave_account ASC\"\n                )\n\ntest_cloudTrader\\test_create.py:299: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_1027.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x0000019F78BAA100>\ndb_transaction = <pymysql.connections.Connection object at 0x0000019F78A20820>\nsql = 'SELECT * FROM follow_trader_subscribe WHERE slave_account = %s'\nparams = ('300160',), time_field = None, time_range = 3\norder_by = 'slave_account ASC', timeout = 30, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:654: TimeoutError"}, "steps": [{"name": "验证第1个账号（300160）的数据库记录", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "971c2dcf-9b82-4ab7-9f3e-b5bc131d507e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "91ef5b1c-dfe9-41dc-aeda-bca88a6509f4-attachment.txt", "type": "text/plain"}], "start": 1761732071327, "stop": 1761732071846}], "attachments": [{"name": "查询条件", "source": "166ed9c1-ec9b-4cd3-a2cc-1cd01081ced0-attachment.txt", "type": "text/plain"}], "start": 1761732071327, "stop": 1761732071846}, {"name": "轮询中（已等待0.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "de77c07d-a1b9-4f68-952f-4177b24944b4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "28b17a73-87cb-4b88-b5fd-7333c1d087ab-attachment.txt", "type": "text/plain"}], "start": 1761732071846, "stop": 1761732071847}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "cde0f10c-1937-4a70-8971-17eabf3136ae-attachment.txt", "type": "text/plain"}], "start": 1761732071847, "stop": 1761732071847}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9a11aa4a-8589-4f78-b9b4-e581c6753d43-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "81f18720-ff56-42a3-879c-dcfbb4f30114-attachment.txt", "type": "text/plain"}], "start": 1761732073912, "stop": 1761732074006}], "attachments": [{"name": "查询条件", "source": "28e2fa7c-5bf4-4431-a72f-bac13735bf44-attachment.txt", "type": "text/plain"}], "start": 1761732073912, "stop": 1761732074006}, {"name": "轮询中（已等待2.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4073911c-2526-46dd-8db1-3646321cc835-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4ae7984e-19eb-4436-bcb3-b3f723d22bc3-attachment.txt", "type": "text/plain"}], "start": 1761732074006, "stop": 1761732074008}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "cf6e9ea3-5f84-482a-b27e-c1d63fa5743b-attachment.txt", "type": "text/plain"}], "start": 1761732074008, "stop": 1761732074008}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ff6f9a08-bb00-42b6-9a49-f5d6d37a452c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "31bd266f-f5a2-45c1-907c-eef7c32a0b6e-attachment.txt", "type": "text/plain"}], "start": 1761732076064, "stop": 1761732076133}], "attachments": [{"name": "查询条件", "source": "bab54130-2b3e-492b-8b76-693819bcbf9b-attachment.txt", "type": "text/plain"}], "start": 1761732076063, "stop": 1761732076133}, {"name": "轮询中（已等待4.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8c188dc5-9e5c-48a1-8726-2b8b3b82c8dc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7b771811-96de-4ecd-b46c-6e1b230fbb4f-attachment.txt", "type": "text/plain"}], "start": 1761732076133, "stop": 1761732076134}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "95971ec4-1801-469e-8e1e-5449b0a1e7b2-attachment.txt", "type": "text/plain"}], "start": 1761732076135, "stop": 1761732076135}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "03d67263-4c1d-4912-b7d7-ce0aace39112-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "556f19b9-2904-4541-855a-196220607d31-attachment.txt", "type": "text/plain"}], "start": 1761732078458, "stop": 1761732078791}], "attachments": [{"name": "查询条件", "source": "39c4f217-9c6e-4df4-9d19-a90aa150f134-attachment.txt", "type": "text/plain"}], "start": 1761732078457, "stop": 1761732078791}, {"name": "轮询中（已等待7.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e010f5c2-60be-4702-a9eb-cecf4e560f71-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "39977d98-5f79-435b-832a-1be84e96603a-attachment.txt", "type": "text/plain"}], "start": 1761732078791, "stop": 1761732078792}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "3842a8f8-b2e2-4118-ab77-0b327b6f9ae6-attachment.txt", "type": "text/plain"}], "start": 1761732078792, "stop": 1761732078792}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b2c15c98-5063-4649-9dd5-fc5ab02d6a38-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b6be481c-e353-4d9f-961c-4308db01db8d-attachment.txt", "type": "text/plain"}], "start": 1761732080858, "stop": 1761732080966}], "attachments": [{"name": "查询条件", "source": "2a0408bb-2bc0-4e93-afdf-f7b76fb3a39c-attachment.txt", "type": "text/plain"}], "start": 1761732080857, "stop": 1761732080966}, {"name": "轮询中（已等待9.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cce33508-3354-4180-9279-e7e1540b5aa9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8bfb20c5-60d5-4303-ad80-8bb8f5411cc8-attachment.txt", "type": "text/plain"}], "start": 1761732080966, "stop": 1761732080967}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "a7900883-672f-4c3c-a3dc-b105909583a8-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "04f167dc-c828-471b-bf9e-9673ca1aa0c2-attachment.txt", "type": "text/plain"}], "start": 1761732080967, "stop": 1761732080968}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e3cdcbf5-0b19-48a6-adc5-1ea9d8ec5565-attachment.txt", "type": "text/plain"}], "start": 1761732080968, "stop": 1761732080968}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5c7f7716-7ddb-4508-8d3b-ed474e856e31-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "685002ea-1328-4e2a-aaa9-51d575651878-attachment.txt", "type": "text/plain"}], "start": 1761732083022, "stop": 1761732083273}], "attachments": [{"name": "查询条件", "source": "7f451a6d-b2da-48ce-b03d-5bdc7a39b8fc-attachment.txt", "type": "text/plain"}], "start": 1761732083021, "stop": 1761732083273}, {"name": "轮询中（已等待12.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "87c79296-21c1-4d31-99a8-82d1ac0572ee-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c9dc8cc2-1dba-4148-9184-542ee338055a-attachment.txt", "type": "text/plain"}], "start": 1761732083273, "stop": 1761732083273}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "de3fbb77-4f23-4170-b42c-cbabd866928e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "91a3bc0d-142f-4b1e-9e5b-6fa7a55289be-attachment.txt", "type": "text/plain"}], "start": 1761732083273, "stop": 1761732083274}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "baa9dccf-3408-4591-a4fc-d4464c170b93-attachment.txt", "type": "text/plain"}], "start": 1761732083274, "stop": 1761732083275}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8051182c-2ba6-47bb-a584-177303e0fe53-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "56323562-0899-4f57-86f1-43ec8d1f29e6-attachment.txt", "type": "text/plain"}], "start": 1761732085332, "stop": 1761732085434}], "attachments": [{"name": "查询条件", "source": "b4210798-1013-484c-b904-2ed6e29c09ef-attachment.txt", "type": "text/plain"}], "start": 1761732085331, "stop": 1761732085434}, {"name": "轮询中（已等待14.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b9be3f00-83df-4a56-b259-d7e7602d56aa-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2f6d99b4-2cc0-435d-9db9-566c63bc107c-attachment.txt", "type": "text/plain"}], "start": 1761732085434, "stop": 1761732085435}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d1a7b637-312a-4439-8de1-a5f5bfe9d817-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "cbcb3e7b-06e3-4beb-81c3-fd28ed9dfe82-attachment.txt", "type": "text/plain"}], "start": 1761732085435, "stop": 1761732085436}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "c5ffb3f1-1631-442d-8cb1-454c996c999e-attachment.txt", "type": "text/plain"}], "start": 1761732085436, "stop": 1761732085436}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "8a1d166a-3cdb-4a1c-8b0f-a91a1453e50d-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "9b73d67f-2f95-4832-9340-ae87d12e047c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "92749c78-82ab-43a4-b7f0-5aa03d3626a6-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "9dc964d0-7013-4e7e-81fc-0fcf28f6eca9-attachment.txt", "type": "text/plain"}], "start": 1761732085436, "stop": 1761732085437}], "start": 1761732071277, "stop": 1761732085437}], "start": 1761732071277, "stop": 1761732085438}, {"name": "校验账号状态和净值", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1027\\test_cloudTrader\\test_create.py\", line 299, in test_dbimport_addSlave\n    db_sub_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_1027\\commons\\api_base.py\", line 654, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1027\\commons\\api_base.py\", line 654, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b65ecbb1-364b-4dd5-923b-b6cbc12a0d2e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0cf24fbd-4600-4b60-ac61-510a33e8dbfe-attachment.txt", "type": "text/plain"}], "start": 1761732085492, "stop": 1761732085546}], "attachments": [{"name": "查询条件", "source": "529b7fd1-48a5-4de6-8f1a-65a1439a8b1b-attachment.txt", "type": "text/plain"}], "start": 1761732085491, "stop": 1761732085546}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6f38dd32-7315-40c0-a953-7310534b9ab2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "46c1bd65-80d3-4ed1-ad9f-35cb0d33c625-attachment.txt", "type": "text/plain"}], "start": 1761732085546, "stop": 1761732085546}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e9f31768-6f92-4e88-80a2-4393d8fc8959-attachment.txt", "type": "text/plain"}], "start": 1761732085546, "stop": 1761732085547}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8f4786fe-389e-4817-82be-f2ff6cb67396-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0b4ea433-ff31-4882-8e40-55563f3f2cfd-attachment.txt", "type": "text/plain"}], "start": 1761732087609, "stop": 1761732087662}], "attachments": [{"name": "查询条件", "source": "4475c1a0-0dd5-4451-acc7-687840881912-attachment.txt", "type": "text/plain"}], "start": 1761732087608, "stop": 1761732087662}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8192e34a-4da6-4dd6-a52c-988fd5164627-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f441e3bd-87d1-4cf3-aa71-7f2da8ac807f-attachment.txt", "type": "text/plain"}], "start": 1761732087662, "stop": 1761732087663}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9c305afb-51d0-4c89-aa06-cd171bcafd87-attachment.txt", "type": "text/plain"}], "start": 1761732087663, "stop": 1761732087663}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "78a58598-dbb7-4a60-bd0b-8c18f5696980-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "168d9db2-98dc-4153-902a-ab90e76858c4-attachment.txt", "type": "text/plain"}], "start": 1761732089717, "stop": 1761732089768}], "attachments": [{"name": "查询条件", "source": "230a0761-7dd1-47a8-a137-8daf495fe04c-attachment.txt", "type": "text/plain"}], "start": 1761732089716, "stop": 1761732089768}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6950e71e-29b0-4b85-8098-3d53b761591d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fe35474f-7040-4350-a182-2f400a4b94e0-attachment.txt", "type": "text/plain"}], "start": 1761732089768, "stop": 1761732089769}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "42ecd86d-1103-4737-bc50-08b9f555bf2e-attachment.txt", "type": "text/plain"}], "start": 1761732089769, "stop": 1761732089769}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f0d7f829-1bd4-414f-a94d-e6e9ddbe0687-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3b33b23e-3d77-46cb-9a94-8736932e58d1-attachment.txt", "type": "text/plain"}], "start": 1761732091832, "stop": 1761732091891}], "attachments": [{"name": "查询条件", "source": "7627f056-fd1d-4c57-9e3d-b2f4fbe0eb28-attachment.txt", "type": "text/plain"}], "start": 1761732091832, "stop": 1761732091891}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "25cc9982-be39-42a1-add2-7c3ca7c885eb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "004133ce-8632-4b9b-916c-7a7293b8c158-attachment.txt", "type": "text/plain"}], "start": 1761732091891, "stop": 1761732091891}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "97aaa61c-4672-4ff9-8885-4be941dd9bed-attachment.txt", "type": "text/plain"}], "start": 1761732091891, "stop": 1761732091892}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7baa8b23-eb86-40ce-9bf2-b7bf27f0ba13-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e4d8abf6-a7e4-4fe9-82e8-5b4afc2988bc-attachment.txt", "type": "text/plain"}], "start": 1761732093960, "stop": 1761732094018}], "attachments": [{"name": "查询条件", "source": "cd7ccd89-5d34-42b8-8298-7ad1b32fbc98-attachment.txt", "type": "text/plain"}], "start": 1761732093959, "stop": 1761732094018}, {"name": "轮询中（已等待8.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "de6a68f3-9e73-4a5d-b106-6caf131b0464-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bad8c35e-3827-484a-a033-76ad48b270f8-attachment.txt", "type": "text/plain"}], "start": 1761732094018, "stop": 1761732094019}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ee9db392-45c7-413a-88bf-8e6b0e97815c-attachment.txt", "type": "text/plain"}], "start": 1761732094019, "stop": 1761732094019}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d5610555-ca05-4f45-adf3-0bf6003fb664-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "23a6549b-f001-4288-858b-fdbc57a61820-attachment.txt", "type": "text/plain"}], "start": 1761732096334, "stop": 1761732096384}], "attachments": [{"name": "查询条件", "source": "5ac258c6-7190-4ddf-973a-9345490cd6b4-attachment.txt", "type": "text/plain"}], "start": 1761732096333, "stop": 1761732096384}, {"name": "轮询中（已等待10.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "46922a68-1b21-492d-a529-1257475323ac-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4008049b-d517-40fc-9f0e-c6388bc40025-attachment.txt", "type": "text/plain"}], "start": 1761732096384, "stop": 1761732096385}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "7a739174-8b21-4d66-a3d6-3967d7ba7392-attachment.txt", "type": "text/plain"}], "start": 1761732096385, "stop": 1761732096385}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "68493fc2-58d4-404d-ab64-38fa791cf757-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6a2ef20f-b800-473e-ab97-db5ff6561111-attachment.txt", "type": "text/plain"}], "start": 1761732098447, "stop": 1761732098498}], "attachments": [{"name": "查询条件", "source": "269de42e-9f60-46de-af59-0fdd3e408fc8-attachment.txt", "type": "text/plain"}], "start": 1761732098446, "stop": 1761732098498}, {"name": "轮询中（已等待13.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "55f2de23-d9e5-4198-bfcf-64f4702bd3e0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e50adee6-2070-4abe-8143-2fa8aad1f886-attachment.txt", "type": "text/plain"}], "start": 1761732098498, "stop": 1761732098498}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e0c7ede1-8df4-4168-853a-0395cdcb550f-attachment.txt", "type": "text/plain"}], "start": 1761732098498, "stop": 1761732098499}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a899aee4-7b5d-4106-85a4-1ebd6febc02d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "823d051e-e94d-4be2-9489-0676d986e2b9-attachment.txt", "type": "text/plain"}], "start": 1761732100559, "stop": 1761732100609}], "attachments": [{"name": "查询条件", "source": "44da7a5c-db80-437f-89e4-5a02ff204327-attachment.txt", "type": "text/plain"}], "start": 1761732100558, "stop": 1761732100609}, {"name": "轮询中（已等待15.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "85d25d18-5937-4cc3-940d-67f02d627cb0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2fbf598b-89d8-4cf6-af5a-a9e89eb17f1a-attachment.txt", "type": "text/plain"}], "start": 1761732100609, "stop": 1761732100609}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e45a496c-d2f6-4ce1-b19e-8a4a84715938-attachment.txt", "type": "text/plain"}], "start": 1761732100609, "stop": 1761732100610}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "884f8a8c-4252-4e20-b7b9-84e09d59728d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2a114f6c-2585-46b5-8f71-001a016a995e-attachment.txt", "type": "text/plain"}], "start": 1761732102671, "stop": 1761732102723}], "attachments": [{"name": "查询条件", "source": "db2bd3b2-1310-4e74-b130-753eeeaf57f7-attachment.txt", "type": "text/plain"}], "start": 1761732102671, "stop": 1761732102723}, {"name": "轮询中（已等待17.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3455673c-33f7-4d30-8962-5c37efc64584-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b6df86d7-4d99-4b2c-9576-6c664157c8b4-attachment.txt", "type": "text/plain"}], "start": 1761732102723, "stop": 1761732102724}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ac531b78-1dcd-4b55-986e-4749095cea37-attachment.txt", "type": "text/plain"}], "start": 1761732102724, "stop": 1761732102724}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "596a58f5-ff0c-4df3-aa93-8d50caab8b8d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1e07d37f-ab69-4ba0-8269-e646ecea819a-attachment.txt", "type": "text/plain"}], "start": 1761732104779, "stop": 1761732104830}], "attachments": [{"name": "查询条件", "source": "7cc7f320-3baf-44fc-8624-d059b02fab2e-attachment.txt", "type": "text/plain"}], "start": 1761732104779, "stop": 1761732104830}, {"name": "轮询中（已等待19.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c01fdee6-8b04-4703-b2b6-9bb8fc48c498-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7c9aad97-be1d-46b2-b8dc-c1236b38358e-attachment.txt", "type": "text/plain"}], "start": 1761732104830, "stop": 1761732104830}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1cb43608-afb1-4cc1-be68-6b63e625925e-attachment.txt", "type": "text/plain"}], "start": 1761732104831, "stop": 1761732104831}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f31ad0f7-f1a1-430c-849e-3841e455f8ec-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "01572a4e-c8ae-4828-b973-e8cd5d01bdb7-attachment.txt", "type": "text/plain"}], "start": 1761732106894, "stop": 1761732106947}], "attachments": [{"name": "查询条件", "source": "531b1d51-bb9f-4072-b89d-c0385d2ecdef-attachment.txt", "type": "text/plain"}], "start": 1761732106894, "stop": 1761732106947}, {"name": "轮询中（已等待21.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e5595883-efee-42b0-8fcd-b102b7d08c76-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4db17fa5-5f9c-40ca-82b1-22772f0cc5a6-attachment.txt", "type": "text/plain"}], "start": 1761732106947, "stop": 1761732106948}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0a982e50-a4bf-444f-839d-71e19d277104-attachment.txt", "type": "text/plain"}], "start": 1761732106948, "stop": 1761732106949}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "14ccd37d-5e75-4f31-84a8-2869647f3562-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "695f2513-2f93-4a48-8b46-1312495a5396-attachment.txt", "type": "text/plain"}], "start": 1761732109001, "stop": 1761732109058}], "attachments": [{"name": "查询条件", "source": "f32e9e0e-d37d-46c8-a238-e4becab33844-attachment.txt", "type": "text/plain"}], "start": 1761732109000, "stop": 1761732109058}, {"name": "轮询中（已等待23.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a808c52e-fcc1-4cf5-81f9-c597819eb435-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "149e59c5-4076-451f-b19e-e91691f9387e-attachment.txt", "type": "text/plain"}], "start": 1761732109058, "stop": 1761732109059}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b1396b07-3421-4e7c-b36c-0b54eec4737f-attachment.txt", "type": "text/plain"}], "start": 1761732109059, "stop": 1761732109059}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "75dc2264-47f3-4f15-8848-c16a37b393da-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "71890fd2-a61e-4400-a003-d644d04c422a-attachment.txt", "type": "text/plain"}], "start": 1761732111125, "stop": 1761732111182}], "attachments": [{"name": "查询条件", "source": "f548fec4-73ce-45fb-919f-387b13b81c91-attachment.txt", "type": "text/plain"}], "start": 1761732111124, "stop": 1761732111182}, {"name": "轮询中（已等待25.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4300af0e-6d6a-4855-870c-9790bf85d493-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e67f5548-d443-479f-92e8-deaa89990d91-attachment.txt", "type": "text/plain"}], "start": 1761732111182, "stop": 1761732111183}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "881a521d-b768-4f86-98eb-1056b7c4b755-attachment.txt", "type": "text/plain"}], "start": 1761732111183, "stop": 1761732111183}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7986bf82-a864-42c2-8310-28932abbbeb6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "79679efb-bc0f-4aad-8ce1-5ab85290f6d2-attachment.txt", "type": "text/plain"}], "start": 1761732113246, "stop": 1761732113300}], "attachments": [{"name": "查询条件", "source": "417e1eb3-7094-4b82-bb0b-6ec01545dbe2-attachment.txt", "type": "text/plain"}], "start": 1761732113245, "stop": 1761732113300}, {"name": "轮询中（已等待27.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "438f9ef3-cc27-4f0b-92b2-f2a1982277b0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4bb67149-e8f0-47cf-81e1-f18334acc149-attachment.txt", "type": "text/plain"}], "start": 1761732113300, "stop": 1761732113301}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "970ea5b3-84c4-43cb-a883-7d4108eda698-attachment.txt", "type": "text/plain"}], "start": 1761732113301, "stop": 1761732113301}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bd95eb03-7010-45fd-a288-1abed9e235e3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "18e5caa8-2ba9-4e9f-9033-3806f80b5615-attachment.txt", "type": "text/plain"}], "start": 1761732115362, "stop": 1761732115417}], "attachments": [{"name": "查询条件", "source": "615736f2-f8bd-4e6d-8da9-6d208802e2a6-attachment.txt", "type": "text/plain"}], "start": 1761732115362, "stop": 1761732115417}, {"name": "轮询中（已等待30.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7731be9c-8483-48dc-9f51-c17e2070b295-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "166364ba-ba3a-4511-8ce4-c85323615cb0-attachment.txt", "type": "text/plain"}], "start": 1761732115417, "stop": 1761732115418}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a0341fb9-143d-4f20-853f-d8636ee5a873-attachment.txt", "type": "text/plain"}], "start": 1761732115418, "stop": 1761732115418}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "eb54c664-7efc-493a-b7f3-1a77437df073-attachment.txt", "type": "text/plain"}], "start": 1761732117421, "stop": 1761732117421}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "afefead3-4823-4ace-9e45-55bdd6dd5fac-attachment.json", "type": "application/json"}], "start": 1761732117474, "stop": 1761732117475}], "attachments": [{"name": "执行SQL", "source": "6730f539-e439-468c-b0f3-65034e466f3a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8ce442e5-b618-4b6d-84be-3e7ca7fc0962-attachment.txt", "type": "text/plain"}], "start": 1761732117422, "stop": 1761732117475}], "attachments": [{"name": "查询条件", "source": "b7d57452-eecb-4046-8d01-8d9de41b61ab-attachment.txt", "type": "text/plain"}], "start": 1761732117421, "stop": 1761732117475}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "5ded7d83-be9a-4d8a-95bc-14d93bbb1b12-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "d4aefbbe-e002-49c5-9994-cfc25a1caa1d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1ff83b57-ab55-4fb8-aac9-df81f67e5d13-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "0dcb24c5-2a4e-44b1-a618-4a9b8dc38fad-attachment.txt", "type": "text/plain"}], "start": 1761732117475, "stop": 1761732117476}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "750f6c98-dc71-4e07-b430-5570aa0482cc-attachment.txt", "type": "text/plain"}], "start": 1761732117476, "stop": 1761732117476}], "start": 1761732085438, "stop": 1761732117476}], "start": 1761732085438, "stop": 1761732117477}], "attachments": [{"name": "log", "source": "bf883a5b-f641-49b0-b0ac-4de7a31ccd17-attachment.txt", "type": "text/plain"}], "start": 1761732071277, "stop": 1761732117477, "uuid": "faaa78a1-af43-4b32-a749-bbef062bc07f", "historyId": "9096540b4712077bc0bb74ca9894ee36", "testCaseId": "9096540b4712077bc0bb74ca9894ee36", "fullName": "test_cloudTrader.test_create.TestCreate_cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "60704-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}