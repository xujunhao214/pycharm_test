{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（45秒）", "trace": "self = <lingkuan_1027.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x000001C132DDE580>\nvar_manager = <lingkuan_1027.commons.variable_manager.VariableManager object at 0x000001C132BD1CD0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001C132CBD7F0>\n\n    @pytest.mark.flaky(reruns=3, reruns_delay=5)\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_cloudTrader = []\n        cloudTrader_user_count = var_manager.get_variable(\"cloudTrader_user_count\")\n        for i in range(2, cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            cloudTrader_account_var_name = f\"cloudTrader_user_accounts_{i}\"\n            cloudTrader_account = var_manager.get_variable(cloudTrader_account_var_name)\n            if not cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{cloudTrader_account_var_name}）\")\n            all_accounts_cloudTrader.append(cloudTrader_account)\n        print(f\"将校验的后9个账号：{all_accounts_cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_cloudTrader = []\n        for idx, cloudTrader_account in enumerate(all_accounts_cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (cloudTrader_account,)\n    \n                db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n                print(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\")\n    \n                if not db_data:\n                    pytest.fail(f\"账号 {cloudTrader_account} 在主表中未找到记录\")\n    \n                # 保存账号ID并校验状态/净值/订阅表（代码与之前一致）\n                cloudTrader_vps_id = db_data[0][\"id\"]\n                all_ids_cloudTrader.append(cloudTrader_vps_id)\n                var_manager.set_runtime_variable(f\"cloudTrader_vps_ids_{idx}\", cloudTrader_vps_id)\n                print(\n                    f\"账号 {cloudTrader_account} 的ID为：{cloudTrader_vps_id}，已保存到变量 cloudTrader_vps_ids_{idx}\")\n    \n            with allure.step(\"校验账号状态和净值\"):\n                status = db_data[0][\"status\"]\n                assert status == 0, f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\"\n                logging.info(f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\")\n    \n                # euqit = db_data[0][\"euqit\"]\n                # assert euqit > 0, f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\"\n                # logging.info(f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\")\n    \n                # 校验订阅表记录（代码与之前一致）\n                sql = f\"SELECT * FROM follow_trader_subscribe WHERE slave_account = %s\"\n                params = (cloudTrader_account,)\n>               db_sub_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"slave_account ASC\"\n                )\n\ntest_cloudTrader\\test_create.py:299: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_1027.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x000001C132DDE580>\ndb_transaction = <pymysql.connections.Connection object at 0x000001C132CBD7F0>\nsql = 'SELECT * FROM follow_trader_subscribe WHERE slave_account = %s'\nparams = ('300160',), time_field = None, time_range = 3\norder_by = 'slave_account ASC', timeout = 45, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} \\n继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（45秒）\n\ncommons\\api_base.py:653: TimeoutError"}, "steps": [{"name": "验证第1个账号（300160）的数据库记录", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895721205, "stop": 1761895721258}], "attachments": [{"name": "查询条件", "source": "0aeeea4f-0348-42c4-962e-4e0cc7ffe673-attachment.txt", "type": "text/plain"}], "start": 1761895721204, "stop": 1761895721258}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "40d4c06c-15ed-4659-9c45-6aab5dc7335a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "41d165b3-6e15-43f6-921d-a476258f9b2a-attachment.txt", "type": "text/plain"}], "start": 1761895721258, "stop": 1761895721259}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "3f2aee98-4043-4475-9028-7a5b80840ce5-attachment.txt", "type": "text/plain"}], "start": 1761895721259, "stop": 1761895721259}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895723309, "stop": 1761895723529}], "attachments": [{"name": "查询条件", "source": "2376ea5f-a723-49a3-ad2b-2a2ba3e04fd9-attachment.txt", "type": "text/plain"}], "start": 1761895723309, "stop": 1761895723529}, {"name": "轮询中（已等待2.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "43732cb2-4e99-4273-ab61-b892cab5788b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c63d9e2f-2146-4a74-855a-1801ae7b031b-attachment.txt", "type": "text/plain"}], "start": 1761895723530, "stop": 1761895723530}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d301901d-19bc-4e92-9f71-c7401368e5b1-attachment.txt", "type": "text/plain"}], "start": 1761895723530, "stop": 1761895723530}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895725587, "stop": 1761895725637}], "attachments": [{"name": "查询条件", "source": "a9f724c5-25b0-4973-a406-231e03e75043-attachment.txt", "type": "text/plain"}], "start": 1761895725587, "stop": 1761895725637}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1a48b5e0-d9ca-4156-ab7c-674c4f2d05a5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "936ed722-d375-4baa-9e97-8d99772bc099-attachment.txt", "type": "text/plain"}], "start": 1761895725637, "stop": 1761895725638}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f24e3951-9a91-4a9d-a53c-e37f24f1f4f3-attachment.txt", "type": "text/plain"}], "start": 1761895725638, "stop": 1761895725638}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895727691, "stop": 1761895729789}], "attachments": [{"name": "查询条件", "source": "4aa7538c-a30e-445b-889d-f272cd500ca8-attachment.txt", "type": "text/plain"}], "start": 1761895727691, "stop": 1761895729789}, {"name": "轮询中（已等待8.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0456370c-97c4-4fdc-ba8d-c2ec494034f9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e606b6ab-804e-42fc-a633-d1335a83300b-attachment.txt", "type": "text/plain"}], "start": 1761895729789, "stop": 1761895729790}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "25497de8-41f5-455b-a0ed-3b3bb4fcfc78-attachment.txt", "type": "text/plain"}], "start": 1761895729790, "stop": 1761895729791}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895731845, "stop": 1761895731895}], "attachments": [{"name": "查询条件", "source": "f79fd9f9-689d-4cf2-9bf9-57476b7658af-attachment.txt", "type": "text/plain"}], "start": 1761895731845, "stop": 1761895731896}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9841e3c9-dce7-475c-90e1-699cfbb764dc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "be2012f1-45bb-477f-96ea-4e3f1bd29957-attachment.txt", "type": "text/plain"}], "start": 1761895731896, "stop": 1761895731897}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5bbf024b-c8e1-4086-9c77-3ef53e39198b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "16722894-6411-409f-88d8-7c0cf2e4a538-attachment.txt", "type": "text/plain"}], "start": 1761895731897, "stop": 1761895731898}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3c3f220a-af7f-428d-aa48-a75f814d5fb0-attachment.txt", "type": "text/plain"}], "start": 1761895731898, "stop": 1761895731899}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895733956, "stop": 1761895734013}], "attachments": [{"name": "查询条件", "source": "7e1e27d1-5db2-4d83-ae03-84daecf9355d-attachment.txt", "type": "text/plain"}], "start": 1761895733955, "stop": 1761895734013}, {"name": "轮询中（已等待12.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ed747ec2-fdc6-4265-8ad0-a6693574114b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "48a07867-f033-4949-aa3b-22122abbeb27-attachment.txt", "type": "text/plain"}], "start": 1761895734013, "stop": 1761895734014}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ba5d033f-0422-4f78-9822-874ccafceb21-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "78032620-02e8-42f8-a0e2-4dbb73e94710-attachment.txt", "type": "text/plain"}], "start": 1761895734015, "stop": 1761895734016}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "e645ed21-5aa5-4aa3-a5fb-b628c16e002b-attachment.txt", "type": "text/plain"}], "start": 1761895734016, "stop": 1761895734016}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895736064, "stop": 1761895736114}], "attachments": [{"name": "查询条件", "source": "a07d5d29-bd2d-4ee6-a2a0-b55f1f2c1d74-attachment.txt", "type": "text/plain"}], "start": 1761895736064, "stop": 1761895736114}, {"name": "轮询中（已等待15.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fbd9351d-57c2-4018-897d-9c853db30eb5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "86841a36-ece7-48a3-860c-e0476a3a98a7-attachment.txt", "type": "text/plain"}], "start": 1761895736114, "stop": 1761895736115}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d8fa1718-80ed-4205-bae1-07eac3a031cb-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "87b25291-4789-4ea7-b757-a5a009147b65-attachment.txt", "type": "text/plain"}], "start": 1761895736115, "stop": 1761895736116}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "16b42219-6c46-40ab-acda-9910bd32dfa2-attachment.txt", "type": "text/plain"}], "start": 1761895736117, "stop": 1761895736117}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "b872180e-4533-429b-808d-92c34e057eeb-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "4c5895e5-a3d8-4495-aa4a-cc6cba7b6216-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "333d5708-d434-4057-b54e-163cfb17b539-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "98d4f682-4abe-4e69-ae90-3ea970844a60-attachment.txt", "type": "text/plain"}], "start": 1761895736117, "stop": 1761895736120}], "start": 1761895721155, "stop": 1761895736120}], "start": 1761895721154, "stop": 1761895736121}, {"name": "校验账号状态和净值", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（45秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1027\\test_cloudTrader\\test_create.py\", line 299, in test_dbimport_addSlave\n    db_sub_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_1027\\commons\\api_base.py\", line 653, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（45秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1027\\commons\\api_base.py\", line 653, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895736170, "stop": 1761895736395}], "attachments": [{"name": "查询条件", "source": "1eb62519-1493-4778-bbc2-c32540b76653-attachment.txt", "type": "text/plain"}], "start": 1761895736170, "stop": 1761895736395}, {"name": "轮询中（已等待0.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "63e994d0-c748-4145-8e27-5bc0568653a9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d81133b8-c528-481e-bca2-cd6bd58be39d-attachment.txt", "type": "text/plain"}], "start": 1761895736395, "stop": 1761895736396}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "eff4e462-14a1-4c6e-9099-1947d05fb96b-attachment.txt", "type": "text/plain"}], "start": 1761895736396, "stop": 1761895736397}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895738462, "stop": 1761895738562}], "attachments": [{"name": "查询条件", "source": "a17ff85f-96fe-488c-b9c6-68592223d5ad-attachment.txt", "type": "text/plain"}], "start": 1761895738461, "stop": 1761895738562}, {"name": "轮询中（已等待2.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6c273225-6e44-4992-a7af-385acc6994aa-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "61c7e6ba-4367-4237-8b48-3248671b764f-attachment.txt", "type": "text/plain"}], "start": 1761895738562, "stop": 1761895738564}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ad760e94-eb12-4361-b0b6-1828819c891c-attachment.txt", "type": "text/plain"}], "start": 1761895738564, "stop": 1761895738564}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895740629, "stop": 1761895741173}], "attachments": [{"name": "查询条件", "source": "a092efb0-d561-46b0-bb2f-ccf0a7ebf1cf-attachment.txt", "type": "text/plain"}], "start": 1761895740629, "stop": 1761895741173}, {"name": "轮询中（已等待5.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8db39cdd-c704-404d-8e5e-26973ac8a145-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0405bb64-86f2-4dc1-89ed-006bb751c26f-attachment.txt", "type": "text/plain"}], "start": 1761895741173, "stop": 1761895741174}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "61e9335a-5bfd-410b-a164-9ea4e5ec3ca8-attachment.txt", "type": "text/plain"}], "start": 1761895741175, "stop": 1761895741175}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895743227, "stop": 1761895743453}], "attachments": [{"name": "查询条件", "source": "3608eef2-dbb8-463d-9346-8daecd79f276-attachment.txt", "type": "text/plain"}], "start": 1761895743226, "stop": 1761895743453}, {"name": "轮询中（已等待7.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d928d4af-5743-43af-a89a-71abba069653-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ccf4853e-453e-4317-bca9-c54e449bbe4e-attachment.txt", "type": "text/plain"}], "start": 1761895743453, "stop": 1761895743454}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e56ee81d-a2b4-4ee9-8407-e3ce8f7b189a-attachment.txt", "type": "text/plain"}], "start": 1761895743454, "stop": 1761895743455}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895745523, "stop": 1761895745633}], "attachments": [{"name": "查询条件", "source": "576c8231-7983-48f7-92c3-46603b20ca81-attachment.txt", "type": "text/plain"}], "start": 1761895745523, "stop": 1761895745633}, {"name": "轮询中（已等待9.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "af96cbd6-808f-4c8b-87ee-24f320b5f8b9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6708e3a0-2dbf-4565-9763-8462ef186ea9-attachment.txt", "type": "text/plain"}], "start": 1761895745634, "stop": 1761895745635}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0fefad38-ef60-48a0-bc55-2864ae33b306-attachment.txt", "type": "text/plain"}], "start": 1761895745635, "stop": 1761895745636}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895747692, "stop": 1761895747936}], "attachments": [{"name": "查询条件", "source": "d1556be4-156a-4b29-bb25-0fc6984aa1e8-attachment.txt", "type": "text/plain"}], "start": 1761895747691, "stop": 1761895747937}, {"name": "轮询中（已等待11.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fa074671-c621-45f7-a148-c78a809729a0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8cb1dafe-4343-4195-b5f4-8847a3342cb5-attachment.txt", "type": "text/plain"}], "start": 1761895747937, "stop": 1761895747938}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "cc8f4779-7ab7-47c0-8eec-d00fbed56afe-attachment.txt", "type": "text/plain"}], "start": 1761895747938, "stop": 1761895747939}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895749989, "stop": 1761895750087}], "attachments": [{"name": "查询条件", "source": "972cc9d3-65c3-4b64-937d-bc0dbfcb0254-attachment.txt", "type": "text/plain"}], "start": 1761895749989, "stop": 1761895750087}, {"name": "轮询中（已等待14.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1cef1091-1ffa-4b41-ae65-b83d8adb12b0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7f54f780-2285-419f-bd87-099aaa76acfa-attachment.txt", "type": "text/plain"}], "start": 1761895750087, "stop": 1761895750089}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2b5b87a7-7f22-4cca-a4ab-ff4565b29000-attachment.txt", "type": "text/plain"}], "start": 1761895750089, "stop": 1761895750089}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895752147, "stop": 1761895752199}], "attachments": [{"name": "查询条件", "source": "0a0f3285-e7b4-48ee-9e9f-c63dab959ed3-attachment.txt", "type": "text/plain"}], "start": 1761895752146, "stop": 1761895752199}, {"name": "轮询中（已等待16.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2789c702-7c09-4189-8793-da6355ed672b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "78296f90-2c93-4672-ac7b-c69dc1268f64-attachment.txt", "type": "text/plain"}], "start": 1761895752199, "stop": 1761895752200}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8821853e-6801-4ec4-ac8e-b27eb17b0e78-attachment.txt", "type": "text/plain"}], "start": 1761895752200, "stop": 1761895752201}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895754252, "stop": 1761895754312}], "attachments": [{"name": "查询条件", "source": "7c2bc095-c8ee-49ae-b627-f42fbbac33db-attachment.txt", "type": "text/plain"}], "start": 1761895754251, "stop": 1761895754312}, {"name": "轮询中（已等待18.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7e4e1bec-6381-47f5-8cf5-e7ea1a368b43-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fa388562-7c65-4351-8ad3-d419d1530daa-attachment.txt", "type": "text/plain"}], "start": 1761895754312, "stop": 1761895754313}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4f5f7d4b-0529-4ae7-bde8-469a2488207c-attachment.txt", "type": "text/plain"}], "start": 1761895754313, "stop": 1761895754314}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895756379, "stop": 1761895756429}], "attachments": [{"name": "查询条件", "source": "680ab0cb-affc-471b-aff6-97a6cd59aa54-attachment.txt", "type": "text/plain"}], "start": 1761895756377, "stop": 1761895756429}, {"name": "轮询中（已等待20.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9e219b74-da9b-4798-b8f6-6edb85461f09-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5cc747a4-a9fd-4b9f-ae8f-42938371b2da-attachment.txt", "type": "text/plain"}], "start": 1761895756429, "stop": 1761895756430}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8bbea38a-e3c8-4b8d-a058-a74de434a982-attachment.txt", "type": "text/plain"}], "start": 1761895756430, "stop": 1761895756430}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895758494, "stop": 1761895758548}], "attachments": [{"name": "查询条件", "source": "18bd31c6-fa5d-4373-a1bc-a69da13f19ea-attachment.txt", "type": "text/plain"}], "start": 1761895758493, "stop": 1761895758548}, {"name": "轮询中（已等待22.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "afeb0dcc-1b64-4783-9722-0292da881348-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d35e555b-3de2-4e70-882b-7fbd6d891be0-attachment.txt", "type": "text/plain"}], "start": 1761895758549, "stop": 1761895758550}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "61cf3d48-ddac-430a-9756-195e9a177254-attachment.txt", "type": "text/plain"}], "start": 1761895758550, "stop": 1761895758551}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895760614, "stop": 1761895760670}], "attachments": [{"name": "查询条件", "source": "5b86f49a-8dc4-4a06-b1ee-0d535be6e640-attachment.txt", "type": "text/plain"}], "start": 1761895760613, "stop": 1761895760670}, {"name": "轮询中（已等待24.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a404ff94-a4a3-4772-b226-c6f36a19f20a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b819565d-be48-4b2b-beb4-86a6dbf30b39-attachment.txt", "type": "text/plain"}], "start": 1761895760670, "stop": 1761895760672}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "37107440-26c2-427d-80c3-5760ab7a9acb-attachment.txt", "type": "text/plain"}], "start": 1761895760672, "stop": 1761895760672}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895762724, "stop": 1761895762774}], "attachments": [{"name": "查询条件", "source": "20109702-548c-4ddf-ab0a-5768df5394f6-attachment.txt", "type": "text/plain"}], "start": 1761895762724, "stop": 1761895762774}, {"name": "轮询中（已等待26.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "279eb91c-8e59-4294-a26f-068d3541b6f4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e21a5b0a-21c1-4f5e-9f96-f285a37c9756-attachment.txt", "type": "text/plain"}], "start": 1761895762774, "stop": 1761895762777}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0552906e-51bc-4f7f-857d-87446c90a49f-attachment.txt", "type": "text/plain"}], "start": 1761895762777, "stop": 1761895762777}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895764843, "stop": 1761895764893}], "attachments": [{"name": "查询条件", "source": "024efad0-c417-4976-a5d7-dab6d6bd3026-attachment.txt", "type": "text/plain"}], "start": 1761895764842, "stop": 1761895764893}, {"name": "轮询中（已等待28.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c038e754-ca66-4bcb-a17c-74a6baf420f8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e363ebca-3c11-4e30-b6d9-eac6014c8843-attachment.txt", "type": "text/plain"}], "start": 1761895764894, "stop": 1761895764895}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b8eabf2e-1392-47d1-928e-7b6c4c2ff061-attachment.txt", "type": "text/plain"}], "start": 1761895764895, "stop": 1761895764896}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895766958, "stop": 1761895767010}], "attachments": [{"name": "查询条件", "source": "08a8166b-5fce-4f74-a875-d1d512cafc75-attachment.txt", "type": "text/plain"}], "start": 1761895766958, "stop": 1761895767010}, {"name": "轮询中（已等待30.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "84e25ba5-b5c7-48e5-865a-4292cd1f7a27-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c8563624-9124-43d1-abf1-98c093c6041a-attachment.txt", "type": "text/plain"}], "start": 1761895767010, "stop": 1761895767011}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "6c3fa5dc-cb23-471e-a7f9-e1dae8ce55c2-attachment.txt", "type": "text/plain"}], "start": 1761895767011, "stop": 1761895767012}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895769075, "stop": 1761895769126}], "attachments": [{"name": "查询条件", "source": "5f26f435-e769-4012-af18-07e690ba72ac-attachment.txt", "type": "text/plain"}], "start": 1761895769074, "stop": 1761895769126}, {"name": "轮询中（已等待33.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1091cf7e-9c62-4e12-91b6-710810856815-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5017b762-5e24-4f30-acc3-a2b4d998ea93-attachment.txt", "type": "text/plain"}], "start": 1761895769126, "stop": 1761895769128}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f0b3044d-d69a-4beb-b3f3-81f7d1514cb4-attachment.txt", "type": "text/plain"}], "start": 1761895769128, "stop": 1761895769128}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895771193, "stop": 1761895771245}], "attachments": [{"name": "查询条件", "source": "1bc68a33-b731-47c7-9a54-9aebc6b2b1f5-attachment.txt", "type": "text/plain"}], "start": 1761895771192, "stop": 1761895771245}, {"name": "轮询中（已等待35.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3327b4e5-c5db-40bf-9844-0bfa89525edc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f0d46bff-5db4-471b-b31a-acd0748ad92e-attachment.txt", "type": "text/plain"}], "start": 1761895771245, "stop": 1761895771246}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d8c5d69a-90f4-473d-9f3d-526900e1754e-attachment.txt", "type": "text/plain"}], "start": 1761895771246, "stop": 1761895771247}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895773307, "stop": 1761895773357}], "attachments": [{"name": "查询条件", "source": "3f8f326d-5232-4788-af7c-82c1d2eef544-attachment.txt", "type": "text/plain"}], "start": 1761895773306, "stop": 1761895773357}, {"name": "轮询中（已等待37.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b7025ba4-9cc0-499c-aadb-88506d651d90-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "24d014dc-3a57-4f90-8d4e-25f0d14778db-attachment.txt", "type": "text/plain"}], "start": 1761895773357, "stop": 1761895773359}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "406a6914-d32f-439f-aae7-49fd3edabda4-attachment.txt", "type": "text/plain"}], "start": 1761895773359, "stop": 1761895773360}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895775416, "stop": 1761895775467}], "attachments": [{"name": "查询条件", "source": "ed74d2f8-c1b6-489f-aa3a-06f43e8f2b96-attachment.txt", "type": "text/plain"}], "start": 1761895775414, "stop": 1761895775467}, {"name": "轮询中（已等待39.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3fc90ecd-15be-41d0-bf91-aa23ceeb4d39-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7996970e-6862-4939-b49c-b99bdbe8f614-attachment.txt", "type": "text/plain"}], "start": 1761895775467, "stop": 1761895775468}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9b421a59-d492-49da-9fda-27326020fdbb-attachment.txt", "type": "text/plain"}], "start": 1761895775468, "stop": 1761895775469}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895777534, "stop": 1761895777749}], "attachments": [{"name": "查询条件", "source": "c90550d9-a9cc-4598-b7e5-d5386b027e99-attachment.txt", "type": "text/plain"}], "start": 1761895777533, "stop": 1761895777749}, {"name": "轮询中（已等待41.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b41ba9d7-6ed4-4213-91fe-51196500b134-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f842b9f5-e9cd-49a8-b149-41cccc99d900-attachment.txt", "type": "text/plain"}], "start": 1761895777749, "stop": 1761895777752}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "83c27758-41b4-4f77-a33b-16525df09736-attachment.txt", "type": "text/plain"}], "start": 1761895777752, "stop": 1761895777752}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761895779816, "stop": 1761895780095}], "attachments": [{"name": "查询条件", "source": "f5b5e4fb-634f-4291-a9cf-dd4de98c9823-attachment.txt", "type": "text/plain"}], "start": 1761895779815, "stop": 1761895780095}, {"name": "轮询中（已等待44.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "54b78dc5-c52c-4f5e-a654-3c6cbe136887-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c55b8d3a-90a5-4a6f-bed8-084e48c74357-attachment.txt", "type": "text/plain"}], "start": 1761895780095, "stop": 1761895780097}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "76d6cca6-cd20-429f-be4a-e3d22df1aa74-attachment.txt", "type": "text/plain"}], "start": 1761895780097, "stop": 1761895780097}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "256085c7-99e2-433e-9b9a-48db015b78e2-attachment.txt", "type": "text/plain"}], "start": 1761895782105, "stop": 1761895782106}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "8e464155-7bc9-4b44-affd-6d8d85fbccec-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "a65844fc-8d5e-4a41-b3bb-58072dbab24e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9530c9e2-2d9b-47fe-ad19-40f3a8aabe63-attachment.txt", "type": "text/plain"}], "start": 1761895782386, "stop": 1761895782387}], "start": 1761895782106, "stop": 1761895782387}], "attachments": [{"name": "查询条件", "source": "e027bca1-13e0-4576-b426-78b1c605dc26-attachment.txt", "type": "text/plain"}], "start": 1761895782106, "stop": 1761895782387}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "5664d064-6335-4a4a-b21f-ae3ff93d95b5-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "b031b452-a7c8-4636-a5c7-17dcb9f33cc7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9cca2f2e-6858-4ce1-84b3-f87795edb371-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "39d0c280-5091-4385-a7e1-7759a39411f7-attachment.txt", "type": "text/plain"}], "start": 1761895782387, "stop": 1761895782388}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "c2871f63-d70a-4b25-ba33-11c132e88847-attachment.txt", "type": "text/plain"}], "start": 1761895782388, "stop": 1761895782388}], "start": 1761895736121, "stop": 1761895782388}], "start": 1761895736121, "stop": 1761895782389}], "attachments": [{"name": "log", "source": "943602f6-551f-48c4-92dd-cd5c6afdf89d-attachment.txt", "type": "text/plain"}], "start": 1761895721154, "stop": 1761895782390, "uuid": "b828e9c8-6fbe-4ae8-a16e-68e87512832b", "historyId": "9096540b4712077bc0bb74ca9894ee36", "testCaseId": "9096540b4712077bc0bb74ca9894ee36", "fullName": "test_cloudTrader.test_create.TestCreate_cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "tag", "value": "flaky(reruns=3, reruns_delay=5)"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "86664-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}