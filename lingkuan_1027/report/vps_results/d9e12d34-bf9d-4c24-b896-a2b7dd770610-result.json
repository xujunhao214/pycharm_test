{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps策略跟单状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps策略跟单状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps策略跟单状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899276670, "stop": 1761899276720}], "attachments": [{"name": "查询条件", "source": "35d7354d-df78-45cb-8d74-34637e7d6f21-attachment.txt", "type": "text/plain"}], "start": 1761899276669, "stop": 1761899276720}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6c2f7fd2-3a44-417d-b8e9-8ef348151851-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6ad33029-3fbe-443a-9b18-6fb8560ac637-attachment.txt", "type": "text/plain"}], "start": 1761899276720, "stop": 1761899276721}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "bbe8850c-5c91-4e34-a9cf-8ca1433a4cc0-attachment.txt", "type": "text/plain"}], "start": 1761899276722, "stop": 1761899276722}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a7aa7121-b3f8-44d0-bcf4-e6920bccdf5c-attachment.txt", "type": "text/plain"}], "start": 1761899276722, "stop": 1761899276723}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899278788, "stop": 1761899278840}], "attachments": [{"name": "查询条件", "source": "6f8e3801-7a2d-4b53-b5f5-1ecb62165259-attachment.txt", "type": "text/plain"}], "start": 1761899278787, "stop": 1761899278840}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4d507a24-ca3c-406e-8d8f-f477cd6be7e2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ced614cd-34a9-465b-a0e9-bf7b6c4c32b7-attachment.txt", "type": "text/plain"}], "start": 1761899278840, "stop": 1761899278841}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "1cba746a-143e-493e-b841-3501ae87c7b9-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "43e2d19c-115c-413f-ba74-6bae82871162-attachment.txt", "type": "text/plain"}], "start": 1761899278841, "stop": 1761899278842}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "9f5ca19a-faba-424c-afab-29a2322266d8-attachment.txt", "type": "text/plain"}], "start": 1761899278842, "stop": 1761899278842}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899280906, "stop": 1761899280959}], "attachments": [{"name": "查询条件", "source": "d7defc81-fc76-486b-94af-bdf3f8d5841e-attachment.txt", "type": "text/plain"}], "start": 1761899280906, "stop": 1761899280959}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bf9aea60-51bd-4fe3-8fb8-d83bda2b10bb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1a2df4e4-9129-4c9e-b66c-143eb3e21f72-attachment.txt", "type": "text/plain"}], "start": 1761899280959, "stop": 1761899280960}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "058fcdb4-779a-4042-8a0b-1b7bc47f4db4-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "206369a5-23a6-4c70-aa81-ae53eda8fff8-attachment.txt", "type": "text/plain"}], "start": 1761899280961, "stop": 1761899280961}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "83a97825-1558-461a-be1b-b8a48a2bfccb-attachment.txt", "type": "text/plain"}], "start": 1761899280961, "stop": 1761899280962}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "c8c8b556-5816-41c9-be28-957401874510-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "f2fd5c27-9810-4c47-8e52-f2789f58d1cd-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6dfc8b42-5485-4c58-856d-f925117d1618-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "d9b9bb7d-e38e-4800-bd5a-27d7aa66d7e1-attachment.txt", "type": "text/plain"}], "start": 1761899280962, "stop": 1761899280963}], "start": 1761899276620, "stop": 1761899280963}], "start": 1761899276619, "stop": 1761899280963}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1761899280963, "stop": 1761899280964}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "53a6fc48-0323-49b3-b987-e9d4b447fbfd-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "913c06b5-3917-4807-a4ff-122e669e533c-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "f61aa0b0-bd1b-4d8e-a530-fc9195fa7a3b-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "e1ccc830-325c-4744-9cc3-f334fcc12a34-attachment.json", "type": "application/json"}], "start": 1761899280964, "stop": 1761899280966}], "start": 1761899280964, "stop": 1761899280966}], "attachments": [{"name": "log", "source": "e9100fb2-25a0-460d-b6f7-670dc850ffe9-attachment.txt", "type": "text/plain"}], "start": 1761899276619, "stop": 1761899280966, "uuid": "a579ff04-eb3b-4375-8a94-440fac4ddc41", "historyId": "1e96dfcd39e1c18811a04980490590e7", "testCaseId": "1e96dfcd39e1c18811a04980490590e7", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen_addstatus#test_dbquery_redis", "labels": [{"name": "story", "value": "场景3：VPS策略下单-关闭策略跟单状态"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}