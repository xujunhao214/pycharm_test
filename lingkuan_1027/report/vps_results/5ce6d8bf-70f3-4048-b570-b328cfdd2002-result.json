{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899213149, "stop": 1761899213202}], "attachments": [{"name": "时区处理", "source": "7b34bc2b-42a5-429f-96e6-1ae3ea901bc3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f3d2e2a0-9aba-4e47-ac21-42ee56e9e096-attachment.txt", "type": "text/plain"}], "start": 1761899213148, "stop": 1761899213202}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3d720e1b-108c-4b0f-ae3f-fe79cc9539cb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f54c8b18-45e4-40e1-bd3f-550047393298-attachment.txt", "type": "text/plain"}], "start": 1761899213202, "stop": 1761899213203}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "6de368e7-93b9-48fd-bb9a-95b23bb0bef9-attachment.txt", "type": "text/plain"}], "start": 1761899213203, "stop": 1761899213203}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a4f73f17-10e3-4de5-9e53-a5d694f8c504-attachment.txt", "type": "text/plain"}], "start": 1761899213203, "stop": 1761899213204}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899215262, "stop": 1761899215312}], "attachments": [{"name": "时区处理", "source": "52099df6-6cb7-4250-85f2-7e9acf4a480b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f23975db-5f36-42a6-9aa4-9e7b9bb9faaf-attachment.txt", "type": "text/plain"}], "start": 1761899215261, "stop": 1761899215312}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "33c2dc92-65dc-4ea8-beef-8cf3aca58cc4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9aa18e1d-8d44-4709-a131-8d03bf4e16e2-attachment.txt", "type": "text/plain"}], "start": 1761899215312, "stop": 1761899215313}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e4e60419-6c81-4c72-8ee7-9a140fc0f57d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "254b69f1-90a2-47e0-a136-11261efd0162-attachment.txt", "type": "text/plain"}], "start": 1761899215313, "stop": 1761899215314}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "dd64aa71-368b-4450-a191-25d13e670e89-attachment.txt", "type": "text/plain"}], "start": 1761899215314, "stop": 1761899215314}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899217380, "stop": 1761899217429}], "attachments": [{"name": "时区处理", "source": "5ed81b6a-ebd3-47ba-87a1-159bbf49a3a2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9b780b8b-be78-4641-a02d-47e439aa8cca-attachment.txt", "type": "text/plain"}], "start": 1761899217379, "stop": 1761899217429}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d7004bf8-079b-4765-bc99-69a7f0f67949-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "896fe500-a8b3-4a0e-95d5-930835d96dce-attachment.txt", "type": "text/plain"}], "start": 1761899217429, "stop": 1761899217430}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "465100a3-3ecc-4c35-ba37-66c9c532d328-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4c8f4bbf-f673-41d4-8cb9-10550df7a105-attachment.txt", "type": "text/plain"}], "start": 1761899217430, "stop": 1761899217430}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "0dada192-5a8f-4551-ba8c-90d86ef48d81-attachment.txt", "type": "text/plain"}], "start": 1761899217431, "stop": 1761899217431}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "8ed1b9f0-febd-4aaf-b5c0-2454849d7dbd-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "3b1c9bd4-7b92-485d-83ba-50d11aafb160-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1b527fa4-aee2-499c-9645-7de9682e65cd-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "e8b9ebab-9b1c-41e8-9c36-7e33da8c5993-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "90859c40-363e-426d-8d05-e25968627699-attachment.txt", "type": "text/plain"}], "start": 1761899217431, "stop": 1761899217433}], "start": 1761899213092, "stop": 1761899217433}], "start": 1761899213092, "stop": 1761899217433}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "38b9a977-5c72-42c4-89bd-a1283d8b97ca-attachment.attach", "type": "text/plain"}], "start": 1761899217433, "stop": 1761899217433}], "start": 1761899217433, "stop": 1761899217433}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "f188fe30-606b-463c-9269-2508dc0d734b-attachment.attach", "type": "text/plain"}], "start": 1761899217433, "stop": 1761899217434}], "start": 1761899217433, "stop": 1761899217434}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "16543fde-49fd-4eb2-8a37-156a6089cafe-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "86b2c2ec-9117-4138-a8d9-53787dd6102e-attachment.attach", "type": "text/plain"}], "start": 1761899217434, "stop": 1761899217434}], "start": 1761899217434, "stop": 1761899217434}], "start": 1761899217433, "stop": 1761899217434}], "attachments": [{"name": "log", "source": "1528af58-5b52-4f36-bbae-1661daf5ba51-attachment.txt", "type": "text/plain"}], "start": 1761899213092, "stop": 1761899217435, "uuid": "63306f8c-5541-40b1-a10f-1c316ce2f646", "historyId": "7468a7dc0e2e349d0afe2864b94cef15", "testCaseId": "7468a7dc0e2e349d0afe2864b94cef15", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}