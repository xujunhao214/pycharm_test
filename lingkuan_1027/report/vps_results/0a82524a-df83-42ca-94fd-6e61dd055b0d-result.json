{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号平仓-关闭\n      2. 进行开仓\n      3. 进行平仓\n      4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      5. 修改vps跟单账号平仓-开启\n    - 预期结果：vps跟单账号平仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899227881, "stop": 1761899227933}], "attachments": [{"name": "时区处理", "source": "e1fcc0c8-105b-461c-af45-83b4811a0e8c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "146198d0-1211-4919-9ea5-abe8d73015a4-attachment.txt", "type": "text/plain"}], "start": 1761899227880, "stop": 1761899227933}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1e822dd3-f677-42d9-8614-695334ad8a3c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fd203160-d622-424e-b025-12373fb96590-attachment.txt", "type": "text/plain"}], "start": 1761899227933, "stop": 1761899227934}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "80675d5e-9a9e-444c-af0c-d0a5d00458a7-attachment.txt", "type": "text/plain"}], "start": 1761899227934, "stop": 1761899227934}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f080ce72-abac-4f02-889e-f86326155687-attachment.txt", "type": "text/plain"}], "start": 1761899227934, "stop": 1761899227934}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899230003, "stop": 1761899230060}], "attachments": [{"name": "时区处理", "source": "2087d195-5a4a-418d-bf33-2def6d55b4ca-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ba217508-b6f6-4e89-a37f-8d0ba29f5d63-attachment.txt", "type": "text/plain"}], "start": 1761899230002, "stop": 1761899230060}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ffc7f165-4b09-4c12-99f2-93b7fb22a039-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "864ee7da-a7bd-45ca-86e3-d40bebed2127-attachment.txt", "type": "text/plain"}], "start": 1761899230060, "stop": 1761899230061}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "56bf84f6-90b5-4e6d-b8b1-790f1fd82100-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b78d59a1-a3df-4548-bbb4-f0d9a33abd3a-attachment.txt", "type": "text/plain"}], "start": 1761899230061, "stop": 1761899230061}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "20d722fe-7ab4-431c-b22a-33a4d3fbeefe-attachment.txt", "type": "text/plain"}], "start": 1761899230061, "stop": 1761899230062}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899232129, "stop": 1761899232197}], "attachments": [{"name": "时区处理", "source": "d2bdd0cf-7d0e-4c00-a073-d8141f2469ad-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5f072936-3e56-4a7f-9402-020fde0bb3b5-attachment.txt", "type": "text/plain"}], "start": 1761899232128, "stop": 1761899232197}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "aa08852f-3b62-490f-bfd6-179e817917e0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "59460fba-44b8-4cd7-b0ca-ed43716a30e1-attachment.txt", "type": "text/plain"}], "start": 1761899232197, "stop": 1761899232198}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "74e4689a-304a-40aa-9372-d70fd7c37db5-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "397fc1f1-36b7-4ab1-96c6-e53756ac8261-attachment.txt", "type": "text/plain"}], "start": 1761899232198, "stop": 1761899232198}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "c8f7f47e-170d-4fc0-9665-03b7b829caf1-attachment.txt", "type": "text/plain"}], "start": 1761899232198, "stop": 1761899232199}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "a2180915-1efa-42f0-b6e4-fa86804515e8-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "e56ae7a8-236c-4cbb-9c4c-2c972db234cb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "343bdf71-3957-4ca0-bfa3-2cf70b67a2b1-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "a88aed45-d259-41f4-9e3c-1540d10d3a9f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "60a83c32-55ac-4abe-bd45-dd1763dd88aa-attachment.txt", "type": "text/plain"}], "start": 1761899232199, "stop": 1761899232200}], "start": 1761899227830, "stop": 1761899232200}], "start": 1761899227830, "stop": 1761899232200}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "aac46979-08e8-4e8b-8e28-be47846144e4-attachment.attach", "type": "text/plain"}], "start": 1761899232200, "stop": 1761899232201}], "start": 1761899232200, "stop": 1761899232201}, {"name": "验证手数范围-开始手数", "status": "passed", "steps": [{"name": "校验: 开始手数应符合预期", "status": "passed", "attachments": [{"name": "开始手数详情", "source": "5d96b71a-2406-4c6c-b772-244929f17e75-attachment.attach", "type": "text/plain"}], "start": 1761899232201, "stop": 1761899232201}], "start": 1761899232201, "stop": 1761899232201}, {"name": "验证手数范围-结束手数", "status": "passed", "steps": [{"name": "校验: 结束手数应符合预期", "status": "passed", "attachments": [{"name": "结束手数详情", "source": "d6b8a016-db0a-4349-ac4e-5d12c9912d73-attachment.attach", "type": "text/plain"}], "start": 1761899232201, "stop": 1761899232201}], "start": 1761899232201, "stop": 1761899232201}, {"name": "验证指令总手数", "status": "passed", "steps": [{"name": "校验: 指令总手数应符合预期", "status": "passed", "attachments": [{"name": "指令总手数详情", "source": "7cdf9c65-63af-4d23-b31a-3341aee9ed1f-attachment.attach", "type": "text/plain"}], "start": 1761899232201, "stop": 1761899232202}], "start": 1761899232201, "stop": 1761899232202}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "80f1df53-2113-417a-816e-58405b9122e7-attachment.attach", "type": "text/plain"}], "start": 1761899232202, "stop": 1761899232202}], "start": 1761899232202, "stop": 1761899232202}], "start": 1761899232200, "stop": 1761899232202}], "attachments": [{"name": "log", "source": "68bc9ab1-f61e-4dd1-ae00-726cd363a45e-attachment.txt", "type": "text/plain"}], "start": 1761899227830, "stop": 1761899232202, "uuid": "4561150d-2c2b-46da-93d4-4dbf75fee180", "historyId": "1771b7d0b5d76a810a41ac6403690e55", "testCaseId": "1771b7d0b5d76a810a41ac6403690e55", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakagelevel#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景2：VPS策略下单-漏平"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}