{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号平仓-关闭\n      2. 进行开仓\n      3. 进行平仓\n      4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      5. 修改vps跟单账号平仓-开启\n    - 预期结果：vps跟单账号平仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899232694, "stop": 1761899232744}], "attachments": [{"name": "时区处理", "source": "1feecb6d-c25e-4adf-9af4-a07f2cb976cc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "964b12c7-fc56-4105-945b-678ca9ccd22f-attachment.txt", "type": "text/plain"}], "start": 1761899232693, "stop": 1761899232744}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "059186e9-7724-4e87-bb33-5123439ec10a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "73687033-f352-40db-827b-4c246976ffcd-attachment.txt", "type": "text/plain"}], "start": 1761899232744, "stop": 1761899232745}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "91b6b276-b3d8-4768-aa34-5b62cd91d5e2-attachment.txt", "type": "text/plain"}], "start": 1761899232745, "stop": 1761899232745}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1d2981cf-8196-43a9-98e8-99de801d7471-attachment.txt", "type": "text/plain"}], "start": 1761899232745, "stop": 1761899232745}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899234793, "stop": 1761899234845}], "attachments": [{"name": "时区处理", "source": "0ba9862f-6dc5-4c97-88b8-8fdccfabc746-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0aa18e0b-11b2-4c0d-a7eb-dbdd005902a3-attachment.txt", "type": "text/plain"}], "start": 1761899234792, "stop": 1761899234845}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c5dc6a2f-0d06-4f6b-9cf8-ed5a1d72c39c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3604eaba-a893-4e37-87bb-bf039eca9038-attachment.txt", "type": "text/plain"}], "start": 1761899234845, "stop": 1761899234845}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ace3c426-0779-4428-9e04-3469e79d190b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "5ea3f0ac-db61-429d-941e-d93c6e8de8ee-attachment.txt", "type": "text/plain"}], "start": 1761899234845, "stop": 1761899234846}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "55c4ead3-dcf5-4b82-a610-b07c1571248b-attachment.txt", "type": "text/plain"}], "start": 1761899234846, "stop": 1761899234846}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899236902, "stop": 1761899236957}], "attachments": [{"name": "时区处理", "source": "09d98924-749f-4440-a05f-cf0ede018db4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6b660570-39eb-4ab8-9c7c-578d4709d62e-attachment.txt", "type": "text/plain"}], "start": 1761899236901, "stop": 1761899236957}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fee906e3-43f0-4f95-9bf6-be53fb2f99d7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8b4605d8-0c5e-4290-8f32-67ee19a6d9ae-attachment.txt", "type": "text/plain"}], "start": 1761899236957, "stop": 1761899236958}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "9f5e3642-ed08-4073-99b4-bf82de2dccac-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b1cf0a6f-fd9f-4252-b5d1-82a5ace7ee44-attachment.txt", "type": "text/plain"}], "start": 1761899236958, "stop": 1761899236959}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "1abcf8c6-5239-41d5-8da0-fac2452477f6-attachment.txt", "type": "text/plain"}], "start": 1761899236959, "stop": 1761899236960}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "84a71fa4-65e1-45ad-a7e2-c08adfa2df22-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "ef851a23-c861-41b6-86ea-275ee9403e18-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3a45dc75-cf3d-47fa-879f-330e430ef673-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "9d60f9dd-c9c6-4793-88ec-d5c75af96a13-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "eac58623-c339-432b-a547-1464cb37c537-attachment.txt", "type": "text/plain"}], "start": 1761899236960, "stop": 1761899236962}], "start": 1761899232646, "stop": 1761899236962}], "start": 1761899232646, "stop": 1761899236962}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "932b7bee-b8dd-4f61-a703-f8f4a9bd4a28-attachment.attach", "type": "text/plain"}], "start": 1761899236962, "stop": 1761899236962}], "start": 1761899236962, "stop": 1761899236962}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "a5a2d9c5-f148-4112-9980-849279f8a13a-attachment.attach", "type": "text/plain"}], "start": 1761899236963, "stop": 1761899236963}], "start": 1761899236963, "stop": 1761899236963}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "04687041-7831-430f-85ec-a643ab34d585-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "456a402b-79fa-4d3f-b395-c95fa80f3f7e-attachment.attach", "type": "text/plain"}], "start": 1761899236963, "stop": 1761899236964}], "start": 1761899236963, "stop": 1761899236964}], "start": 1761899236962, "stop": 1761899236964}], "attachments": [{"name": "log", "source": "0dfdd545-64f5-4cb3-8559-55f268cd2a1c-attachment.txt", "type": "text/plain"}], "start": 1761899232646, "stop": 1761899236964, "uuid": "a47e6bc7-27ea-4db5-92dc-48dfa049e867", "historyId": "8e7535779067fa84c45bf9294b522e45", "testCaseId": "8e7535779067fa84c45bf9294b522e45", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakagelevel#test_dbquery_addsalve_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景2：VPS策略下单-漏平"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}