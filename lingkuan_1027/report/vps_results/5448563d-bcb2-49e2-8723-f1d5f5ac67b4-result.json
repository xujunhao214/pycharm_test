{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps策略跟单状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps策略跟单状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps策略跟单状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899299653, "stop": 1761899299706}], "attachments": [{"name": "时区处理", "source": "6b6145be-b845-4e51-bc9d-92ec774336d3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6014a718-6f7d-4e2b-a6df-1320fa311669-attachment.txt", "type": "text/plain"}], "start": 1761899299652, "stop": 1761899299706}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "79d720d8-fc4f-415a-9fd3-e0538bf21a5e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "157cd870-bf73-43a4-b280-e6a0c948fbff-attachment.txt", "type": "text/plain"}], "start": 1761899299706, "stop": 1761899299707}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c3c154ab-bea2-46a7-903e-21a0e59885e7-attachment.txt", "type": "text/plain"}], "start": 1761899299707, "stop": 1761899299707}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899301773, "stop": 1761899301824}], "attachments": [{"name": "时区处理", "source": "f567ff28-0ec3-46ce-9406-8bdf75da5846-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a33f13e4-822a-4e16-a4d4-138a9afb174c-attachment.txt", "type": "text/plain"}], "start": 1761899301772, "stop": 1761899301824}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d1429d9a-0fe8-4d61-aded-ea3af8acc52c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d538c4e9-afba-4742-bae1-407580ee2b7a-attachment.txt", "type": "text/plain"}], "start": 1761899301824, "stop": 1761899301825}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "79e942fb-0ff9-41e5-9bfc-036d3f84ce77-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4a5c86d2-4c70-4397-97b7-765c70484cf1-attachment.txt", "type": "text/plain"}], "start": 1761899301825, "stop": 1761899301826}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "250c0374-cb7c-4f69-8ef7-4bbe4ed9f741-attachment.txt", "type": "text/plain"}], "start": 1761899301826, "stop": 1761899301826}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899303889, "stop": 1761899303945}], "attachments": [{"name": "时区处理", "source": "775532ff-4e61-4fd1-a1a5-a8e21df1924c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "89fa8c77-deca-4c6d-befc-2bbd57879eab-attachment.txt", "type": "text/plain"}], "start": 1761899303888, "stop": 1761899303946}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e3fd3308-792e-4fc7-a5dd-17f55ca3c438-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7c188b48-6362-435e-bc03-f7d6b5210637-attachment.txt", "type": "text/plain"}], "start": 1761899303946, "stop": 1761899303946}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "999af02c-86b3-4301-8688-f8b7c518f42f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b663e18d-7c6d-4b24-9b59-8317ee868992-attachment.txt", "type": "text/plain"}], "start": 1761899303946, "stop": 1761899303947}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "a932c194-0ed3-41d5-a229-28f059dcda2c-attachment.txt", "type": "text/plain"}], "start": 1761899303947, "stop": 1761899303948}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899306012, "stop": 1761899306065}], "attachments": [{"name": "时区处理", "source": "6116a4db-54fe-4171-96fb-97a09f72021d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9f005601-7f94-41a7-a54d-a9fee0c4fd43-attachment.txt", "type": "text/plain"}], "start": 1761899306010, "stop": 1761899306065}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ae76c312-d896-45d5-8404-f4770861a994-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d8c0b3c9-2be1-4dbe-9c15-3589c1cd02cc-attachment.txt", "type": "text/plain"}], "start": 1761899306065, "stop": 1761899306066}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f1a038d8-7fd3-41ea-8000-04940af20541-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "33d58322-bce0-4a6c-a33f-70b9bff61267-attachment.txt", "type": "text/plain"}], "start": 1761899306066, "stop": 1761899306067}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "aa94b77a-2b22-48d8-9976-7b7a83cd39bb-attachment.txt", "type": "text/plain"}], "start": 1761899306067, "stop": 1761899306067}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "ac9fa6e7-6ea4-472e-af53-046cd3a5ebde-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "b7f1d1ac-7d6d-4697-8c2a-09ae91f28aa2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6d6e8efc-d587-4fd1-9920-61e52b189119-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "9d147c04-b73a-4dda-b85c-01aa6111bca5-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "824b8356-8fd9-4c34-a206-c36b2dbcd9f9-attachment.txt", "type": "text/plain"}], "start": 1761899306067, "stop": 1761899306069}], "start": 1761899299603, "stop": 1761899306069}], "start": 1761899299603, "stop": 1761899306069}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "7f9401a8-d287-49b7-b4cb-76189cc7adab-attachment.attach", "type": "text/plain"}], "start": 1761899306069, "stop": 1761899306069}], "start": 1761899306069, "stop": 1761899306069}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "b8664d95-b9a7-4bbe-bed1-59d1ed0fc177-attachment.attach", "type": "text/plain"}], "start": 1761899306070, "stop": 1761899306070}], "start": 1761899306069, "stop": 1761899306070}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "56b0fc7c-320b-4f41-8ac5-2a29b232ded2-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "2c5dd430-f6ae-4415-9d4a-d79ed5d37b66-attachment.attach", "type": "text/plain"}], "start": 1761899306070, "stop": 1761899306071}], "start": 1761899306070, "stop": 1761899306071}], "start": 1761899306069, "stop": 1761899306071}], "attachments": [{"name": "log", "source": "7587e9f3-d7ce-43a2-aa42-43cbb0e82e8c-attachment.txt", "type": "text/plain"}], "start": 1761899299603, "stop": 1761899306071, "uuid": "f0aef432-8e60-444c-9eba-e76d9e5496fb", "historyId": "48ba5877fb5e0f5731afe104c5bb1809", "testCaseId": "48ba5877fb5e0f5731afe104c5bb1809", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen_addstatus#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景3：VPS策略下单-关闭策略跟单状态"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}