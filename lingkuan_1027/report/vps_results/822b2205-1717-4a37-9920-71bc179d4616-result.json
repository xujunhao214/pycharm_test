{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899198715, "stop": 1761899198767}], "attachments": [{"name": "时区处理", "source": "cc327728-c4b4-4984-bcaf-560d2be54112-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a2734a27-7666-4ce5-a266-21c4dcab1331-attachment.txt", "type": "text/plain"}], "start": 1761899198713, "stop": 1761899198767}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "928168dd-3d7b-4f51-8f9a-af1cdbe26711-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "148fd5f8-d139-4de3-b941-eca39e3f98ad-attachment.txt", "type": "text/plain"}], "start": 1761899198767, "stop": 1761899198768}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "1f777534-de3a-41f4-b1fa-c760ba02ddde-attachment.txt", "type": "text/plain"}], "start": 1761899198768, "stop": 1761899198768}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "24ea8d89-27e0-4e40-9267-26366af1097b-attachment.txt", "type": "text/plain"}], "start": 1761899198768, "stop": 1761899198769}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899200819, "stop": 1761899200875}], "attachments": [{"name": "时区处理", "source": "f7d41947-a664-47ca-8b41-19d997cb2a53-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e5e21584-fff8-4e4f-b1ef-db23bba668c4-attachment.txt", "type": "text/plain"}], "start": 1761899200818, "stop": 1761899200875}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "21b26c2a-8856-4d40-98a8-5825c453d8be-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c3ce5d00-f38a-46da-a09f-d7e7665d3b99-attachment.txt", "type": "text/plain"}], "start": 1761899200875, "stop": 1761899200875}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "764d1b98-5734-4b63-a931-39abeee7d8fa-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c2419a30-cf85-49d1-9537-330bee4d4592-attachment.txt", "type": "text/plain"}], "start": 1761899200875, "stop": 1761899200876}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ae72eb97-9d69-4cd7-83bf-873fb54593e2-attachment.txt", "type": "text/plain"}], "start": 1761899200876, "stop": 1761899200877}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899202927, "stop": 1761899202980}], "attachments": [{"name": "时区处理", "source": "3cc0244a-22bc-4e75-861d-000e64655680-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8634cedf-f63c-4520-ba17-03c0a358ba80-attachment.txt", "type": "text/plain"}], "start": 1761899202927, "stop": 1761899202980}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b4fd4ff8-aba7-4bc6-a8f1-fd9cc018e8c6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "60e52bc4-498e-4e38-ad67-352a06e8bd7e-attachment.txt", "type": "text/plain"}], "start": 1761899202980, "stop": 1761899202981}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d673f0c4-3039-4bcb-b2fc-14cfb83962ae-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6ba8ba09-e2b4-410e-a7a9-6b4a2e084040-attachment.txt", "type": "text/plain"}], "start": 1761899202981, "stop": 1761899202982}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "7369611f-1f3c-46ec-b139-ac7b0806c21e-attachment.txt", "type": "text/plain"}], "start": 1761899202982, "stop": 1761899202982}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899205065, "stop": 1761899205124}], "attachments": [{"name": "时区处理", "source": "cbe57f16-b1e6-4554-91c4-ba8138288649-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bf900f85-d073-4e49-8fd0-aeea3b0fcbe3-attachment.txt", "type": "text/plain"}], "start": 1761899205064, "stop": 1761899205124}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d4719d9b-2100-426d-a730-01f5f6dea9cf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8fa31d62-8e30-40d1-b97a-b0277847ea1d-attachment.txt", "type": "text/plain"}], "start": 1761899205124, "stop": 1761899205126}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e122a507-b0f4-4fb5-b68c-906d0cc2f9f9-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "14a2eeb4-f5ea-4844-8470-c3731dc62bf5-attachment.txt", "type": "text/plain"}], "start": 1761899205126, "stop": 1761899205126}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "be5ca278-6ca4-45ec-a69d-788579ccae0b-attachment.txt", "type": "text/plain"}], "start": 1761899205127, "stop": 1761899205127}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "4ffbccfd-291c-48da-9cd5-2626084af195-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "62805b21-09d7-4ca9-b436-3d900bfdd86a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1af50a6c-e3e7-40fa-8512-299e312c7604-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "20d3d526-cfc2-4128-8a97-e0307bf343eb-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "4c19bba6-449c-45eb-8d92-7e0c018d8a6e-attachment.txt", "type": "text/plain"}], "start": 1761899205127, "stop": 1761899205129}], "start": 1761899198662, "stop": 1761899205129}], "start": 1761899198661, "stop": 1761899205129}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "003689ae-e0b4-4f05-9f4d-6a0cd7993873-attachment.attach", "type": "text/plain"}], "start": 1761899205129, "stop": 1761899205129}], "start": 1761899205129, "stop": 1761899205129}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "c747aa9b-4d9c-40e2-b740-c5b034a1ea05-attachment.attach", "type": "text/plain"}], "start": 1761899205129, "stop": 1761899205130}], "start": 1761899205129, "stop": 1761899205130}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "af39faff-acd2-4cd7-b038-ef620498c707-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "a83b3858-afa8-40e2-99a1-8e67f2ef9bdf-attachment.attach", "type": "text/plain"}], "start": 1761899205130, "stop": 1761899205130}], "start": 1761899205130, "stop": 1761899205130}], "start": 1761899205129, "stop": 1761899205130}], "attachments": [{"name": "log", "source": "77c1e75a-1fb7-4460-bc2d-3c58f17a2f16-attachment.txt", "type": "text/plain"}], "start": 1761899198661, "stop": 1761899205131, "uuid": "539ad839-ec4e-482c-89ae-253ed0505102", "historyId": "a7bca2fd0293034ffba7a574d0688c1b", "testCaseId": "a7bca2fd0293034ffba7a574d0688c1b", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_addsalve_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}