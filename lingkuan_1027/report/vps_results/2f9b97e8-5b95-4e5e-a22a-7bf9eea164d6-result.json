{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899170041, "stop": 1761899170094}], "attachments": [{"name": "时区处理", "source": "59b7b615-c5c1-4bcf-87d6-18c6035274b2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "32369234-a254-406a-a2df-09bfdf9a01c0-attachment.txt", "type": "text/plain"}], "start": 1761899170040, "stop": 1761899170094}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d0bbfb23-a830-4946-9313-4cfcc98a9bd1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8b050dcb-c378-4fad-8f4f-a1ade4155ab6-attachment.txt", "type": "text/plain"}], "start": 1761899170094, "stop": 1761899170095}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "804b1dee-bccc-47b3-9db9-4f9d178b05cc-attachment.txt", "type": "text/plain"}], "start": 1761899170095, "stop": 1761899170095}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7f6e0b4f-e102-4f94-8698-bc510c97298f-attachment.txt", "type": "text/plain"}], "start": 1761899170096, "stop": 1761899170096}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899172166, "stop": 1761899172218}], "attachments": [{"name": "时区处理", "source": "e4296016-bb39-46ef-837a-76e4646d1571-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3da3ff37-c244-404b-81d0-75ae1cca39ba-attachment.txt", "type": "text/plain"}], "start": 1761899172165, "stop": 1761899172218}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f4224e79-2817-4226-9b72-d1a54868c2ef-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1bc1c00c-1a25-4d85-8d2a-faaaaf2a4d91-attachment.txt", "type": "text/plain"}], "start": 1761899172218, "stop": 1761899172219}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "74242994-85fe-49b5-a501-2b311d0180c1-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8add4a1a-b160-4875-8b8b-8bef88ce7d7c-attachment.txt", "type": "text/plain"}], "start": 1761899172219, "stop": 1761899172219}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "63ff5daf-95bc-49ea-84bd-b627e159aea9-attachment.txt", "type": "text/plain"}], "start": 1761899172219, "stop": 1761899172220}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899174286, "stop": 1761899174335}], "attachments": [{"name": "时区处理", "source": "ead7715a-3fc9-4aff-ae8a-a0c93b567e02-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bf9ae493-d0b1-4877-a4a6-0bdcb426ef06-attachment.txt", "type": "text/plain"}], "start": 1761899174285, "stop": 1761899174335}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ccc2d132-b04b-402f-a518-31085d6c6c90-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8b55eab4-1959-4ff4-b6c7-c5919cb40774-attachment.txt", "type": "text/plain"}], "start": 1761899174335, "stop": 1761899174336}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "97a527ec-0c6a-4843-a800-05c338d22014-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "70bcb6f6-8ea2-4361-bb54-c2480856bbc9-attachment.txt", "type": "text/plain"}], "start": 1761899174336, "stop": 1761899174337}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "a2eae181-cc73-4347-9182-f5a83db355bb-attachment.txt", "type": "text/plain"}], "start": 1761899174337, "stop": 1761899174337}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "2aa9eb34-4c6f-40dc-a42a-21a61495f014-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "81526703-06d8-4173-a443-d7b84dfd151d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "701ce0b3-1b7d-4256-a6f7-9392532991c9-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "10a4b512-7d08-4200-8fe8-b598510db04a-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "ddad5349-b129-4da8-8759-017355ee3363-attachment.txt", "type": "text/plain"}], "start": 1761899174337, "stop": 1761899174339}], "start": 1761899169989, "stop": 1761899174339}], "start": 1761899169989, "stop": 1761899174339}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "47b71fdd-38e7-4f03-b577-816fc4a6635e-attachment.attach", "type": "text/plain"}], "start": 1761899174339, "stop": 1761899174340}], "start": 1761899174339, "stop": 1761899174340}, {"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "15b33e5e-be91-4851-b958-6b9915e9f28d-attachment.attach", "type": "text/plain"}], "start": 1761899174340, "stop": 1761899174340}], "start": 1761899174340, "stop": 1761899174340}, {"name": "验证手数范围-开始手数", "status": "passed", "steps": [{"name": "校验: 开始手数应符合预期", "status": "passed", "attachments": [{"name": "开始手数详情", "source": "8ea82aa2-c693-41e3-aa31-a65f90d40827-attachment.attach", "type": "text/plain"}], "start": 1761899174340, "stop": 1761899174341}], "start": 1761899174340, "stop": 1761899174341}, {"name": "验证手数范围-结束手数", "status": "passed", "steps": [{"name": "校验: 结束手数应符合预期", "status": "passed", "attachments": [{"name": "结束手数详情", "source": "b415b68e-4aba-44ae-a95f-f4bb69e0d7bf-attachment.attach", "type": "text/plain"}], "start": 1761899174341, "stop": 1761899174341}], "start": 1761899174341, "stop": 1761899174341}, {"name": "验证指令总手数", "status": "passed", "steps": [{"name": "校验: 指令总手数应符合预期", "status": "passed", "attachments": [{"name": "指令总手数详情", "source": "44f7f9bd-23d1-40e2-a5f4-ea1dcefb48f9-attachment.attach", "type": "text/plain"}], "start": 1761899174341, "stop": 1761899174341}], "start": 1761899174341, "stop": 1761899174341}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "7a9adee4-2bf4-45c3-90b6-794b945c0a64-attachment.attach", "type": "text/plain"}], "start": 1761899174341, "stop": 1761899174342}], "start": 1761899174341, "stop": 1761899174342}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "3267829f-ea89-44e3-96f4-b869f5b926ec-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "8c177470-edd6-4ebd-841d-9c536ef6eb11-attachment.attach", "type": "text/plain"}], "start": 1761899174342, "stop": 1761899174343}], "start": 1761899174342, "stop": 1761899174343}], "start": 1761899174339, "stop": 1761899174343}], "attachments": [{"name": "log", "source": "31c1f674-e302-42c9-83eb-43403e8e53f4-attachment.txt", "type": "text/plain"}], "start": 1761899169989, "stop": 1761899174343, "uuid": "c345b757-f408-426c-910b-b805b615e979", "historyId": "af23d2907cbb672b05c4900943cbf0ec", "testCaseId": "af23d2907cbb672b05c4900943cbf0ec", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}