{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899208357, "stop": 1761899208410}], "attachments": [{"name": "时区处理", "source": "9a31e6d6-bbcd-4a17-b505-d34ddd979284-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1ca9b772-1863-49dd-8d33-34582811e2f9-attachment.txt", "type": "text/plain"}], "start": 1761899208356, "stop": 1761899208410}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9d34e136-e763-4964-9404-792f7a84c47a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "527242ed-be69-495a-8e9a-0b0d47036ad8-attachment.txt", "type": "text/plain"}], "start": 1761899208410, "stop": 1761899208411}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "fa2ceac3-8488-483a-b581-ade434684394-attachment.txt", "type": "text/plain"}], "start": 1761899208411, "stop": 1761899208412}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7bcf684f-f60e-4acd-8712-d88ac82f1d76-attachment.txt", "type": "text/plain"}], "start": 1761899208412, "stop": 1761899208412}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899210477, "stop": 1761899210536}], "attachments": [{"name": "时区处理", "source": "296e191b-5756-4ee5-a45c-01ae2335ca05-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a8beb322-e5fe-49e3-9cd2-2854d18e9f8f-attachment.txt", "type": "text/plain"}], "start": 1761899210476, "stop": 1761899210536}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "db002c08-de0d-4f16-8f15-d9dafc564f61-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ff51aa30-f149-4895-a203-18bb86e7a3f7-attachment.txt", "type": "text/plain"}], "start": 1761899210536, "stop": 1761899210537}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "3fa991ca-4f29-485f-9c9d-e62aa644669d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "3f173cea-bc14-49cb-8b92-56a0928edeb5-attachment.txt", "type": "text/plain"}], "start": 1761899210537, "stop": 1761899210537}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "07fdbe35-f19b-4068-97c9-1c3e3e43a5e7-attachment.txt", "type": "text/plain"}], "start": 1761899210537, "stop": 1761899210538}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899212595, "stop": 1761899212652}], "attachments": [{"name": "时区处理", "source": "8927ae9c-8212-494e-b6cd-31008297b831-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "01e60aa2-5055-448d-8538-cf5b4f15d3df-attachment.txt", "type": "text/plain"}], "start": 1761899212594, "stop": 1761899212652}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "79a7d43f-bc88-47cf-a003-7a688c7ba09d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fff5d2d6-be36-49f6-8188-5ca41c949bfd-attachment.txt", "type": "text/plain"}], "start": 1761899212652, "stop": 1761899212653}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6a97b5c4-62b8-4402-bf74-ef3080cd2421-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d89a0df4-7513-44f4-8b8b-9e161f56ae37-attachment.txt", "type": "text/plain"}], "start": 1761899212653, "stop": 1761899212653}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7e1570d8-5230-45a7-b3ba-820aefa8f320-attachment.txt", "type": "text/plain"}], "start": 1761899212654, "stop": 1761899212654}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "6675824b-05e3-408a-a095-691c43072719-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "7c6df0a2-dfd5-4655-91f0-b40de392df51-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "db6e0bce-b91c-4e95-b066-2c7030133461-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "58d7e03b-50b1-43e9-8139-7a51c805a8c4-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "27196188-6e66-47e4-abe8-341230f82c93-attachment.txt", "type": "text/plain"}], "start": 1761899212654, "stop": 1761899212655}], "start": 1761899208300, "stop": 1761899212655}], "start": 1761899208300, "stop": 1761899212655}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "ee0fadc3-98c5-4f74-aa49-0a194b73100d-attachment.attach", "type": "text/plain"}], "start": 1761899212655, "stop": 1761899212656}], "start": 1761899212655, "stop": 1761899212656}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "fb54c8bb-f668-42e5-9a84-d2892eac2c63-attachment.attach", "type": "text/plain"}], "start": 1761899212656, "stop": 1761899212656}], "start": 1761899212656, "stop": 1761899212656}], "start": 1761899212655, "stop": 1761899212656}], "attachments": [{"name": "log", "source": "5b1ca0f4-c2e9-4619-b1d1-940df95d382a-attachment.txt", "type": "text/plain"}], "start": 1761899208300, "stop": 1761899212656, "uuid": "f1f46309-15b7-4fa6-ad27-9c1458ef8be2", "historyId": "f471c1983a25ad4070d3b2363a20ebf9", "testCaseId": "f471c1983a25ad4070d3b2363a20ebf9", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}