{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号平仓-关闭\n      2. 进行开仓\n      3. 进行平仓\n      4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      5. 修改vps跟单账号平仓-开启\n    - 预期结果：vps跟单账号平仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899239522, "stop": 1761899239571}], "attachments": [{"name": "时区处理", "source": "b49d3011-af93-4cbc-8b3a-2f76d382ddf2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0774f19a-5545-4d26-bf02-5522df215488-attachment.txt", "type": "text/plain"}], "start": 1761899239521, "stop": 1761899239571}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0c56e502-b91b-452c-8c38-c1227a7d44ee-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3cf62cc9-21f1-4837-a474-f1ea8b12bd99-attachment.txt", "type": "text/plain"}], "start": 1761899239571, "stop": 1761899239572}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "57ac3e0d-cb15-40ca-aa46-3ea2e0f6d3ca-attachment.txt", "type": "text/plain"}], "start": 1761899239572, "stop": 1761899239572}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "861798bf-ad79-4273-95f5-0530a3e7ef8d-attachment.txt", "type": "text/plain"}], "start": 1761899239572, "stop": 1761899239572}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899241631, "stop": 1761899241685}], "attachments": [{"name": "时区处理", "source": "1ae2e6f9-cf59-40a7-8275-8a9b454c8bff-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9948b376-f9c0-4142-948a-e15ae33af0d5-attachment.txt", "type": "text/plain"}], "start": 1761899241631, "stop": 1761899241685}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6c727e8e-7dd6-4e97-8dc5-8e07a099e127-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0a989f56-e1e4-4de3-bae0-a0c8889d2a23-attachment.txt", "type": "text/plain"}], "start": 1761899241685, "stop": 1761899241685}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "0ec633f2-0621-4f11-8d75-6eb9bdd19cda-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0cdd0502-09e6-4b4e-b2a9-908e28e8eb5a-attachment.txt", "type": "text/plain"}], "start": 1761899241685, "stop": 1761899241686}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "f97f1948-a19a-47fc-a54f-8e768386d0bb-attachment.txt", "type": "text/plain"}], "start": 1761899241686, "stop": 1761899241686}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899243738, "stop": 1761899243789}], "attachments": [{"name": "时区处理", "source": "23206a6e-fc9f-494a-a7db-a2f76cf98eab-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "eac9559c-6d2b-4638-9c6a-43cdc09067a2-attachment.txt", "type": "text/plain"}], "start": 1761899243737, "stop": 1761899243789}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f7eec6d7-57b5-4db3-a40d-fe17e27fe47c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8dff87ac-729c-4607-beb8-04d87d5cdb8b-attachment.txt", "type": "text/plain"}], "start": 1761899243789, "stop": 1761899243790}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "bf739b59-fade-4bb4-8c56-05a3a0705621-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4b0d1a67-7bc9-401e-b9c7-11f45f2955ad-attachment.txt", "type": "text/plain"}], "start": 1761899243790, "stop": 1761899243791}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "967fc895-e3db-4296-a420-7c9f2bb1b894-attachment.txt", "type": "text/plain"}], "start": 1761899243791, "stop": 1761899243791}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "4e666498-399e-4d7b-b877-940a25dcf697-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "1847f98d-e187-494c-acaa-6c95f44fde6e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7e374170-48f1-4fc6-8375-24dbe563607e-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "62f36eb3-48b8-438b-adf0-50e49d402f7b-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "d4a9c8ac-f56d-40b3-b369-edf4b6dd93d5-attachment.txt", "type": "text/plain"}], "start": 1761899243791, "stop": 1761899243793}], "start": 1761899239472, "stop": 1761899243793}], "start": 1761899239472, "stop": 1761899243793}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "9e400e8a-bf62-4149-8577-9750436c6626-attachment.attach", "type": "text/plain"}], "start": 1761899243793, "stop": 1761899243794}], "start": 1761899243793, "stop": 1761899243794}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "1dbefc02-8218-41cb-b74c-b9183cba2bef-attachment.attach", "type": "text/plain"}], "start": 1761899243794, "stop": 1761899243794}], "start": 1761899243794, "stop": 1761899243794}], "start": 1761899243793, "stop": 1761899243794}], "attachments": [{"name": "log", "source": "84108d1a-1a2f-4187-ad67-53809e2c021a-attachment.txt", "type": "text/plain"}], "start": 1761899239472, "stop": 1761899243795, "uuid": "3776c34b-6a94-405e-b7ee-48be0331b667", "historyId": "61e3c534f04eadf7769ffc7459f91003", "testCaseId": "61e3c534f04eadf7769ffc7459f91003", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakagelevel#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景2：VPS策略下单-漏平"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}