{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899180450, "stop": 1761899180500}], "attachments": [{"name": "查询条件", "source": "9ee4f588-e3b8-489c-92a3-42430b9b42a9-attachment.txt", "type": "text/plain"}], "start": 1761899180450, "stop": 1761899180500}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4c46f86c-6077-4d19-b349-5525ab92decd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "00b76700-4ac9-434a-ad88-dd181752ed20-attachment.txt", "type": "text/plain"}], "start": 1761899180500, "stop": 1761899180501}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "1b8cc776-24cc-4399-89ff-759cdcd2d013-attachment.txt", "type": "text/plain"}], "start": 1761899180501, "stop": 1761899180501}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3b446aeb-ecc2-434a-93db-b426171096bd-attachment.txt", "type": "text/plain"}], "start": 1761899180501, "stop": 1761899180502}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899182564, "stop": 1761899182612}], "attachments": [{"name": "查询条件", "source": "9a1df0d9-7deb-4e0c-b3be-3fb7f1e322f6-attachment.txt", "type": "text/plain"}], "start": 1761899182563, "stop": 1761899182612}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "13556993-4e19-4208-bfb5-80e12d42f4a0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "da380191-520e-44d7-8511-3a3662493907-attachment.txt", "type": "text/plain"}], "start": 1761899182612, "stop": 1761899182613}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6c512d95-8e37-433b-bbae-45fc5897ee79-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "23609934-8d50-43e6-a6ab-144c98dc287f-attachment.txt", "type": "text/plain"}], "start": 1761899182613, "stop": 1761899182613}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "fd872263-0d22-47c3-9caa-07cc6a8c57b9-attachment.txt", "type": "text/plain"}], "start": 1761899182614, "stop": 1761899182614}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1761899184674, "stop": 1761899184726}], "attachments": [{"name": "查询条件", "source": "d71bdd94-ad1b-4e33-a0fa-0d12be7c681d-attachment.txt", "type": "text/plain"}], "start": 1761899184673, "stop": 1761899184726}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "74376c5a-abb0-4784-ad22-a775d3a2fafd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f5a7140c-ac8c-47de-9aec-11b67b69c21d-attachment.txt", "type": "text/plain"}], "start": 1761899184726, "stop": 1761899184727}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "2c029839-98e0-4a7e-8b0d-4142d10156f0-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "ee02d59f-7503-4638-8de7-b520470df163-attachment.txt", "type": "text/plain"}], "start": 1761899184727, "stop": 1761899184727}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "834dde00-789d-4d59-afa2-e4a4fbb65288-attachment.txt", "type": "text/plain"}], "start": 1761899184727, "stop": 1761899184728}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "2495e4ab-cfc5-4220-8640-19002c1764e5-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "da2073a1-ab73-4039-9e3f-491e14b463e2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b05c2e1d-1728-4454-9248-9bf8b66d37eb-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "0b6be935-1a23-4143-9451-27224416f88c-attachment.txt", "type": "text/plain"}], "start": 1761899184728, "stop": 1761899184729}], "start": 1761899180400, "stop": 1761899184729}], "start": 1761899180400, "stop": 1761899184729}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1761899184729, "stop": 1761899184730}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "ced0fe91-8a9d-4036-9ddd-38fdf4c778b5-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "8b877bcd-6b0a-4556-96fd-017cac22a0f0-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "b731d4af-3164-42a5-9558-5f88bfedb729-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "385c1c08-6684-4f93-b62f-103def82494d-attachment.json", "type": "application/json"}], "start": 1761899184730, "stop": 1761899184731}], "start": 1761899184730, "stop": 1761899184731}], "attachments": [{"name": "log", "source": "5c64c3f8-a487-4828-b8fd-a91ea440f6a0-attachment.txt", "type": "text/plain"}], "start": 1761899180400, "stop": 1761899184731, "uuid": "901da9fd-f005-4cd5-b0ca-efe992c398eb", "historyId": "17a27df411a4b4a6099a42e3ece5099e", "testCaseId": "17a27df411a4b4a6099a42e3ece5099e", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_redis", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56544-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}