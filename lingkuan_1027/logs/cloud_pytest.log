INFO     - 2025-10-29 18:00:58 - [conftest:277] - [2025-10-29 18:00] 测试会话开始: 2025-10-29 18:00:58, 测试组: cloud
INFO     - 2025-10-29 18:00:58 - [variable_manager:40] - [2025-10-29 18:00] 成功加载静态变量: VAR\test_data.json
INFO     - 2025-10-29 18:00:58 - [variable_manager:64] - [2025-10-29 18:00] 成功加载运行时变量: VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:00:58 - [conftest:63] - [2025-10-29 18:00:58] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_create_importuser 开始登录，环境: test
DEBUG    - 2025-10-29 18:00:58 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-10-29 18:00:59 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-10-29 18:00:59 - [conftest:90] - 测试环境登录成功
INFO     - 2025-10-29 18:00:59 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
DEBUG    - 2025-10-29 18:01:02 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/mascontrol/user/import HTTP/11" 200 None
INFO     - 2025-10-29 18:01:02 - [api_base:149] - [2025-10-29 18:01:02] POST请求（带文件）: /mascontrol/user/import | 表单数据: None
INFO     - 2025-10-29 18:01:02 - [api_base:160] - [2025-10-29 18:01:02] 请求后等待 1 秒
INFO     - 2025-10-29 18:01:03 - [conftest:158] - [2025-10-29 18:01:03] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_create_importuser 执行完毕
INFO     - 2025-10-29 18:01:04 - [api_base:451] - [2025-10-29 18:01:04] 执行SQL: SELECT * FROM follow_trader_user WHERE remark = %s ORDER BY account ASC 
参数: ('参数化新增云策略账号',)
INFO     - 2025-10-29 18:01:04 - [api_base:454] - [2025-10-29 18:01:04] 查询成功，结果数量: 10
INFO     - 2025-10-29 18:01:04 - [api_base:466] - [2025-10-29 18:01:04] 查询结果: [{"id": 9120, "account": "300159", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9121, "account": "300160", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9118, "account": "300161", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9116, "account": "300162", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9117, "account": "300164", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9122, "account": "300165", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9119, "account": "300166", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9125, "account": "300167", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9123, "account": "300168", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}, {"id": 9124, "account": "300169", "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "account_type": null, "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增云策略账号", "version": 0, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:03", "updater": 10107, "update_time": "2025-10-29 18:01:03", "platform_type": 0}]
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [api_base:451] - [2025-10-29 18:01:04] 执行SQL: SELECT * FROM follow_vps WHERE ip_address = %s ORDER BY create_time DESC 
参数: ('39.98.109.212',)
INFO     - 2025-10-29 18:01:04 - [api_base:454] - [2025-10-29 18:01:04] 查询成功，结果数量: 1
INFO     - 2025-10-29 18:01:04 - [api_base:466] - [2025-10-29 18:01:04] 查询结果: [{"id": 558, "client_id": "c60d0466-179b-4f91-9c46-6d8e383dfd35", "name": "39.98.109.212", "ip_address": "39.98.109.212", "expiry_date": "2024-11-15", "remark": "就很棒", "is_open": 1, "is_active": 1, "copy_status": null, "connection_status": 1, "version": 0, "deleted": 0, "creator": 10000, "create_time": "2025-07-24 14:49:11", "updater": 10107, "update_time": "2025-10-29 18:01:03", "is_syn": 1, "is_flink": 1, "is_select_account": 1, "is_monitor_repair": 1, "is_stop": 0, "is_auto_repair": 1, "is_specialized_repair": 0, "init_status": 2, "sort": null, "group_id": null, "proxy_ip": null, "proxy_user": "admin", "proxy_pwd": "admin", "proxy_port": null, "proxy_status": 0, "backup_proxy_ip": null, "backup_proxy_user": null, "backup_proxy_pwd": null, "backup_proxy_port": null}]
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [conftest:63] - [2025-10-29 18:01:04] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 开始登录，环境: test
DEBUG    - 2025-10-29 18:01:04 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-10-29 18:01:04 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-10-29 18:01:04 - [conftest:90] - 测试环境登录成功
INFO     - 2025-10-29 18:01:04 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:04 - [conftest:153] - 切换到VPS URL: http://39.98.109.212/vps
DEBUG    - 2025-10-29 18:01:04 - [connectionpool:243] - Starting new HTTP connection (1): 39.98.109.212:80
DEBUG    - 2025-10-29 18:01:08 - [connectionpool:546] - http://39.98.109.212:80 "POST /vps/subcontrol/trader HTTP/11" 200 None
INFO     - 2025-10-29 18:01:08 - [api_base:152] - [2025-10-29 18:01:08] POST请求（JSON）: /subcontrol/trader | 数据: {'account': '300159', 'password': 'fa1af751c83d311f091c9393a364068c', 'remark': '', 'followStatus': 1, 'templateId': 1, 'type': 0, 'cfd': '', 'forex': '', 'followOrderRemark': 1, 'fixedComment': '', 'commentType': '', 'digits': '', 'platformId': '', 'platform': 'FXAdamantStone-Real', 'platformType': 0}
INFO     - 2025-10-29 18:01:08 - [api_base:160] - [2025-10-29 18:01:08] 请求后等待 1 秒
INFO     - 2025-10-29 18:01:09 - [conftest:158] - [2025-10-29 18:01:09] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 执行完毕
INFO     - 2025-10-29 18:01:09 - [api_base:451] - [2025-10-29 18:01:09] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY create_time DESC 
参数: ('300159',)
INFO     - 2025-10-29 18:01:09 - [api_base:454] - [2025-10-29 18:01:09] 查询成功，结果数量: 1
INFO     - 2025-10-29 18:01:09 - [api_base:466] - [2025-10-29 18:01:09] 查询结果: [{"id": 13856, "account": "300159", "is_demo": 1, "type": 0, "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "status": 0, "status_extra": "启动成功", "ip_addr": "39.98.109.212", "server_id": 558, "server_name": "39.98.109.212", "euqit": 10000170.08, "balance": 10000170.08, "free_margin": 10000170.08, "margin_proportion": 0.0, "leverage": 100, "profit_loss": 0.0, "multiple": 0.0, "diff": 3, "version": 0, "remark": "", "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:08", "updater": 10107, "update_time": "2025-10-29 18:01:08", "template_id": 1, "follow_status": 1, "is_first_sync": 1, "login_node": "47.238.99.66:443", "cfd": "", "forex": "", "node_type": 0, "login_last_time": "2025-10-29 18:01:08", "ab_remark": null, "follow_order_remark": 1, "fixed_comment": "", "comment_type": null, "digits": 0, "platform_type": 0}]
INFO     - 2025-10-29 18:01:09 - [test_create:178] - 新增策略账号ID: 13856
INFO     - 2025-10-29 18:01:09 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:09 - [test_create:186] - 新增策略账号状态status应为0（正常），实际状态为: 0
INFO     - 2025-10-29 18:01:09 - [conftest:63] - [2025-10-29 18:01:09] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_user_hangVps 开始登录，环境: test
DEBUG    - 2025-10-29 18:01:09 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-10-29 18:01:09 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-10-29 18:01:09 - [conftest:90] - 测试环境登录成功
INFO     - 2025-10-29 18:01:09 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
INFO     - 2025-10-29 18:01:09 - [variable_manager:111] - [2025-10-29 18:00] 运行时变量已保存到: D:\pycharm_test\lingkuan_1027\VAR\runtime_vars_cloud.json
DEBUG    - 2025-10-29 18:01:09 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/mascontrol/user/hangVps HTTP/11" 200 None
INFO     - 2025-10-29 18:01:09 - [api_base:152] - [2025-10-29 18:01:09] POST请求（JSON）: /mascontrol/user/hangVps | 数据: {'accountType': 1, 'vpsId': 558, 'traderId': 13856, 'followDirection': 0, 'followMode': 1, 'followParam': 1, 'remainder': 0, 'placedType': 0, 'templateId': 1, 'followStatus': 1, 'followOpen': 1, 'followClose': 1, 'fixedComment': '', 'commentType': '', 'digits': 0, 'traderUserIds': [9121, 9118, 9116, 9117, 9122, 9119, 9125, 9123, 9124]}
INFO     - 2025-10-29 18:01:10 - [api_base:160] - [2025-10-29 18:01:10] 请求后等待 1 秒
INFO     - 2025-10-29 18:01:11 - [conftest:158] - [2025-10-29 18:01:11] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_user_hangVps 执行完毕
INFO     - 2025-10-29 18:01:11 - [api_base:539] - [2025-10-29 18:01:11] 开始轮询等待数据稳定 | 超时: 30秒 | 稳定期: 2秒
INFO     - 2025-10-29 18:01:11 - [api_base:451] - [2025-10-29 18:01:11] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('300160',)
INFO     - 2025-10-29 18:01:11 - [api_base:454] - [2025-10-29 18:01:11] 查询成功，结果数量: 0
INFO     - 2025-10-29 18:01:11 - [api_base:466] - [2025-10-29 18:01:11] 查询结果: []
INFO     - 2025-10-29 18:01:13 - [api_base:451] - [2025-10-29 18:01:13] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('300160',)
INFO     - 2025-10-29 18:01:14 - [api_base:454] - [2025-10-29 18:01:14] 查询成功，结果数量: 0
INFO     - 2025-10-29 18:01:14 - [api_base:466] - [2025-10-29 18:01:14] 查询结果: []
INFO     - 2025-10-29 18:01:16 - [api_base:451] - [2025-10-29 18:01:16] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('300160',)
INFO     - 2025-10-29 18:01:16 - [api_base:454] - [2025-10-29 18:01:16] 查询成功，结果数量: 0
INFO     - 2025-10-29 18:01:16 - [api_base:466] - [2025-10-29 18:01:16] 查询结果: []
INFO     - 2025-10-29 18:01:18 - [api_base:451] - [2025-10-29 18:01:18] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('300160',)
INFO     - 2025-10-29 18:01:18 - [api_base:454] - [2025-10-29 18:01:18] 查询成功，结果数量: 0
INFO     - 2025-10-29 18:01:18 - [api_base:466] - [2025-10-29 18:01:18] 查询结果: []
INFO     - 2025-10-29 18:01:20 - [api_base:451] - [2025-10-29 18:01:20] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY account ASC 
参数: ('300160',)
INFO     - 2025-10-29 18:01:20 - [api_base:454] - [2025-10-29 18:01:20] 查询成功，结果数量: 1
INFO     - 2025-10-29 18:01:20 - [api_base:466] - [2025-10-29 18:01:20] 查询结果: [{"id": 13865, "account": "300160", "is_demo": 1, "type": 1, "password": "fa1af751c83d311f091c9393a364068c", "platform_id": 444, "platform": "FXAdamantStone-Real", "status": 0, "status_extra": null, "ip_addr": "39.98.109.212", "server_id": 558, "server_name": "39.98.109.212", "euqit": 0.0, "balance": 0.0, "free_margin": 0.0, "margin_proportion": 0.0, "leverage": 0, "profit_loss": 0.0, "multiple": 0.0, "diff": 0, "version": 0, "remark": null, "deleted": 0, "creator": 10107, "create_time": "2025-10-29 18:01:21", "updater": 10107, "update_time": "2025-10-29 18:01:21", "template_id": 1, "follow_status": 1, "is_first_sync": 1, "login_node": null, "cfd": null, "forex": null, "node_type": 2, "login_last_time": null, "ab_remark": null, "follow_order_remark": 1, "fixed_comment": null, "comment_type": null, "digits": 0, "platform_type": 0}]
