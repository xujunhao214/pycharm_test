{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云策略 策略状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改云策略 策略状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：云策略 策略状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "af63139b-d957-4d84-b8b7-eb8985269406-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b1ad1eea-dbc0-4f97-95e9-83eaa0c03fc1-attachment.txt", "type": "text/plain"}], "start": 1756432552269, "stop": 1756432555679}], "attachments": [{"name": "查询条件", "source": "1c065f3a-75a7-491b-9393-5be70f4bb8d6-attachment.txt", "type": "text/plain"}], "start": 1756432552268, "stop": 1756432555679}, {"name": "轮询中（已等待3.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7663673a-bb9d-4542-bc46-18a8313061d8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f38eedf5-a71b-4d09-be37-41867df72bb7-attachment.txt", "type": "text/plain"}], "start": 1756432555679, "stop": 1756432555680}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "d65fe873-3f74-4314-acef-dfd018699f0b-attachment.txt", "type": "text/plain"}], "start": 1756432555680, "stop": 1756432555680}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9e1961b0-9fd8-4964-9d6e-0679b4b10b1f-attachment.txt", "type": "text/plain"}], "start": 1756432555680, "stop": 1756432555681}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c7961a1a-1577-46f8-a90f-3791cf482a0f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1cf86dd7-721e-413f-81d6-e70bf0f6dd48-attachment.txt", "type": "text/plain"}], "start": 1756432557730, "stop": 1756432561146}], "attachments": [{"name": "查询条件", "source": "68137b19-a01b-4bdb-88a8-d562367f3e40-attachment.txt", "type": "text/plain"}], "start": 1756432557729, "stop": 1756432561146}, {"name": "轮询中（已等待8.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "81e43395-23bf-4372-ace4-deb394b38b05-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c5b8ce79-0f7b-46d2-a774-4f969a2e6bdc-attachment.txt", "type": "text/plain"}], "start": 1756432561146, "stop": 1756432561147}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "0f893402-c4cf-485f-b14e-010ffc3b4b64-attachment.txt", "type": "text/plain"}], "start": 1756432561147, "stop": 1756432561147}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "5c382de1-835d-4375-aa5e-a88fc53dda15-attachment.txt", "type": "text/plain"}], "start": 1756432561147, "stop": 1756432561148}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "86b79843-fbbc-4ae8-b033-efde4c822139-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "757e899b-b6b3-40b7-b46e-c3cb07721296-attachment.txt", "type": "text/plain"}], "start": 1756432563206, "stop": 1756432566579}], "attachments": [{"name": "查询条件", "source": "d58f2184-f4f9-498f-adc5-1f5bff232cb2-attachment.txt", "type": "text/plain"}], "start": 1756432563206, "stop": 1756432566579}, {"name": "轮询中（已等待14.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "195ef45d-8052-4c29-a21b-93e84d949322-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b5654a0e-6120-4b50-a951-fcecf6949a28-attachment.txt", "type": "text/plain"}], "start": 1756432566579, "stop": 1756432566579}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "866cba60-ff31-4b1d-9bce-d6350ddb85fd-attachment.txt", "type": "text/plain"}], "start": 1756432566579, "stop": 1756432566580}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "a153692c-8a2a-4473-9acb-5b21d670d03f-attachment.txt", "type": "text/plain"}], "start": 1756432566580, "stop": 1756432566580}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "366ba8a9-b3d2-4484-9685-a436d93faca9-attachment.json", "type": "application/json"}], "start": 1756432566580, "stop": 1756432566580}], "attachments": [{"name": "执行SQL", "source": "145c27c9-8cca-4879-b36e-6a95d4db71b1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4f26682c-07e5-4814-812e-47bd9eead804-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "435820c0-8d72-4418-9263-4d33294a5bf0-attachment.txt", "type": "text/plain"}], "start": 1756432552221, "stop": 1756432566580}], "start": 1756432552221, "stop": 1756432566580}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756432566580, "stop": 1756432566581}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "d20d8ebe-1af2-4987-a188-fd1c73025603-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "3428a295-6a6c-4b5e-834a-2fe977286030-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "686915de-24c3-4069-b739-da63ed160bd2-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "abbfbef4-0901-4398-8b43-1b4466808ee8-attachment.json", "type": "application/json"}], "start": 1756432566581, "stop": 1756432566585}], "start": 1756432566581, "stop": 1756432566585}], "attachments": [{"name": "log", "source": "1260c349-076f-436d-8164-6dce2f405ff6-attachment.txt", "type": "text/plain"}], "start": 1756432552221, "stop": 1756432566585, "uuid": "c3d779b6-8454-44b2-9ca3-9db6249904bf", "historyId": "c79a9d8105899d3ccd8159d0dcb7c164", "testCaseId": "c79a9d8105899d3ccd8159d0dcb7c164", "fullName": "test_cloudTrader.test_cloudOrder_open_level.Testcloudstargy_status#test_dbquery_redis", "labels": [{"name": "story", "value": "场景4：交易下单-云策略复制下单-云策略-策略状态关闭"}, {"name": "feature", "value": "交易下单-云策略复制下单-漏单场景"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestcloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "21760-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}