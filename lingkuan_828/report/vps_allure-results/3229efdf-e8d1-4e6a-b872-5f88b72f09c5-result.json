{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n        ### 用例说明\n        - 前置条件：有vps策略和vps跟单\n        - 操作步骤：\n          1. 修改vps跟单账号平仓-关闭\n          2. 进行开仓\n          3. 进行平仓\n          4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n          5. 修改vps跟单账号平仓-开启\n        - 预期结果：vps跟单账号平仓-关闭，有漏单数据\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "78c88193-51e2-4758-bde1-ed6e38be2fcb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "69246f5c-d4b1-48d1-8a6f-143c49397431-attachment.txt", "type": "text/plain"}], "start": 1756431413779, "stop": 1756431413837}], "attachments": [{"name": "时区处理", "source": "5d2844de-c0e2-4a0c-a518-c45fe0a4b91a-attachment.txt", "type": "text/plain"}], "start": 1756431413779, "stop": 1756431413837}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f30bce6e-c2c1-41f1-9da8-7295b994a455-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "700391ad-6faa-476c-8665-56ddadaf5fea-attachment.txt", "type": "text/plain"}], "start": 1756431413837, "stop": 1756431413838}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "7ddac124-c1f0-49b1-aaa5-e9440eeab10c-attachment.txt", "type": "text/plain"}], "start": 1756431413838, "stop": 1756431413839}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2b69cc2f-388d-4f4c-a592-8139c627bbb7-attachment.txt", "type": "text/plain"}], "start": 1756431413839, "stop": 1756431413839}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "02791d06-580a-4192-b931-b4e0942d5b31-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "662e709a-f42c-4625-bedd-7006525bb7cb-attachment.txt", "type": "text/plain"}], "start": 1756431415892, "stop": 1756431415949}], "attachments": [{"name": "时区处理", "source": "e6d5613f-fa73-465e-92ca-37c84c3d7dbb-attachment.txt", "type": "text/plain"}], "start": 1756431415891, "stop": 1756431415949}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "91332abc-b4fc-4e4b-a366-b71a9562026d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e8d3f2e7-e50b-47ed-ab80-cf09746386e9-attachment.txt", "type": "text/plain"}], "start": 1756431415949, "stop": 1756431415950}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "61c83a54-9473-48d3-8a28-89cee6d6c3eb-attachment.txt", "type": "text/plain"}], "start": 1756431415950, "stop": 1756431415951}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "197924cb-167d-4bab-b2e7-27ac8e059e7e-attachment.txt", "type": "text/plain"}], "start": 1756431415951, "stop": 1756431415951}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "98106d15-df4f-4b77-a4e6-e3059ad7a385-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ffb1aa87-99d1-4e04-9e8e-03f7ebb89c15-attachment.txt", "type": "text/plain"}], "start": 1756431418011, "stop": 1756431418070}], "attachments": [{"name": "时区处理", "source": "33512fa7-72cc-4db8-afa0-19e395a82568-attachment.txt", "type": "text/plain"}], "start": 1756431418010, "stop": 1756431418070}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "edce9af9-910c-468a-ab5a-77984ab8f4fe-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ea84e036-9c95-4bd7-a3c4-53a9a2cbef92-attachment.txt", "type": "text/plain"}], "start": 1756431418070, "stop": 1756431418071}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "ace9e020-ea89-429f-86f5-aa67e7218d43-attachment.txt", "type": "text/plain"}], "start": 1756431418071, "stop": 1756431418071}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7863eda5-9fb5-47a1-a94d-6fc27b474880-attachment.txt", "type": "text/plain"}], "start": 1756431418072, "stop": 1756431418072}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "24c43936-4522-4dc1-aec6-b2226cb305c2-attachment.json", "type": "application/json"}], "start": 1756431418072, "stop": 1756431418073}], "attachments": [{"name": "执行SQL", "source": "9785685f-7d85-40bc-907d-b66353be68b4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cb299d99-3778-4181-8aab-e32ba629a34a-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "ab56b58e-91e6-4146-b9b4-712e18e644dc-attachment.txt", "type": "text/plain"}], "start": 1756431413719, "stop": 1756431418073}], "start": 1756431413719, "stop": 1756431418073}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "ee37ca2e-56ef-46af-b1d2-89b51cc84ac4-attachment.attach", "type": "text/plain"}], "start": 1756431418073, "stop": 1756431418074}], "start": 1756431418073, "stop": 1756431418074}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "755ef0f1-30ad-47e2-aea7-4f8f9a0e3fca-attachment.attach", "type": "text/plain"}], "start": 1756431418074, "stop": 1756431418074}], "start": 1756431418074, "stop": 1756431418074}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "0b23c5aa-00d7-44ee-9b52-816740f203a2-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "f2229099-d758-49d2-b4de-67ff141dcccc-attachment.attach", "type": "text/plain"}], "start": 1756431418074, "stop": 1756431418076}], "start": 1756431418074, "stop": 1756431418076}], "start": 1756431418073, "stop": 1756431418076}], "attachments": [{"name": "log", "source": "baa75b83-7dad-4a60-8de4-33648220eb95-attachment.txt", "type": "text/plain"}], "start": 1756431413719, "stop": 1756431443084, "uuid": "e55aeb2a-2fe1-4771-ba05-033d2e8952da", "historyId": "bfcc21ab7a7a96d468206aa7d9cac9dc", "testCaseId": "bfcc21ab7a7a96d468206aa7d9cac9dc", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakagelevel#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景2：VPS策略下单-漏平"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "48340-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}