{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n        ### 用例说明\n        - 前置条件：有vps策略和vps跟单\n        - 操作步骤：\n          1. 修改vps跟单账号开仓-关闭\n          2. 进行开仓\n          3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n          4. 修改vps跟单账号开仓-开启\n          5. 进行补单操作，然后平仓\n        - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "480c907d-924a-4c0c-8dc3-c87b7b4b6bc0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8d1066e1-a8d1-487a-9cf9-2ea3609e827d-attachment.txt", "type": "text/plain"}], "start": 1756431254614, "stop": 1756431258117}], "attachments": [{"name": "查询条件", "source": "eacbb6e7-3451-4e2d-8885-e847b84c6042-attachment.txt", "type": "text/plain"}], "start": 1756431254613, "stop": 1756431258117}, {"name": "轮询中（已等待3.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "613f9d05-975d-40d5-bd89-0be7fcb84f1a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "36b79716-aa85-4b42-9685-c5467bc7f384-attachment.txt", "type": "text/plain"}], "start": 1756431258117, "stop": 1756431258117}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "13f7a86a-cbf1-4aa0-840b-e71106f1c7e6-attachment.txt", "type": "text/plain"}], "start": 1756431258117, "stop": 1756431258118}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "21e63d88-0bd7-425b-81ec-58718c54d2e5-attachment.txt", "type": "text/plain"}], "start": 1756431258118, "stop": 1756431258119}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d25a6d73-e9c4-4362-93e7-b1da5c7ced5a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1607c6d3-c59b-48b0-b79d-46c26d605f48-attachment.txt", "type": "text/plain"}], "start": 1756431260176, "stop": 1756431263683}], "attachments": [{"name": "查询条件", "source": "ae9c1d77-1ecb-41a8-aca1-d83b6f157079-attachment.txt", "type": "text/plain"}], "start": 1756431260174, "stop": 1756431263683}, {"name": "轮询中（已等待9.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "01e35be7-8f4b-48c6-a0da-b42dd79d57e2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "18239ea1-4f4f-43c8-bc8c-3ffb9ced0714-attachment.txt", "type": "text/plain"}], "start": 1756431263683, "stop": 1756431263684}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "6baed581-04d7-4720-beb2-f3525c0b820f-attachment.txt", "type": "text/plain"}], "start": 1756431263684, "stop": 1756431263685}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "9a6a097d-f000-45f6-8c6f-c6e4642762e7-attachment.txt", "type": "text/plain"}], "start": 1756431263685, "stop": 1756431263686}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f8cf304a-5168-47cb-8ba7-e7cbd73a880c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ab33a265-2a3f-46d9-89c5-93728ede22e6-attachment.txt", "type": "text/plain"}], "start": 1756431265752, "stop": 1756431269359}], "attachments": [{"name": "查询条件", "source": "e358adf1-0c0c-4b0e-a57f-6b08d49d4f3f-attachment.txt", "type": "text/plain"}], "start": 1756431265751, "stop": 1756431269359}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "61b45c86-a3a7-4f88-97b7-d66f17b78a0a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5d29ad72-1d32-42f0-917b-bc7fb2f7e7bb-attachment.txt", "type": "text/plain"}], "start": 1756431269359, "stop": 1756431269360}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "3fc9b334-bb7f-49f1-bea6-73deadc705ca-attachment.txt", "type": "text/plain"}], "start": 1756431269360, "stop": 1756431269360}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "75c6886f-cc86-4242-b7ed-4cdb1d3fd0e6-attachment.txt", "type": "text/plain"}], "start": 1756431269360, "stop": 1756431269360}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "ee9e6362-6e43-4f8c-a7e8-f6675d673a70-attachment.json", "type": "application/json"}], "start": 1756431269360, "stop": 1756431269361}], "attachments": [{"name": "执行SQL", "source": "de000cb3-d4d5-423b-9de8-0822799a94fc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2514d574-c7c4-4759-8433-9c5f7c68693f-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "e571a2e7-79a5-4e9f-bfbb-28e6b3222d16-attachment.txt", "type": "text/plain"}], "start": 1756431254565, "stop": 1756431269361}], "start": 1756431254565, "stop": 1756431269361}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756431269361, "stop": 1756431269361}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "2a3e49b8-9454-4557-9153-7445a7bd5ee1-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "7bd8f57c-70a9-4123-89cf-7952e5ad3c32-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "297d1e71-b9d6-4bb6-843a-0ed0b6ff9c07-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "f813aac8-831c-4eaa-a070-f3e67515d76c-attachment.json", "type": "application/json"}], "start": 1756431269361, "stop": 1756431269363}], "start": 1756431269361, "stop": 1756431269363}], "attachments": [{"name": "log", "source": "dbe9b49a-267c-4635-be5b-902795320e58-attachment.txt", "type": "text/plain"}], "start": 1756431254565, "stop": 1756431269363, "uuid": "ac4ff64b-8882-44cd-92c5-ced3e9604520", "historyId": "17a27df411a4b4a6099a42e3ece5099e", "testCaseId": "17a27df411a4b4a6099a42e3ece5099e", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_redis", "labels": [{"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "48340-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}