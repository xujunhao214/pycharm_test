{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps策略跟单状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps策略跟单状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps策略跟单状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f037b673-37be-4b8e-82dd-fc5db5a493cf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ebda13a9-1718-4181-95e4-ce308e6ac7f2-attachment.txt", "type": "text/plain"}], "start": 1756431480651, "stop": 1756431480706}], "attachments": [{"name": "时区处理", "source": "ba7d76de-36a0-4b78-8dea-03c31603c646-attachment.txt", "type": "text/plain"}], "start": 1756431480650, "stop": 1756431480706}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "aa526672-beab-4c45-8fc9-bcb5b2144ed4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "53db8049-2a7d-4d67-9824-d3340fba566e-attachment.txt", "type": "text/plain"}], "start": 1756431480706, "stop": 1756431480708}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2cf1e033-c9de-42a8-b38a-687c82972620-attachment.txt", "type": "text/plain"}], "start": 1756431480708, "stop": 1756431480708}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "04039693-8ece-4273-b888-6bb52f7cfa6b-attachment.txt", "type": "text/plain"}], "start": 1756431480708, "stop": 1756431480709}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4557f80a-61b5-4c2d-b79a-4db781d35eb3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5e7c6bc4-51a3-479c-b647-7861aa3d3fdb-attachment.txt", "type": "text/plain"}], "start": 1756431482776, "stop": 1756431482832}], "attachments": [{"name": "时区处理", "source": "cb2858c7-1e23-4d31-8182-e3c0b955bfd6-attachment.txt", "type": "text/plain"}], "start": 1756431482775, "stop": 1756431482832}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bba151f0-cf37-4ee9-b677-c47554337178-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eddcf14d-3aa8-4e12-8972-d173e78b6cf4-attachment.txt", "type": "text/plain"}], "start": 1756431482832, "stop": 1756431482833}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "dcc24d54-9fac-404c-87b0-91881c8c266b-attachment.txt", "type": "text/plain"}], "start": 1756431482833, "stop": 1756431482833}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0fdb4b8c-bd86-49e9-b0cd-5e46dd9a5fde-attachment.txt", "type": "text/plain"}], "start": 1756431482833, "stop": 1756431482834}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "99c5da8e-93d2-4b7d-9e91-954707c28a5b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1f7d19de-882d-44a5-af55-47d8b4b9778c-attachment.txt", "type": "text/plain"}], "start": 1756431484883, "stop": 1756431484936}], "attachments": [{"name": "时区处理", "source": "3e826f81-66d0-4520-9722-87b77bb928e6-attachment.txt", "type": "text/plain"}], "start": 1756431484882, "stop": 1756431484936}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8cddd6f4-652e-4ecf-80c7-1a11ddae6eac-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9ca5346a-4a3e-45b8-b579-5adc58f344f2-attachment.txt", "type": "text/plain"}], "start": 1756431484936, "stop": 1756431484937}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "8bd86d94-f053-4b91-873e-a13f107c3595-attachment.txt", "type": "text/plain"}], "start": 1756431484937, "stop": 1756431484937}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "0a863765-b9dd-43ae-a9cf-1d16c4ad08c6-attachment.txt", "type": "text/plain"}], "start": 1756431484937, "stop": 1756431484938}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5dd79341-8003-4194-b64e-0eab6f128332-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "557b0483-abbd-46e3-bf43-2f0e04f981ba-attachment.txt", "type": "text/plain"}], "start": 1756431486994, "stop": 1756431487088}], "attachments": [{"name": "时区处理", "source": "2603d7a2-6cdc-4d76-a1db-a229d77cc5d7-attachment.txt", "type": "text/plain"}], "start": 1756431486992, "stop": 1756431487088}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d0c39485-a97a-49d5-9742-2f4388040313-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ea3c2ff3-c59c-4e84-902a-610900d43051-attachment.txt", "type": "text/plain"}], "start": 1756431487088, "stop": 1756431487089}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "d57057ec-23cc-4143-9d0b-b709a1f0c1c1-attachment.txt", "type": "text/plain"}], "start": 1756431487089, "stop": 1756431487090}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "6aae9443-bc98-41fb-9cfb-fca4208f70db-attachment.txt", "type": "text/plain"}], "start": 1756431487090, "stop": 1756431487091}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "1670a4fa-3385-4905-b859-82d244d6ed07-attachment.json", "type": "application/json"}], "start": 1756431487091, "stop": 1756431487092}], "attachments": [{"name": "执行SQL", "source": "926a37ee-527c-49fc-b5b7-373a292a1efc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "565a44e9-3016-4caf-a1d6-4d19d4054568-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "f6c21829-a79f-4950-9cd9-efae4f75f6d3-attachment.txt", "type": "text/plain"}], "start": 1756431480602, "stop": 1756431487092}], "start": 1756431480602, "stop": 1756431487092}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "5d59bdee-16db-4a30-8fb0-4bcb3c372329-attachment.attach", "type": "text/plain"}], "start": 1756431487092, "stop": 1756431487093}], "start": 1756431487092, "stop": 1756431487093}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "63df39fc-34ce-4e74-8719-d154e149eb75-attachment.attach", "type": "text/plain"}], "start": 1756431487093, "stop": 1756431487093}], "start": 1756431487093, "stop": 1756431487093}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "48060440-f0f6-4876-97db-c5f79f4ff95c-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "19f4e94f-4eb3-4f2e-a9bf-48b5311170be-attachment.attach", "type": "text/plain"}], "start": 1756431487094, "stop": 1756431487095}], "start": 1756431487094, "stop": 1756431487095}], "start": 1756431487092, "stop": 1756431487095}], "attachments": [{"name": "log", "source": "1ed96d8c-1cfd-4b4f-981d-530c973b9000-attachment.txt", "type": "text/plain"}], "start": 1756431480602, "stop": 1756431512108, "uuid": "ee5c216f-c6a8-46dd-82c5-93343dfb58db", "historyId": "48ba5877fb5e0f5731afe104c5bb1809", "testCaseId": "48ba5877fb5e0f5731afe104c5bb1809", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen_addstatus#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景3：VPS策略下单-关闭策略跟单状态"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "48340-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}