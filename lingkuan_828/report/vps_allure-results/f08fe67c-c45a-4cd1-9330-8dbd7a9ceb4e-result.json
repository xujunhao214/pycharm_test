{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n        ### 用例说明\n        - 前置条件：有vps策略和vps跟单\n        - 操作步骤：\n          1. 修改vps跟单账号平仓-关闭\n          2. 进行开仓\n          3. 进行平仓\n          4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n          5. 修改vps跟单账号平仓-开启\n        - 预期结果：vps跟单账号平仓-关闭，有漏单数据\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4ecfd617-9679-4dbf-875c-b7a1ce244975-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b3d43017-c23f-413c-b21f-3c1939a14a7d-attachment.txt", "type": "text/plain"}], "start": 1756431352025, "stop": 1756431353099}], "attachments": [{"name": "时区处理", "source": "e4c918a3-d5d8-43d4-87f8-3fa7fe2fa036-attachment.txt", "type": "text/plain"}], "start": 1756431352025, "stop": 1756431353099}, {"name": "轮询中（已等待1.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d46b32aa-d41a-4060-8482-5ab4688820ed-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e6fa197b-1b18-4806-af0f-77cd8dde961d-attachment.txt", "type": "text/plain"}], "start": 1756431353099, "stop": 1756431353100}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "cf968322-8384-4a99-81d9-4d201721d85e-attachment.txt", "type": "text/plain"}], "start": 1756431353100, "stop": 1756431353100}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "502eb538-35e9-4089-92e7-72f11cadde70-attachment.txt", "type": "text/plain"}], "start": 1756431353100, "stop": 1756431353101}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "dfb5ba5b-692a-4ce5-a54f-df59ac140c3d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "41a0d689-f59d-4ae3-aabc-5a2bef71fefb-attachment.txt", "type": "text/plain"}], "start": 1756431355159, "stop": 1756431356217}], "attachments": [{"name": "时区处理", "source": "48e9b4a0-48ec-467f-9a5c-1ddeff0c96c3-attachment.txt", "type": "text/plain"}], "start": 1756431355158, "stop": 1756431356217}, {"name": "轮询中（已等待4.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f22c2954-9279-4e28-a621-a228338f4b80-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e612714a-b6ff-45c8-8f3f-282754f678d9-attachment.txt", "type": "text/plain"}], "start": 1756431356217, "stop": 1756431356218}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "a37a88fc-f672-4c78-b334-74bc06e53153-attachment.txt", "type": "text/plain"}], "start": 1756431356218, "stop": 1756431356219}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "0a7024e7-83f6-4d9d-bd61-211e5b8b7f54-attachment.txt", "type": "text/plain"}], "start": 1756431356219, "stop": 1756431356219}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "da484f37-8f46-4c21-b4f6-cdcea161ae02-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "eab7abac-59e1-4dee-8d41-437be09fdeb5-attachment.txt", "type": "text/plain"}], "start": 1756431358280, "stop": 1756431359334}], "attachments": [{"name": "时区处理", "source": "cbeff030-3339-4f63-b333-3196749144fb-attachment.txt", "type": "text/plain"}], "start": 1756431358279, "stop": 1756431359334}, {"name": "轮询中（已等待7.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "adbbb0e4-8b33-40c8-8fe7-037774d8ef6f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0268a3ec-9e82-4136-95c3-2f14c2a972ba-attachment.txt", "type": "text/plain"}], "start": 1756431359334, "stop": 1756431359336}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2641e406-b168-4156-8fc9-9b3979669997-attachment.txt", "type": "text/plain"}], "start": 1756431359336, "stop": 1756431359336}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "34c6b005-07ba-439e-b03a-f1fb565fe391-attachment.txt", "type": "text/plain"}], "start": 1756431359336, "stop": 1756431359336}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "f3eef7b5-ca2d-4ba5-8d6f-08c6e0ec74d0-attachment.json", "type": "application/json"}], "start": 1756431359336, "stop": 1756431359337}], "attachments": [{"name": "执行SQL", "source": "ad174f68-7073-4dac-9f79-5db208e8dc1a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "09119be7-c21a-4ba8-bfc8-d56cc54ac71e-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "4fd42575-4ef0-4b1f-855b-511bce912779-attachment.txt", "type": "text/plain"}], "start": 1756431351976, "stop": 1756431359337}], "start": 1756431351976, "stop": 1756431359337}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "7a91f18e-9230-4291-841c-0c5d700d29ad-attachment.attach", "type": "text/plain"}], "start": 1756431359337, "stop": 1756431359337}], "start": 1756431359337, "stop": 1756431359338}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "889df30a-6ded-4bd7-baa0-faa6b04b32ea-attachment.attach", "type": "text/plain"}], "start": 1756431359338, "stop": 1756431359338}], "start": 1756431359338, "stop": 1756431359338}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "8bc49769-85e0-493a-9b99-878378a527e4-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "70af3bb3-e49a-4303-a138-0ede03989796-attachment.attach", "type": "text/plain"}], "start": 1756431359338, "stop": 1756431359338}], "start": 1756431359338, "stop": 1756431359339}], "start": 1756431359337, "stop": 1756431359339}], "attachments": [{"name": "log", "source": "d2f359d3-2444-414e-9bc2-ae0376482d57-attachment.txt", "type": "text/plain"}], "start": 1756431351976, "stop": 1756431359339, "uuid": "442f57b5-5141-4cac-85c5-7e8220b6fe35", "historyId": "8e7535779067fa84c45bf9294b522e45", "testCaseId": "8e7535779067fa84c45bf9294b522e45", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakagelevel#test_dbquery_addsalve_orderSend", "labels": [{"name": "story", "value": "场景2：VPS策略下单-漏平"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "48340-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}