{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps策略跟单状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps策略跟单状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps策略跟单状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "52bcf21c-4a51-410f-a1e0-e8eb80d45e74-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7fd14023-efb6-4c2b-a38f-58df118c8098-attachment.txt", "type": "text/plain"}], "start": 1756431449593, "stop": 1756431453017}], "attachments": [{"name": "查询条件", "source": "298abf4a-bf71-4021-b9ec-7d5d221bcc50-attachment.txt", "type": "text/plain"}], "start": 1756431449593, "stop": 1756431453017}, {"name": "轮询中（已等待3.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "addf0997-2167-43dc-b833-bc1260b62f82-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7a3fc032-a43a-4230-9f84-e8d520dd0a13-attachment.txt", "type": "text/plain"}], "start": 1756431453017, "stop": 1756431453018}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "594f4f81-0e10-4e71-8513-6ec9c17fbd86-attachment.txt", "type": "text/plain"}], "start": 1756431453018, "stop": 1756431453018}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "663ce8e7-4b43-4f74-879c-cd196d901dba-attachment.txt", "type": "text/plain"}], "start": 1756431453019, "stop": 1756431453019}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "df84bb99-739c-4cf3-b315-133f11467d04-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2f392c69-5f0e-45d7-b4ca-4dc3c913495d-attachment.txt", "type": "text/plain"}], "start": 1756431455076, "stop": 1756431458452}], "attachments": [{"name": "查询条件", "source": "100018db-69cf-4e10-94af-f49d1b09197f-attachment.txt", "type": "text/plain"}], "start": 1756431455075, "stop": 1756431458452}, {"name": "轮询中（已等待8.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d2e1f5e8-096f-4944-8cd5-8d26fd2acbb2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0cfa3d00-6df7-421f-9a0b-78bd7c8036fe-attachment.txt", "type": "text/plain"}], "start": 1756431458452, "stop": 1756431458454}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "51710f77-a0d2-43a1-bce4-4e733bfb8bd0-attachment.txt", "type": "text/plain"}], "start": 1756431458454, "stop": 1756431458454}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "e802b01d-1a7c-4496-8d2d-9dcf6683bd4c-attachment.txt", "type": "text/plain"}], "start": 1756431458454, "stop": 1756431458455}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1938c65c-54e2-4c6d-97d6-72f54a7f3305-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b7627b4d-b770-4f1e-82dc-9f26f7f8ac28-attachment.txt", "type": "text/plain"}], "start": 1756431460511, "stop": 1756431463927}], "attachments": [{"name": "查询条件", "source": "46ad500f-7f3e-421a-a4a1-5a1d75589c61-attachment.txt", "type": "text/plain"}], "start": 1756431460510, "stop": 1756431463927}, {"name": "轮询中（已等待14.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "165fca29-ecaa-462b-88ba-fbbf06da5db3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "618d1823-2f41-4356-8c70-3cbdef4af2cf-attachment.txt", "type": "text/plain"}], "start": 1756431463927, "stop": 1756431463929}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "5f71e863-2f2a-43ad-b76a-0a2eefebbf7d-attachment.txt", "type": "text/plain"}], "start": 1756431463929, "stop": 1756431463929}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "bb832f49-9a04-41a8-9a59-a34a13e9e1d0-attachment.txt", "type": "text/plain"}], "start": 1756431463929, "stop": 1756431463929}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "00dd14d0-2aa8-4fe8-85b2-002402277f7f-attachment.json", "type": "application/json"}], "start": 1756431463929, "stop": 1756431463930}], "attachments": [{"name": "执行SQL", "source": "4348937e-e3e7-448a-a1c4-07907d2eeb96-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "12aea3e9-3ed2-42b2-a4e2-9811de4e0bda-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "0ebcb904-202d-407d-a7be-208c0c152507-attachment.txt", "type": "text/plain"}], "start": 1756431449546, "stop": 1756431463930}], "start": 1756431449546, "stop": 1756431463930}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756431463930, "stop": 1756431463931}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "83dece6c-987a-4ba6-8cdc-44691da662c1-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "07f32702-5bef-458c-a279-0261ad95f4fb-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "20c94e3c-41cd-46e4-a4d6-d3d098973f5e-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "e6917f32-9866-4c73-b6a8-9b14bafb9692-attachment.json", "type": "application/json"}], "start": 1756431463931, "stop": 1756431463932}], "start": 1756431463931, "stop": 1756431463932}], "attachments": [{"name": "log", "source": "8876ca0a-0980-4014-b47d-f559e34be5a2-attachment.txt", "type": "text/plain"}], "start": 1756431449546, "stop": 1756431463932, "uuid": "6ff6cc9f-01dd-4b20-a333-9be103d94abe", "historyId": "1e96dfcd39e1c18811a04980490590e7", "testCaseId": "1e96dfcd39e1c18811a04980490590e7", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen_addstatus#test_dbquery_redis", "labels": [{"name": "story", "value": "场景3：VPS策略下单-关闭策略跟单状态"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "48340-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}