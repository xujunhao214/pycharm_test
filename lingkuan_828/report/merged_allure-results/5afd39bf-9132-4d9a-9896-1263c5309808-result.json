{"name": "出现漏平-redis数据和数据库的数据做比对", "status": "passed", "description": "\n        ### 用例说明\n        - 前置条件：有vps策略和vps跟单\n        - 操作步骤：\n          1. 修改vps跟单账号平仓-关闭\n          2. 进行开仓\n          3. 进行平仓\n          4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n          5. 修改vps跟单账号平仓-开启\n        - 预期结果：vps跟单账号平仓-关闭，有漏单数据\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "465c65ee-fafd-42f6-aa65-43976a1a5034-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1c875d1c-6fc3-4190-b9df-f430f2cef8d9-attachment.txt", "type": "text/plain"}], "start": 1756431386098, "stop": 1756431389688}], "attachments": [{"name": "查询条件", "source": "89de4575-67b6-4d67-b088-dbdbf14bd4f7-attachment.txt", "type": "text/plain"}], "start": 1756431386098, "stop": 1756431389688}, {"name": "轮询中（已等待3.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "70f4d7b0-3ad5-40e2-9b39-870086c69de7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "123a840d-6bdb-4a93-8cf1-cc870e5084b1-attachment.txt", "type": "text/plain"}], "start": 1756431389688, "stop": 1756431389689}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "c50708df-329b-4d87-8eba-c6cf9d39fa66-attachment.txt", "type": "text/plain"}], "start": 1756431389689, "stop": 1756431389690}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c88783a3-cae3-4d07-8feb-0399a6e6acfe-attachment.txt", "type": "text/plain"}], "start": 1756431389690, "stop": 1756431389690}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8cb10857-1e35-43e1-9424-e34c48c74ee5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0e0e434c-b7f4-4a25-8c84-0d136eaed465-attachment.txt", "type": "text/plain"}], "start": 1756431391758, "stop": 1756431395138}], "attachments": [{"name": "查询条件", "source": "abede84c-3cda-4c70-9b5d-dc20b9fb0e96-attachment.txt", "type": "text/plain"}], "start": 1756431391757, "stop": 1756431395138}, {"name": "轮询中（已等待9.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "608384ab-75f2-42d6-ae87-9024a294ad92-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "65b7077a-9734-4fe1-89b5-99a7a929c776-attachment.txt", "type": "text/plain"}], "start": 1756431395138, "stop": 1756431395139}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "61048840-a72b-4be4-8ba4-9f64a4aae595-attachment.txt", "type": "text/plain"}], "start": 1756431395139, "stop": 1756431395142}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "26d49add-c79e-41cc-8d5d-58d080673e42-attachment.txt", "type": "text/plain"}], "start": 1756431395142, "stop": 1756431395142}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a3b7fe78-6d90-42a5-96ab-7110a9fd5400-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "678b75c5-4a35-4a4f-b5cf-a0d50a4dedfc-attachment.txt", "type": "text/plain"}], "start": 1756431397201, "stop": 1756431400577}], "attachments": [{"name": "查询条件", "source": "aeb334f0-0533-4cea-a6ae-66e5dc56ecab-attachment.txt", "type": "text/plain"}], "start": 1756431397200, "stop": 1756431400577}, {"name": "轮询中（已等待14.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f7887a4f-b21a-467a-aaf0-403ff01cefe3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "42eab51c-dcb9-4e51-aa14-a8775b70f008-attachment.txt", "type": "text/plain"}], "start": 1756431400577, "stop": 1756431400578}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2a1a45e5-2094-4433-847d-35a4c992cca1-attachment.txt", "type": "text/plain"}], "start": 1756431400578, "stop": 1756431400579}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7f3713f0-631c-4990-b299-f0a7b5c9a249-attachment.txt", "type": "text/plain"}], "start": 1756431400579, "stop": 1756431400579}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "78cd31f3-193d-4812-afd4-857b66fa39c3-attachment.json", "type": "application/json"}], "start": 1756431400579, "stop": 1756431400579}], "attachments": [{"name": "执行SQL", "source": "4914361f-c97a-4a59-8314-b0020e9fea5d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2741a18e-650e-4000-b833-c346d6e6a605-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "c6b4230f-8afc-4fe4-b18a-54addb2638af-attachment.txt", "type": "text/plain"}], "start": 1756431386052, "stop": 1756431400579}], "start": 1756431386052, "stop": 1756431400579}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756431400579, "stop": 1756431400580}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "a86e228f-a239-4742-86a5-3f1d8a984222-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "984a94e2-9525-4779-a220-ce7f0d188cbb-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "62978434-779f-4858-9e20-2f5c18b878b7-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "de31e48a-1111-4f0a-a12f-61fb9977a0f3-attachment.json", "type": "application/json"}], "start": 1756431400580, "stop": 1756431400581}], "start": 1756431400580, "stop": 1756431400581}], "attachments": [{"name": "log", "source": "676eecc3-6658-41bb-afcf-bdd02fdfc9a8-attachment.txt", "type": "text/plain"}], "start": 1756431386052, "stop": 1756431400581, "uuid": "8c118a47-9bd5-45ac-a33a-abac0a058b4c", "historyId": "c90ae9479c1ad71426afbb0eb6bde40b", "testCaseId": "c90ae9479c1ad71426afbb0eb6bde40b", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakagelevel#test_dbquery_redis", "labels": [{"name": "story", "value": "场景2：VPS策略下单-漏平"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "48340-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}