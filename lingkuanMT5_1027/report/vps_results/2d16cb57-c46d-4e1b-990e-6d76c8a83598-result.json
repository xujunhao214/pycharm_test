{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.01\n      3. 校验账号的数据是否正确-下单手数是0.01*0.25*0.5=0.00125，最低下单手数是0.01\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762409413265, "stop": 1762409413317}], "attachments": [{"name": "时区处理", "source": "02f8be2b-34fe-42e8-b5f7-80ff8f85adc9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fa6929db-2ff1-4d86-b6ed-1155cec26888-attachment.txt", "type": "text/plain"}], "start": 1762409413264, "stop": 1762409413317}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0eeff891-9fa8-4a47-a83a-731c2c5a92c1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fa45da30-8c42-47f3-a1bc-272e6c29f226-attachment.txt", "type": "text/plain"}], "start": 1762409413317, "stop": 1762409413318}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "e3f845c5-ce27-4ea1-a2b9-3e5c4e1024ef-attachment.txt", "type": "text/plain"}], "start": 1762409413318, "stop": 1762409413318}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7ada7fdf-a1af-404e-8ec9-878db00f6039-attachment.txt", "type": "text/plain"}], "start": 1762409413318, "stop": 1762409413319}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762409415375, "stop": 1762409415430}], "attachments": [{"name": "时区处理", "source": "cce28232-5ffd-459f-819e-8da90800d1a9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fd98be4d-ebcb-4ebd-9548-7da39ea6292f-attachment.txt", "type": "text/plain"}], "start": 1762409415374, "stop": 1762409415430}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1e4cb225-854f-4ef4-ac6f-e3cf736e0313-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f05da7e4-a327-4079-bd2a-2474b3bfd055-attachment.txt", "type": "text/plain"}], "start": 1762409415430, "stop": 1762409415431}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e4034766-6b41-4e19-ab28-8b022a80ec57-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6e9c119e-34d6-423f-96cf-8cfa382add6a-attachment.txt", "type": "text/plain"}], "start": 1762409415431, "stop": 1762409415432}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "05e91dae-091b-483d-8ae2-3e7be5687978-attachment.txt", "type": "text/plain"}], "start": 1762409415432, "stop": 1762409415432}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762409417492, "stop": 1762409417698}], "attachments": [{"name": "时区处理", "source": "51ba7df2-7071-4f48-a57e-008c240aec0f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cf467bca-3f95-43a4-ad15-76d007c9ad71-attachment.txt", "type": "text/plain"}], "start": 1762409417491, "stop": 1762409417698}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "307e795b-b7fe-4aa4-8150-a4c50bad43af-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "13674654-2468-4380-92cb-07d7096708bf-attachment.txt", "type": "text/plain"}], "start": 1762409417698, "stop": 1762409417699}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "aecd8175-e913-41c6-916e-739cada83063-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d781559f-5213-4546-b5a5-26f8fee51786-attachment.txt", "type": "text/plain"}], "start": 1762409417699, "stop": 1762409417699}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f2904ebd-c1c1-4f71-b9d0-6c25613b6b77-attachment.txt", "type": "text/plain"}], "start": 1762409417699, "stop": 1762409417700}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "1cf74c26-3406-4c94-a51f-f50e7147773b-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "b1197c39-6534-42d1-b562-179ad152b40e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c1c66878-78f5-4dbf-973c-80abd3896690-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "3040a53a-e193-4b6e-84a0-88513cce491f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "413c5e35-d43a-464d-a6ee-61cec3efcbb7-attachment.txt", "type": "text/plain"}], "start": 1762409417700, "stop": 1762409417701}], "start": 1762409413217, "stop": 1762409417701}], "start": 1762409413217, "stop": 1762409417701}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "64daea94-c300-4c98-b0a1-49a39d0d6335-attachment.attach", "type": "text/plain"}], "start": 1762409417701, "stop": 1762409417702}], "start": 1762409417701, "stop": 1762409417702}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "a148cafe-082c-4be8-b990-d93b3b94f45d-attachment.attach", "type": "text/plain"}], "start": 1762409417702, "stop": 1762409417702}], "start": 1762409417702, "stop": 1762409417702}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "69cd56bd-2d9e-48b6-bf3e-6738e8178cd6-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "acec7076-b658-42b8-ac67-21e24ff9ce34-attachment.attach", "type": "text/plain"}], "start": 1762409417702, "stop": 1762409417703}], "start": 1762409417702, "stop": 1762409417703}], "start": 1762409417701, "stop": 1762409417703}], "attachments": [{"name": "log", "source": "16f87d9f-90ae-4e96-927d-4a5dfde9b31b-attachment.txt", "type": "text/plain"}], "start": 1762409413217, "stop": 1762409417703, "uuid": "decbe5cd-e381-4fb2-a9c1-60f0bc0ebb7e", "historyId": "94df439009475e0edc6cd158385dcf21", "testCaseId": "94df439009475e0edc6cd158385dcf21", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend12#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景12：复制下单-手数范围0.01-1，总手数0.01"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "66732-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}