{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n        ### 测试说明\n        - 前置条件：有vps策略和vps跟单\n          1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n          2. 进行开仓，手数范围0.01-1，总手数0.3\n          3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n          4. 进行平仓\n          5. 校验账号的数据是否正确\n        - 预期结果：账号的数据正确\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762482924010, "stop": 1762482924064}], "attachments": [{"name": "时区处理", "source": "a34f9ba4-6a95-46d8-b463-062b4739f414-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0de8af07-c6d2-4796-a00d-b727b68c7a30-attachment.txt", "type": "text/plain"}], "start": 1762482924009, "stop": 1762482924064}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "aed18db9-429e-4440-9a96-6e9bef7022cd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "90b9a4f4-8a49-4a26-9ded-555f93a892ae-attachment.txt", "type": "text/plain"}], "start": 1762482924064, "stop": 1762482924065}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "6e9d3531-e6fe-4d08-a55b-24cb347dd964-attachment.txt", "type": "text/plain"}], "start": 1762482924065, "stop": 1762482924065}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8408f325-d24d-4bc9-93f3-b6899b04ade6-attachment.txt", "type": "text/plain"}], "start": 1762482924065, "stop": 1762482924065}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762482926128, "stop": 1762482926179}], "attachments": [{"name": "时区处理", "source": "9d4847f8-1ad3-40a1-8df7-89c62cf56eb2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f9c4eef5-4f8a-4cf7-85e9-cd75a6781c1d-attachment.txt", "type": "text/plain"}], "start": 1762482926128, "stop": 1762482926179}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6e8f2b30-505e-474c-95d7-c9becd43e29d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3182b1c8-b63a-4471-ad1b-a03bf7752ad9-attachment.txt", "type": "text/plain"}], "start": 1762482926179, "stop": 1762482926180}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "85ec22d0-a138-4ef8-910e-9b22ace247c7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "7891726a-8c56-4fb1-b45c-fb9c6392becd-attachment.txt", "type": "text/plain"}], "start": 1762482926180, "stop": 1762482926181}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "71296c2a-3ba5-4bf1-9f16-e34c298d2ccc-attachment.txt", "type": "text/plain"}], "start": 1762482926181, "stop": 1762482926181}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762482928239, "stop": 1762482928300}], "attachments": [{"name": "时区处理", "source": "bd45cbd8-8419-440e-90e9-8666527813f2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1c66acfe-621c-427d-9824-ec95a12f0571-attachment.txt", "type": "text/plain"}], "start": 1762482928238, "stop": 1762482928300}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b38a1b9e-3824-43ca-ba2c-2805b9bf5e8f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4db9c5be-bdfd-4020-89bf-4ef78a7a2d24-attachment.txt", "type": "text/plain"}], "start": 1762482928300, "stop": 1762482928301}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "0f3b634a-fd0a-493a-8873-5dde86e4a7b2-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8ae0bd19-4a7e-4197-97c9-59cddec00cb8-attachment.txt", "type": "text/plain"}], "start": 1762482928301, "stop": 1762482928302}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "06caf222-4369-4c50-89ef-e0568e864462-attachment.txt", "type": "text/plain"}], "start": 1762482928302, "stop": 1762482928302}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "4143ac8b-13f8-447f-b39a-be4b83549e66-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "e5f321e1-df83-4699-a071-2d1b03ff9422-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "690be8b9-08a4-4942-be9c-e3e774cf2de2-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "b49b2636-447e-4c6c-b3aa-70781a682fe9-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "a0fd3888-045b-4557-bc11-06d490cb67d4-attachment.txt", "type": "text/plain"}], "start": 1762482928302, "stop": 1762482928304}], "start": 1762482923961, "stop": 1762482928304}], "start": 1762482923961, "stop": 1762482928304}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "67606160-a58a-4287-87d5-0f5f317598cc-attachment.attach", "type": "text/plain"}], "start": 1762482928304, "stop": 1762482928304}], "start": 1762482928304, "stop": 1762482928304}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "33b18f7f-1d41-4e00-b1b8-fbca98195163-attachment.attach", "type": "text/plain"}], "start": 1762482928304, "stop": 1762482928305}], "start": 1762482928304, "stop": 1762482928305}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "fbb22860-83cf-403c-8e3e-0584ce52993e-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "2f729dbd-c7ec-40fb-b2bc-88c5caaae841-attachment.attach", "type": "text/plain"}], "start": 1762482928305, "stop": 1762482928306}], "start": 1762482928305, "stop": 1762482928306}], "start": 1762482928304, "stop": 1762482928306}], "attachments": [{"name": "log", "source": "4e5b9f9d-50f3-4b18-ba4f-597c26989f70-attachment.txt", "type": "text/plain"}], "start": 1762482923961, "stop": 1762482928306, "uuid": "5e004fd3-66e6-455d-b0a3-bbcb69774543", "historyId": "2b588c6c522ac00510c11a64a9446b5c", "testCaseId": "2b588c6c522ac00510c11a64a9446b5c", "fullName": "test_vps.test_lianxi.TestVPSOrderSend11#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "云策略复制下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi"}, {"name": "subSuite", "value": "TestCloudStrategyOrderbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54196-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi"}]}