{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762409309216, "stop": 1762409309275}], "attachments": [{"name": "时区处理", "source": "bd6eed21-d251-49a1-bc81-00376cb782d2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5ddbf49d-289d-4aa8-8a68-a8d85cbcfdc6-attachment.txt", "type": "text/plain"}], "start": 1762409309215, "stop": 1762409309275}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ea66368e-1ea4-44bc-b5d7-6f5e1b20d150-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f725435f-142a-4985-8ef5-1ff3ba8fed3b-attachment.txt", "type": "text/plain"}], "start": 1762409309275, "stop": 1762409309276}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2af92ee5-d1f2-4b59-9b72-70af7d5b4f07-attachment.txt", "type": "text/plain"}], "start": 1762409309276, "stop": 1762409309276}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5cf2c922-6b23-44df-97a8-9fbcd297b40d-attachment.txt", "type": "text/plain"}], "start": 1762409309276, "stop": 1762409309276}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762409311334, "stop": 1762409311385}], "attachments": [{"name": "时区处理", "source": "bbf49be7-4eb8-4835-afb9-036b85a557bd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "792d9ca4-9d09-4ed1-bb5b-7daad6e0ab93-attachment.txt", "type": "text/plain"}], "start": 1762409311333, "stop": 1762409311385}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "931b7b15-ffb1-41c9-b026-6713d16b7dd0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ff0642a0-f6cc-48ed-aa58-b61e2e3f831f-attachment.txt", "type": "text/plain"}], "start": 1762409311385, "stop": 1762409311386}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c4e69cbe-e3c8-441e-893c-ee57256d5c90-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "18a93fae-14e7-442e-a147-02064291aea5-attachment.txt", "type": "text/plain"}], "start": 1762409311386, "stop": 1762409311387}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "d9d77e2b-928c-49ae-9b46-950ab7a3c010-attachment.txt", "type": "text/plain"}], "start": 1762409311387, "stop": 1762409311387}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762409313449, "stop": 1762409313513}], "attachments": [{"name": "时区处理", "source": "0331d114-071f-468e-a399-effb12f2ed7f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "71cb7bb2-b80f-43e9-8933-12fc6841f30d-attachment.txt", "type": "text/plain"}], "start": 1762409313448, "stop": 1762409313513}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "752e8d78-4af0-498f-8513-8c90af40f441-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "827e5c0a-e1a6-4039-aff3-9aa07c2efa22-attachment.txt", "type": "text/plain"}], "start": 1762409313513, "stop": 1762409313514}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "762b8dbe-93dd-4152-870b-07640adbbb1e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "7a93dfad-c9f4-4bd2-a2e2-00a3ef4e27a9-attachment.txt", "type": "text/plain"}], "start": 1762409313514, "stop": 1762409313515}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7a9d98dd-c570-4ce3-9d1b-5fa68bdb81a9-attachment.txt", "type": "text/plain"}], "start": 1762409313515, "stop": 1762409313515}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "430e9a21-352f-44aa-b5c8-703f028ee141-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "2cbd6cc3-9b11-4a46-9752-c6a74f5986af-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7c64e92c-4fb7-4f8a-b089-ab30d01ae7ff-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "7c225582-9bfb-47f0-bccb-472d733b8284-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "b3980a4c-c3ef-498f-8101-9c26888136e2-attachment.txt", "type": "text/plain"}], "start": 1762409313515, "stop": 1762409313517}], "start": 1762409309168, "stop": 1762409313517}], "start": 1762409309168, "stop": 1762409313517}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "b4c4af5a-dc89-487c-9664-0357ba3ba96a-attachment.attach", "type": "text/plain"}], "start": 1762409313517, "stop": 1762409313518}], "start": 1762409313517, "stop": 1762409313518}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "975c549c-76a3-408b-9515-02fc30e44567-attachment.attach", "type": "text/plain"}], "start": 1762409313518, "stop": 1762409313518}], "start": 1762409313518, "stop": 1762409313518}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "8cbaccba-7f24-4502-b012-667e83633bbf-attachment.attach", "type": "text/plain"}], "start": 1762409313518, "stop": 1762409313519}], "start": 1762409313518, "stop": 1762409313519}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "1ff3fd9e-e7cf-4786-b31a-043ee4b0e9e4-attachment.attach", "type": "text/plain"}], "start": 1762409313519, "stop": 1762409313519}], "start": 1762409313519, "stop": 1762409313519}, {"name": "验证指令总手数", "status": "passed", "steps": [{"name": "校验: 指令总手数符合预期", "status": "passed", "attachments": [{"name": "指令总手数", "source": "7ceada1c-52f4-489d-9c13-3d1885ec2ec0-attachment.attach", "type": "text/plain"}], "start": 1762409313519, "stop": 1762409313520}], "start": 1762409313519, "stop": 1762409313520}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "2056ea7c-fc4b-4809-84e2-2128a0be7ad8-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "708ab179-dbb1-4c8a-9c62-1e2f20669c81-attachment.attach", "type": "text/plain"}], "start": 1762409313520, "stop": 1762409313521}], "start": 1762409313520, "stop": 1762409313521}], "start": 1762409313517, "stop": 1762409313521}], "attachments": [{"name": "log", "source": "f568492d-0c57-4b13-b569-05f9226d3bd8-attachment.txt", "type": "text/plain"}], "start": 1762409309168, "stop": 1762409313521, "uuid": "ec2038aa-8522-4c3b-b662-aae4a9443fbd", "historyId": "4ebbb6520c119abdc2ba009840813dc7", "testCaseId": "4ebbb6520c119abdc2ba009840813dc7", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_addsalve_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "66732-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}