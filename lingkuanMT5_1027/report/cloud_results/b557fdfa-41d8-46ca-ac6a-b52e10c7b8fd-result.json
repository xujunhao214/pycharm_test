{"name": "数据库校验-交易平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763974793972, "stop": 1763974794028}], "attachments": [{"name": "时区处理", "source": "5b80e532-9394-4e6a-8632-e11e6fe17c6f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d12a32b1-968a-40fb-9fca-dd755f8805b7-attachment.txt", "type": "text/plain"}], "start": 1763974793971, "stop": 1763974794028}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d5550bab-2853-4720-91e2-13890b4190af-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3b6fda55-d921-4d30-95ef-eba76b2a6390-attachment.txt", "type": "text/plain"}], "start": 1763974794028, "stop": 1763974794028}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "abce6699-b7cc-45f4-a35a-774c5eb359af-attachment.txt", "type": "text/plain"}], "start": 1763974794029, "stop": 1763974794029}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8f3c8742-7ad1-4f28-b9ef-7e545916b552-attachment.txt", "type": "text/plain"}], "start": 1763974794029, "stop": 1763974794029}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763974796084, "stop": 1763974796139}], "attachments": [{"name": "时区处理", "source": "de84f84c-ba95-4504-9cfa-ceca344f6130-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f987cadf-00c2-43dd-8073-2baa1cc05e2a-attachment.txt", "type": "text/plain"}], "start": 1763974796082, "stop": 1763974796139}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a6bec1b5-5866-4fdb-8db1-79c15864cf2f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "88942234-3d08-4e09-a1d9-b38a66c2eb61-attachment.txt", "type": "text/plain"}], "start": 1763974796139, "stop": 1763974796140}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "b0d3aff6-3e7c-4743-9b57-8351952393b9-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6d640fb0-200f-4495-ac16-dd8d89f1d773-attachment.txt", "type": "text/plain"}], "start": 1763974796140, "stop": 1763974796141}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6af98dc3-7a18-4bf9-8885-e90ee63685dd-attachment.txt", "type": "text/plain"}], "start": 1763974796141, "stop": 1763974796141}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763974798198, "stop": 1763974798254}], "attachments": [{"name": "时区处理", "source": "3a62a477-a642-4803-ab0d-9aacdfe2b91e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4b4f4ab3-c961-43a8-a137-fcb0aee672ea-attachment.txt", "type": "text/plain"}], "start": 1763974798195, "stop": 1763974798254}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "066bea9d-ffb9-44b8-8988-5a879d06d57f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a2747e90-b325-4e73-ab16-ec2b55de0ffb-attachment.txt", "type": "text/plain"}], "start": 1763974798254, "stop": 1763974798255}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d60b7cfc-2392-487b-b29e-bd2c6558852e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "e2b3a9fc-b941-4fa8-b64b-7131075ec061-attachment.txt", "type": "text/plain"}], "start": 1763974798255, "stop": 1763974798255}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "ecfc19de-aa29-4b87-8a7e-67cff17d81aa-attachment.txt", "type": "text/plain"}], "start": 1763974798255, "stop": 1763974798255}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763974800311, "stop": 1763974800367}], "attachments": [{"name": "时区处理", "source": "9a37956b-851e-4926-8e3b-c94de0edad3b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "72378430-4d0b-4e5e-ba5c-3c231cbc0cfc-attachment.txt", "type": "text/plain"}], "start": 1763974800310, "stop": 1763974800367}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dd9da858-44f8-4fa5-bc78-85705c4974b5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7a5593bc-7a60-45b8-b5f1-b4c6f0f78e0b-attachment.txt", "type": "text/plain"}], "start": 1763974800367, "stop": 1763974800368}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5dc4763e-f4c0-4287-967c-8fe7890dda18-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "2057b4d7-df13-4618-82c5-cde83a7010b5-attachment.txt", "type": "text/plain"}], "start": 1763974800368, "stop": 1763974800368}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "39fbab6c-beea-46dd-bd52-ed683515aacc-attachment.txt", "type": "text/plain"}], "start": 1763974800368, "stop": 1763974800369}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共3条，显示前50条）", "source": "16fd4bfe-158f-4c51-919d-c58704ec3c81-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "5344bc19-73f0-4c35-8684-9fe6b9f16ab3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f290f69a-582f-44a7-a500-03594d4f641f-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "b68c00f9-3266-44cb-a477-3a51b604a881-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "44512e35-8316-4bee-abca-fa4ad841f6fa-attachment.txt", "type": "text/plain"}], "start": 1763974800369, "stop": 1763974800371}], "start": 1763974793926, "stop": 1763974800371}], "start": 1763974793926, "stop": 1763974800371}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "d3404ef9-d42b-4d3c-9056-bf76a4f9c92d-attachment.attach", "type": "text/plain"}], "start": 1763974800371, "stop": 1763974800371}], "start": 1763974800371, "stop": 1763974800371}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "9741e102-bb27-4058-bf4d-d5f3c44c3ca2-attachment.attach", "type": "text/plain"}], "start": 1763974800371, "stop": 1763974800371}], "start": 1763974800371, "stop": 1763974800372}], "start": 1763974800371, "stop": 1763974800372}], "attachments": [{"name": "log", "source": "d8a7098d-11f0-4668-81b7-ae381cbbb722-attachment.txt", "type": "text/plain"}], "start": 1763974793926, "stop": 1763974800372, "uuid": "8468de90-95be-4492-9edb-5bc1ca7c424c", "historyId": "cb238dfd9b3cd6c7e25ba65ea9315799", "testCaseId": "cb238dfd9b3cd6c7e25ba65ea9315799", "fullName": "test_cloudTrader.test_cloud_masOrderSend.TestCloudtradingOrders8#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景8：分配下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "云策略-策略账号交易下单-开仓的场景校验"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloud_masOrderSend"}, {"name": "subSuite", "value": "TestCloudMasOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "21092-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloud_masOrderSend"}]}