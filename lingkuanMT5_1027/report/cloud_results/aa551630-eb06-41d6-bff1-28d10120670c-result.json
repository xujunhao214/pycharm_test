{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuanMT5_1027.test_cloudTrader.test_create.TestCreate_MT5cloudTrader object at 0x000001E3E53B0EE0>\nclass_random_str = 'zdhar8052'\nvar_manager = <lingkuanMT5_1027.commons.variable_manager.VariableManager object at 0x000001E3E53E75E0>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x000001E3E532AB20>\n\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, class_random_str, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_MT5cloudTrader = []\n        MT5cloudTrader_user_count = var_manager.get_variable(\"MT5cloudTrader_user_count\")\n        for i in range(2, MT5cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            MT5cloudTrader_account_var_name = f\"MT5cloudTrader_user_accounts_{i}\"\n            MT5cloudTrader_account = var_manager.get_variable(MT5cloudTrader_account_var_name)\n            if not MT5cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{MT5cloudTrader_account_var_name}）\")\n            all_accounts_MT5cloudTrader.append(MT5cloudTrader_account)\n        print(f\"\\n将校验的后9个账号：{all_accounts_MT5cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_MT5cloudTrader = []\n        for idx, MT5cloudTrader_account in enumerate(all_accounts_MT5cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{MT5cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (MT5cloudTrader_account,)\n    \n                db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n    \n                )\n                print(f\"验证第{idx}个账号（{MT5cloudTrader_account}）的数据库记录\")\n    \n                if not db_data:\n                    pytest.fail(f\"账号 {MT5cloudTrader_account} 在主表中未找到记录\")\n    \n                # 保存账号ID并校验状态/净值/订阅表（代码与之前一致）\n                MT5cloudTrader_MT5vps_id = db_data[0][\"id\"]\n                all_ids_MT5cloudTrader.append(MT5cloudTrader_MT5vps_id)\n                var_manager.set_runtime_variable(f\"MT5cloudTrader_MT5vps_ids_{idx}\", MT5cloudTrader_MT5vps_id)\n                print(\n                    f\"账号 {MT5cloudTrader_account} 的ID为：{MT5cloudTrader_MT5vps_id}，已保存到变量 MT5cloudTrader_MT5vps_ids_{idx}\")\n    \n            with allure.step(\"校验账号状态和净值\"):\n                status = db_data[0][\"status\"]\n                assert status == 0, f\"账号 {MT5cloudTrader_account} 状态异常：预期status=0，实际={status}\"\n                logging.info(f\"账号 {MT5cloudTrader_account} 状态异常：预期status=0，实际={status}\")\n    \n                # euqit = db_data[0][\"euqit\"]\n                # assert euqit >= 0, f\"账号 {MT5cloudTrader_account} 净值异常：预期euqit>=0，实际={euqit}\"\n                # logging.info(f\"账号 {MT5cloudTrader_account} 净值异常：预期euqit>=0，实际={euqit}\")\n    \n                # 校验订阅表记录（代码与之前一致）\n                sql = f\"SELECT * FROM follow_trader_subscribe WHERE slave_account = %s\"\n                params = (MT5cloudTrader_account,)\n>               db_sub_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"slave_account ASC\"\n                )\n\ntest_cloudTrader\\test_create.py:300: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1027.test_cloudTrader.test_create.TestCreate_MT5cloudTrader object at 0x000001E3E53B0EE0>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x000001E3E532AB20>\nsql = 'SELECT * FROM follow_trader_subscribe WHERE slave_account = %s'\nparams = ('66938831',), time_field = None, time_range = 3\norder_by = 'slave_account ASC', timeout = 30, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} \\n继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(f\"等待{timeout}秒后仍无查询结果\", \"超时详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 等待记录出现超时（{timeout}秒）\")\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:647: TimeoutError"}, "steps": [{"name": "验证第1个账号（66938831）的数据库记录", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128064327, "stop": 1764128064373}], "attachments": [{"name": "查询条件", "source": "0fa90dea-c23a-4a58-85a1-f4bc53034e2c-attachment.txt", "type": "text/plain"}], "start": 1764128064327, "stop": 1764128064373}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "abe2a792-d754-4c62-b999-3c40118ff574-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0c99b8e8-4240-4361-9a68-53b80f9bccf9-attachment.txt", "type": "text/plain"}], "start": 1764128064373, "stop": 1764128064375}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4b086d99-2b0d-4f7a-9d56-697393a2b4cf-attachment.txt", "type": "text/plain"}], "start": 1764128064375, "stop": 1764128064375}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128066424, "stop": 1764128066471}], "attachments": [{"name": "查询条件", "source": "203a80f3-718b-4eb8-add9-2cf5914e2b88-attachment.txt", "type": "text/plain"}], "start": 1764128066423, "stop": 1764128066471}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6e0ea018-209b-43d2-8450-908a4646d537-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d3cdb3b9-51cf-4b6a-a691-c6287cbf712f-attachment.txt", "type": "text/plain"}], "start": 1764128066471, "stop": 1764128066472}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9fe0d4f8-00d2-4460-a652-3f93eb7b2d71-attachment.txt", "type": "text/plain"}], "start": 1764128066472, "stop": 1764128066473}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128068533, "stop": 1764128068749}], "attachments": [{"name": "查询条件", "source": "f17ba9db-7789-4dd0-ba44-a9b336073e49-attachment.txt", "type": "text/plain"}], "start": 1764128068533, "stop": 1764128068749}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4c017b7b-2929-42c7-aec1-b636a5bdf2e1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "afdf0b85-444b-4cfa-b06a-9d800e56dde3-attachment.txt", "type": "text/plain"}], "start": 1764128068749, "stop": 1764128068749}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "fcfe17de-41ae-47e8-82bb-f4bd3edd4cee-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c679f24a-ad2b-492d-af89-546630664c11-attachment.txt", "type": "text/plain"}], "start": 1764128068749, "stop": 1764128068751}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fe7755de-33d8-4685-a882-3e9101eefd0c-attachment.txt", "type": "text/plain"}], "start": 1764128068751, "stop": 1764128068751}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128070808, "stop": 1764128070868}], "attachments": [{"name": "查询条件", "source": "b9adc464-ed0a-4702-81a1-67bc072367a4-attachment.txt", "type": "text/plain"}], "start": 1764128070807, "stop": 1764128070868}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2b530725-4675-45e6-a3a9-d8d32dbc0ce5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1303f16f-27e1-43ef-a8f3-66979073f478-attachment.txt", "type": "text/plain"}], "start": 1764128070868, "stop": 1764128070870}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "2b13bbd1-b613-4a05-a89c-abeb7723f850-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c3d0b529-fe9f-4580-8cf4-5dd0c10f5502-attachment.txt", "type": "text/plain"}], "start": 1764128070870, "stop": 1764128070871}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "39da4c15-9ec1-46b9-9f5c-d8a8de05365d-attachment.txt", "type": "text/plain"}], "start": 1764128070871, "stop": 1764128070872}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128072924, "stop": 1764128072972}], "attachments": [{"name": "查询条件", "source": "70be641c-fa78-44c4-9c2f-f7414abf9cd1-attachment.txt", "type": "text/plain"}], "start": 1764128072923, "stop": 1764128072972}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2ffc7a4d-ea3a-4e27-bdd2-87667ae33485-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b6f9dbfc-ad79-4519-adeb-9878d8e25449-attachment.txt", "type": "text/plain"}], "start": 1764128072972, "stop": 1764128072973}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f5fe9065-43a1-43da-aec5-80bb68728f9d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "ce9bbe42-5221-4639-91a8-282ca0bc6eb0-attachment.txt", "type": "text/plain"}], "start": 1764128072973, "stop": 1764128072973}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7f60cafa-c633-4de3-852e-f198de833440-attachment.txt", "type": "text/plain"}], "start": 1764128072974, "stop": 1764128072974}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "c3e14eac-640a-4cd1-b4fa-92dfaf9631a2-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "3eab9a13-508e-4398-9e6f-ec1d666f62ba-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c2bffe87-765a-4019-8cc2-58d44564ad97-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "326f7354-a962-4fdd-9a30-efd4024864bd-attachment.txt", "type": "text/plain"}], "start": 1764128072974, "stop": 1764128072975}], "start": 1764128064280, "stop": 1764128072975}], "start": 1764128064280, "stop": 1764128072976}, {"name": "校验账号状态和净值", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1027\\test_cloudTrader\\test_create.py\", line 300, in test_dbimport_addSlave\n    db_sub_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuanMT5_1027\\commons\\api_base.py\", line 647, in query_database_with_time\n    raise TimeoutError(f\"Failed: 等待记录出现超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1027\\commons\\api_base.py\", line 647, in query_database_with_time\n    raise TimeoutError(f\"Failed: 等待记录出现超时（{timeout}秒）\")\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128073023, "stop": 1764128073073}], "attachments": [{"name": "查询条件", "source": "c3df3c92-5f2a-4f1d-81fe-6bff4435830a-attachment.txt", "type": "text/plain"}], "start": 1764128073023, "stop": 1764128073073}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0fe7ab5d-ba2c-474d-a261-923f30968784-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9f988f49-8f88-4d36-bcf2-ef0f6e325af1-attachment.txt", "type": "text/plain"}], "start": 1764128073073, "stop": 1764128073074}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9de32e3f-6eb3-4f4f-a296-e79e95ecdb7f-attachment.txt", "type": "text/plain"}], "start": 1764128073074, "stop": 1764128073074}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128075129, "stop": 1764128075347}], "attachments": [{"name": "查询条件", "source": "ad2f5a24-04f0-454b-a1f4-d7a42c2a6e99-attachment.txt", "type": "text/plain"}], "start": 1764128075128, "stop": 1764128075347}, {"name": "轮询中（已等待2.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dcd08aa9-e789-44c8-81ae-b9edee38b396-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9fa285fd-68c8-4874-89a7-9a189b767374-attachment.txt", "type": "text/plain"}], "start": 1764128075347, "stop": 1764128075348}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "7e4ca2b5-61e5-4b1c-a05d-1f12b3987cbc-attachment.txt", "type": "text/plain"}], "start": 1764128075348, "stop": 1764128075348}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128077396, "stop": 1764128077446}], "attachments": [{"name": "查询条件", "source": "80b0613b-c3de-41f8-a812-77fb6ba96c78-attachment.txt", "type": "text/plain"}], "start": 1764128077396, "stop": 1764128077446}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e89ca945-e76f-4708-b162-b62a186fb99b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "27445f66-d438-4298-9361-7e328d8673e2-attachment.txt", "type": "text/plain"}], "start": 1764128077446, "stop": 1764128077446}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "fc34e2fa-d01b-486e-bbaf-ef281bbbcb59-attachment.txt", "type": "text/plain"}], "start": 1764128077446, "stop": 1764128077447}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128079501, "stop": 1764128079549}], "attachments": [{"name": "查询条件", "source": "b098590c-26a4-45f2-b705-054e9d3560cc-attachment.txt", "type": "text/plain"}], "start": 1764128079500, "stop": 1764128079549}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4c380d67-aec3-4f47-8a1e-3b88f7175b8a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "58b4a398-50db-4c01-9721-cf6e44b42d93-attachment.txt", "type": "text/plain"}], "start": 1764128079549, "stop": 1764128079550}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a2a6e9a3-e21a-475f-95d9-2e05b65c55e0-attachment.txt", "type": "text/plain"}], "start": 1764128079551, "stop": 1764128079551}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128081604, "stop": 1764128081652}], "attachments": [{"name": "查询条件", "source": "4f1b8868-0a98-4b89-bcd6-915a503268d7-attachment.txt", "type": "text/plain"}], "start": 1764128081604, "stop": 1764128081652}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4e7f219c-e50d-4b78-ae03-1616b13bc041-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d7a99473-0ddd-4197-823c-4f16425a164c-attachment.txt", "type": "text/plain"}], "start": 1764128081652, "stop": 1764128081653}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e309de09-93ad-4507-83eb-47f0197b52fa-attachment.txt", "type": "text/plain"}], "start": 1764128081653, "stop": 1764128081653}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128083699, "stop": 1764128083747}], "attachments": [{"name": "查询条件", "source": "2690b264-2895-4ad7-acbe-64792d9bb924-attachment.txt", "type": "text/plain"}], "start": 1764128083699, "stop": 1764128083747}, {"name": "轮询中（已等待10.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "724939a1-9e43-4433-885b-c151deac203d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1373e257-b8bc-4113-98e7-bc213e135e6c-attachment.txt", "type": "text/plain"}], "start": 1764128083747, "stop": 1764128083748}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "13cce7c1-fbbf-468a-bab2-1815f4db1f9a-attachment.txt", "type": "text/plain"}], "start": 1764128083748, "stop": 1764128083748}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128085802, "stop": 1764128086303}], "attachments": [{"name": "查询条件", "source": "e28a701a-cb54-4517-a199-258a4f5ecbbe-attachment.txt", "type": "text/plain"}], "start": 1764128085801, "stop": 1764128086303}, {"name": "轮询中（已等待13.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a2aac2ce-8b35-4a20-ba92-c33b1c9d35f6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c06a1ae7-29b8-4803-9902-f05871f023c5-attachment.txt", "type": "text/plain"}], "start": 1764128086303, "stop": 1764128086304}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "5598a81a-6a73-4852-bb04-2a00ede65e17-attachment.txt", "type": "text/plain"}], "start": 1764128086304, "stop": 1764128086304}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128088360, "stop": 1764128088564}], "attachments": [{"name": "查询条件", "source": "1f77d92a-61f3-487f-9253-65872e9274ea-attachment.txt", "type": "text/plain"}], "start": 1764128088360, "stop": 1764128088564}, {"name": "轮询中（已等待15.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "82141f8b-6ea0-4098-8475-30c0817bb2a6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "434f12a3-089b-4637-8aae-930a59afbe20-attachment.txt", "type": "text/plain"}], "start": 1764128088564, "stop": 1764128088566}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e10a57e6-ef85-4975-9f87-bb65bfb51387-attachment.txt", "type": "text/plain"}], "start": 1764128088566, "stop": 1764128088566}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128090620, "stop": 1764128090715}], "attachments": [{"name": "查询条件", "source": "2a95af43-e52a-4c6d-8e4c-6c1ab760f344-attachment.txt", "type": "text/plain"}], "start": 1764128090620, "stop": 1764128090715}, {"name": "轮询中（已等待17.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "43555839-b5ee-44fd-9d0b-ac6775dace7f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "48655af2-f452-4a6b-9327-7a99275dd0a0-attachment.txt", "type": "text/plain"}], "start": 1764128090715, "stop": 1764128090716}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a9323538-92aa-462a-b4a6-a36abb275d40-attachment.txt", "type": "text/plain"}], "start": 1764128090716, "stop": 1764128090716}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128092772, "stop": 1764128092820}], "attachments": [{"name": "查询条件", "source": "8f7ab89f-756e-42a1-97c8-b9ae47a5d553-attachment.txt", "type": "text/plain"}], "start": 1764128092771, "stop": 1764128092820}, {"name": "轮询中（已等待19.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fc84934d-4fe1-4a7f-8237-5abe70af2db1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a8689f66-d747-4b0c-b399-c19ff51a768b-attachment.txt", "type": "text/plain"}], "start": 1764128092820, "stop": 1764128092821}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "01705849-f141-4aac-a688-db28bbd06593-attachment.txt", "type": "text/plain"}], "start": 1764128092821, "stop": 1764128092822}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128094876, "stop": 1764128094923}], "attachments": [{"name": "查询条件", "source": "f3512e14-6b92-4359-9442-1da01d4de40b-attachment.txt", "type": "text/plain"}], "start": 1764128094875, "stop": 1764128094923}, {"name": "轮询中（已等待21.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dce68006-9ba0-4103-8c9c-192e008bf7d9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "058cb7a8-9e4a-472e-9e1e-e888a46af89b-attachment.txt", "type": "text/plain"}], "start": 1764128094923, "stop": 1764128094924}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "70358898-4faa-4d91-87b1-872723e0aa5a-attachment.txt", "type": "text/plain"}], "start": 1764128094924, "stop": 1764128094924}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128096983, "stop": 1764128097289}], "attachments": [{"name": "查询条件", "source": "f81b3810-327a-4b30-a249-2bee53be4986-attachment.txt", "type": "text/plain"}], "start": 1764128096983, "stop": 1764128097289}, {"name": "轮询中（已等待24.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fec06106-3906-4627-a295-ac36be111e71-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fadc8d9a-bc54-4376-a706-372f78878811-attachment.txt", "type": "text/plain"}], "start": 1764128097289, "stop": 1764128097290}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "57d8669c-30b1-429b-ae90-23576ed2ab94-attachment.txt", "type": "text/plain"}], "start": 1764128097290, "stop": 1764128097290}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128099347, "stop": 1764128099440}], "attachments": [{"name": "查询条件", "source": "d647c246-59e4-44b0-9132-6b96b37b2f34-attachment.txt", "type": "text/plain"}], "start": 1764128099347, "stop": 1764128099441}, {"name": "轮询中（已等待26.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0ab7b876-2126-49be-a55d-037fcadd78d1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "db3e7e42-c023-4184-91b9-83ca46757569-attachment.txt", "type": "text/plain"}], "start": 1764128099441, "stop": 1764128099441}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2c69fc4b-7b47-4cf2-bdcd-13f6708a98da-attachment.txt", "type": "text/plain"}], "start": 1764128099441, "stop": 1764128099442}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764128101489, "stop": 1764128102871}], "attachments": [{"name": "查询条件", "source": "d62bd2c8-01d7-4952-9299-d21c4ade5cb3-attachment.txt", "type": "text/plain"}], "start": 1764128101489, "stop": 1764128102871}, {"name": "轮询中（已等待29.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "02c984ee-bd79-4d79-b2c3-df38fe601521-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ddcdce93-13bd-4115-bab4-b24259deb25b-attachment.txt", "type": "text/plain"}], "start": 1764128102871, "stop": 1764128102872}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d4c2348a-790a-4dfe-9026-d3523bba5d11-attachment.txt", "type": "text/plain"}], "start": 1764128102872, "stop": 1764128102873}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "3e98ff3d-84b9-4edd-9fa3-14fac664b7b5-attachment.txt", "type": "text/plain"}], "start": 1764128104881, "stop": 1764128104881}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "09de51a0-0319-4a12-a90d-8559e7ecd550-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "3dfff53f-6ace-44e3-b125-ff8077fe50d7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c510cc81-7112-4f2b-8494-ce599e3547bd-attachment.txt", "type": "text/plain"}], "start": 1764128104930, "stop": 1764128104931}], "start": 1764128104882, "stop": 1764128104931}], "attachments": [{"name": "查询条件", "source": "1fd6a7b0-f100-48bd-b235-d23dfe7f6df3-attachment.txt", "type": "text/plain"}], "start": 1764128104882, "stop": 1764128104931}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "fefd37a9-c814-4209-943e-ae24d9fe3dcb-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "ebb1f7ba-cdd0-4ec9-8ab9-3831a6db94fb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "54ce4794-74a2-4122-9a6e-d9602f46e845-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "bf7b4768-7261-4b77-a863-aad0ab047c7c-attachment.txt", "type": "text/plain"}], "start": 1764128104931, "stop": 1764128104933}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "9d085b22-6b8b-4abe-b4f9-431d294a0b88-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "ef85eca6-4095-40bf-b945-bcf1dc99df51-attachment.txt", "type": "text/plain"}], "start": 1764128104933, "stop": 1764128104933}], "start": 1764128072976, "stop": 1764128104933}], "start": 1764128072976, "stop": 1764128104934}], "attachments": [{"name": "log", "source": "b924f700-3ae9-4c9e-9971-b1f90601fe37-attachment.txt", "type": "text/plain"}], "start": 1764128064280, "stop": 1764128104934, "uuid": "adfc59a1-e67c-4a9f-81c1-46b1d8bbabc2", "historyId": "2f6eca20410cff5a72059646b4674ee4", "testCaseId": "2f6eca20410cff5a72059646b4674ee4", "fullName": "test_cloudTrader.test_create.TestCreate_MT5cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "tag", "value": "flaky(reruns=3, reruns_delay=5)"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_MT5cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "73708-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}