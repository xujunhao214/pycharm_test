{"name": "出现漏平-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云跟单账号平仓-关闭\n      2. 进行开仓\n      3. 进行平仓\n      4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      5. 修改云跟单账号平仓-开启\n    - 预期结果：云跟单账号平仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b5868abc-b191-4004-a2f6-aa3297b9d5b5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2f91b8e8-d7a7-4280-94a3-aa47d3be1f1f-attachment.txt", "type": "text/plain"}], "start": 1756968689127, "stop": 1756968693801}], "attachments": [{"name": "查询条件", "source": "bf11c861-d488-4abb-baa5-027e6ff0438f-attachment.txt", "type": "text/plain"}], "start": 1756968689127, "stop": 1756968693801}, {"name": "轮询中（已等待4.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "86196993-3144-4069-9fa3-925d0dc8a397-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d41ca494-0a2a-4c87-80bb-bfabb1a254f1-attachment.txt", "type": "text/plain"}], "start": 1756968693801, "stop": 1756968693802}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "1c94d3da-7d8d-4023-b8a5-85949ebffb1b-attachment.txt", "type": "text/plain"}], "start": 1756968693802, "stop": 1756968693802}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "77b4e59c-8b0e-44bc-8bcd-708672a5cd3d-attachment.txt", "type": "text/plain"}], "start": 1756968693802, "stop": 1756968693802}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f6e38f46-f2d5-4b5f-9787-dda10f6156b0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6c0f7542-3cc0-44e0-bbd6-341063e4a207-attachment.txt", "type": "text/plain"}], "start": 1756968695861, "stop": 1756968700540}], "attachments": [{"name": "查询条件", "source": "1f6d2138-b74a-49dc-b3d7-33455b9def6b-attachment.txt", "type": "text/plain"}], "start": 1756968695861, "stop": 1756968700540}, {"name": "轮询中（已等待11.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bdbb8085-e452-4067-856e-1324646d901c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6544d094-f67b-4cb6-bd15-0a1d4b9cc832-attachment.txt", "type": "text/plain"}], "start": 1756968700540, "stop": 1756968700541}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "bc7a63ac-893f-4874-a514-19c72deca45d-attachment.txt", "type": "text/plain"}], "start": 1756968700541, "stop": 1756968700541}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "5b233d2b-bc92-425e-bad0-5ba1e67a44d4-attachment.txt", "type": "text/plain"}], "start": 1756968700541, "stop": 1756968700541}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9b876f27-2bf6-48c6-a7c1-68a632794710-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "847f7dfe-5300-4a94-81b1-60cc0e6fb217-attachment.txt", "type": "text/plain"}], "start": 1756968702591, "stop": 1756968707192}], "attachments": [{"name": "查询条件", "source": "55e7c28f-61e3-4303-bd33-b1d34c86ca5e-attachment.txt", "type": "text/plain"}], "start": 1756968702590, "stop": 1756968707192}, {"name": "轮询中（已等待18.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e910b069-e6c7-460e-ab76-1300b5133a75-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "acf07256-144c-4717-9389-be4c2dee40b8-attachment.txt", "type": "text/plain"}], "start": 1756968707192, "stop": 1756968707193}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2e32d410-26d5-4d8c-89d0-1010570bb9ed-attachment.txt", "type": "text/plain"}], "start": 1756968707193, "stop": 1756968707194}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7bde29a7-851f-47e1-8ba3-e7b35aa45218-attachment.txt", "type": "text/plain"}], "start": 1756968707194, "stop": 1756968707194}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "239103b2-8b3f-4ef2-a3fe-6aad6755e7d8-attachment.json", "type": "application/json"}], "start": 1756968707194, "stop": 1756968707194}], "attachments": [{"name": "执行SQL", "source": "cdba00f0-e32a-4221-9dc2-d4366c7bad1e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bf085c0c-920e-4c05-915b-33a7aa942ff8-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "5572a49d-9394-4927-aca6-4d0bb1b81de7-attachment.txt", "type": "text/plain"}], "start": 1756968689080, "stop": 1756968707195}], "start": 1756968689080, "stop": 1756968707195}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756968707195, "stop": 1756968707195}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "6299ac02-4333-4d25-bccb-083c45f8f182-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "8b985b63-4865-4cbd-a888-45e1266f1ba9-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "5d2d3782-da08-494c-8e3c-5bdab6ef5726-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "f3d4e480-0749-47d3-b96e-f5e8bf8994bf-attachment.json", "type": "application/json"}], "start": 1756968707195, "stop": 1756968707196}], "start": 1756968707195, "stop": 1756968707196}], "attachments": [{"name": "log", "source": "8706fdf2-a253-4c8c-8a59-3304357e828a-attachment.txt", "type": "text/plain"}], "start": 1756968689080, "stop": 1756968707197, "uuid": "99922573-13a2-401a-9ab2-22c96ee2785f", "historyId": "f728c796074aa556ab55b3164e678327", "testCaseId": "f728c796074aa556ab55b3164e678327", "fullName": "test_cloudTrader.test_cloudOrder_open_level.TestcloudTrader_level#test_dbquery_redis", "labels": [{"name": "story", "value": "场景2：交易下单-云策略复制下单-漏平"}, {"name": "feature", "value": "云策略-策略账号交易下单-漏单场景"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestcloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "30792-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}