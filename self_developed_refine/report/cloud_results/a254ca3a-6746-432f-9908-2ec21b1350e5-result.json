{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云策略 策略状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改云策略 策略状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：云策略 策略状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c7a0e8ed-e4e7-472c-9cda-9bee874f579a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d1eb7180-5913-42bc-85aa-ef0ac05ee8d1-attachment.txt", "type": "text/plain"}], "start": 1756968843237, "stop": 1756968847855}], "attachments": [{"name": "查询条件", "source": "3863c254-b590-4bb1-92b3-ac8d65f11af7-attachment.txt", "type": "text/plain"}], "start": 1756968843236, "stop": 1756968847855}, {"name": "轮询中（已等待4.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "41a77754-44e0-49a4-91c6-1800f5ae546d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a4e828bd-4077-4bb9-8b14-62e42c93f09a-attachment.txt", "type": "text/plain"}], "start": 1756968847855, "stop": 1756968847855}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "9e3278be-75bb-4342-80d2-d785781cdd26-attachment.txt", "type": "text/plain"}], "start": 1756968847855, "stop": 1756968847856}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9337fde4-d8c9-49ba-84c6-fa59a50c7d68-attachment.txt", "type": "text/plain"}], "start": 1756968847856, "stop": 1756968847856}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bc19b22d-1c9d-4116-ba33-947096c8ec77-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c258642d-9a15-4641-b1a9-b2fba4f8983d-attachment.txt", "type": "text/plain"}], "start": 1756968849905, "stop": 1756968854555}], "attachments": [{"name": "查询条件", "source": "51ccc885-1ba4-44a9-85e2-60b655c9354f-attachment.txt", "type": "text/plain"}], "start": 1756968849905, "stop": 1756968854555}, {"name": "轮询中（已等待11.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "73bf2e76-00c3-4aab-9071-4b4d4ddbc955-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ba76a886-60fc-481c-8991-952ce44cf217-attachment.txt", "type": "text/plain"}], "start": 1756968854555, "stop": 1756968854556}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "9d3e097d-e9be-41fa-9753-6e7ee6fe06ef-attachment.txt", "type": "text/plain"}], "start": 1756968854556, "stop": 1756968854556}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "7381edff-3dc7-4209-b3af-bea21a08ff13-attachment.txt", "type": "text/plain"}], "start": 1756968854556, "stop": 1756968854557}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4552c9ac-fd83-4eb6-ab02-4e3b41ed34f9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7f624392-fdde-4cdb-ac12-f07f0bbe4b73-attachment.txt", "type": "text/plain"}], "start": 1756968856618, "stop": 1756968861263}], "attachments": [{"name": "查询条件", "source": "73b09ec5-df80-4fe3-9b80-919e4cb3c1b7-attachment.txt", "type": "text/plain"}], "start": 1756968856618, "stop": 1756968861263}, {"name": "轮询中（已等待18.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e93d0c31-375e-4986-841c-d1844b322b2c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1c53be6f-672a-4a6e-bea7-73e30c9b12b3-attachment.txt", "type": "text/plain"}], "start": 1756968861263, "stop": 1756968861264}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "995c7b09-d873-4499-9dfa-b882f2995fee-attachment.txt", "type": "text/plain"}], "start": 1756968861264, "stop": 1756968861264}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "6bb0572f-a049-4d01-a0f7-3bedef42388c-attachment.txt", "type": "text/plain"}], "start": 1756968861264, "stop": 1756968861265}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "31302ce2-c498-42d9-8101-c26eb74c4d0f-attachment.json", "type": "application/json"}], "start": 1756968861265, "stop": 1756968861265}], "attachments": [{"name": "执行SQL", "source": "b3892a83-156f-4dba-9936-f667c21e521f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "80e171e2-f675-487a-af09-4669b8d7b22e-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "c9d412b2-0c35-4b0a-960c-2c12a37bbdcd-attachment.txt", "type": "text/plain"}], "start": 1756968843184, "stop": 1756968861265}], "start": 1756968843183, "stop": 1756968861265}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756968861265, "stop": 1756968861266}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "7a371bf2-7601-49c3-b2b5-ff03e9ccab54-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "ea53251c-0d1e-4e74-b051-5061bdd4f8f3-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "3118175b-7c76-415d-b012-91aa648c8c10-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "1dcaf789-db84-4cfb-881a-48b738e80657-attachment.json", "type": "application/json"}], "start": 1756968861266, "stop": 1756968861267}], "start": 1756968861266, "stop": 1756968861267}], "attachments": [{"name": "log", "source": "ad2ad8b2-4f51-4431-b41b-584be3fa4afd-attachment.txt", "type": "text/plain"}], "start": 1756968843183, "stop": 1756968861267, "uuid": "40f609ac-5b7b-4351-b5c1-72c3fcb56921", "historyId": "c79a9d8105899d3ccd8159d0dcb7c164", "testCaseId": "c79a9d8105899d3ccd8159d0dcb7c164", "fullName": "test_cloudTrader.test_cloudOrder_open_level.Testcloudstargy_status#test_dbquery_redis", "labels": [{"name": "story", "value": "场景4：交易下单-云策略复制下单-云策略-策略状态关闭"}, {"name": "feature", "value": "云策略-策略账号交易下单-漏单场景"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestcloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "30792-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}