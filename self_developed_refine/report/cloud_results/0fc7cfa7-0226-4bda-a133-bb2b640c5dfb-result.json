{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改云跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：云跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b4207960-55df-4dd9-95c2-0e11b362cb1f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6d66f5e1-8c43-4623-90f2-037479991f92-attachment.txt", "type": "text/plain"}], "start": 1756968602082, "stop": 1756968606778}], "attachments": [{"name": "查询条件", "source": "d5168e8e-e1fc-4955-afc1-458cf785a0a1-attachment.txt", "type": "text/plain"}], "start": 1756968602082, "stop": 1756968606778}, {"name": "轮询中（已等待4.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "feaed803-4404-4363-ba6a-f9f88041ed85-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d3bf187a-848d-4f6d-92b0-ca53c3eb5db5-attachment.txt", "type": "text/plain"}], "start": 1756968606778, "stop": 1756968606778}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "fa482bcb-3178-4fbb-a25e-148714402582-attachment.txt", "type": "text/plain"}], "start": 1756968606778, "stop": 1756968606778}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fb4f9a22-eb7b-431d-a3d5-a284402fae6c-attachment.txt", "type": "text/plain"}], "start": 1756968606778, "stop": 1756968606780}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c7cdb5d2-8eff-44ad-98bc-e764964213b3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fed3af45-b060-450e-ad1e-cda687727ac2-attachment.txt", "type": "text/plain"}], "start": 1756968608839, "stop": 1756968613431}], "attachments": [{"name": "查询条件", "source": "ac2c7203-5210-411a-9ff9-7b73f0934490-attachment.txt", "type": "text/plain"}], "start": 1756968608839, "stop": 1756968613431}, {"name": "轮询中（已等待11.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "77354014-ad9b-457d-a330-173a0137ba89-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d456105b-54cb-4d1b-a443-cc654c2a82db-attachment.txt", "type": "text/plain"}], "start": 1756968613431, "stop": 1756968613432}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "f6749de0-bd6e-4387-86e5-914910ad2b96-attachment.txt", "type": "text/plain"}], "start": 1756968613432, "stop": 1756968613432}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "d8dc428c-833d-422e-a11e-41fb33b560fd-attachment.txt", "type": "text/plain"}], "start": 1756968613432, "stop": 1756968613433}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "61291905-0f59-4db7-86f0-5021d7374738-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3d8c7f8e-253f-4e83-8c11-6d16a9887f00-attachment.txt", "type": "text/plain"}], "start": 1756968615517, "stop": 1756968620103}], "attachments": [{"name": "查询条件", "source": "5b303b3a-1be1-4f5e-9794-cc318423bd43-attachment.txt", "type": "text/plain"}], "start": 1756968615516, "stop": 1756968620103}, {"name": "轮询中（已等待18.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9f179af1-f3da-40a0-a89c-6580dadcbfb3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cb6009b4-fe5b-4884-b147-99ae3cd73ebd-attachment.txt", "type": "text/plain"}], "start": 1756968620103, "stop": 1756968620104}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "7cfab57b-d3bf-47c2-9b01-75eb6a7f3655-attachment.txt", "type": "text/plain"}], "start": 1756968620104, "stop": 1756968620104}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f8ffea07-29e4-477c-a455-6baa60149f40-attachment.txt", "type": "text/plain"}], "start": 1756968620104, "stop": 1756968620105}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "a24e5f5d-48c2-42a4-b36b-5c80d23ef85f-attachment.json", "type": "application/json"}], "start": 1756968620105, "stop": 1756968620105}], "attachments": [{"name": "执行SQL", "source": "257415d5-0fd1-4655-8c89-0fb1d7383d03-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5f2b098c-307c-40ee-bcb2-4bdeb4e2378c-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "6f126f98-e0b0-4909-971d-c7d497ed64eb-attachment.txt", "type": "text/plain"}], "start": 1756968602031, "stop": 1756968620105}], "start": 1756968602031, "stop": 1756968620105}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756968620105, "stop": 1756968620106}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "8ea3e398-fb1c-40bd-bd43-ef83052687ca-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "dbf5e7fb-7d92-461d-b75c-c23a6160443c-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "a2028ff4-68e3-4e00-9991-e504a1dcbb62-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "78b759fd-a0db-45da-8ba6-8ad5487a9d03-attachment.json", "type": "application/json"}], "start": 1756968620106, "stop": 1756968620107}], "start": 1756968620106, "stop": 1756968620107}], "attachments": [{"name": "log", "source": "1327340d-8e75-45fe-8982-0b2f99aa0eb7-attachment.txt", "type": "text/plain"}], "start": 1756968602031, "stop": 1756968620108, "uuid": "5022da73-0d34-4d04-adae-e8db41f96fc1", "historyId": "ff65366b9ac46482e69c4324614eff6a", "testCaseId": "ff65366b9ac46482e69c4324614eff6a", "fullName": "test_cloudTrader.test_cloudOrder_open_level.TestcloudTrader_open#test_dbquery_redis", "labels": [{"name": "feature", "value": "云策略-策略账号交易下单-漏单场景"}, {"name": "story", "value": "场景1：交易下单-云策略复制下单-漏开"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestcloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "30792-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}