INFO     2025-09-18 14:34:38 [template.conftest;342]  : [2025-09-18 14:34:37] 测试会话开始: 2025-09-18 14:34:38, 测试组: cloud
INFO     2025-09-18 14:34:38 [template.commons.variable_manager;40]  : [2025-09-18 14:34:37] 成功加载静态变量: VAR\uat_data.json
INFO     2025-09-18 14:34:38 [template.commons.variable_manager;64]  : [2025-09-18 14:34:37] 成功加载运行时变量: VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:34:38 [template.conftest;72]  : [2025-09-18 14:34:38] 用例  开始登录，环境: uat
INFO     2025-09-18 14:34:39 [template.conftest;141]  : 第1次尝试 - 验证码识别结果: vDLy
INFO     2025-09-18 14:34:40 [template.conftest;184]  : uat环境登录成功（第1次尝试）
INFO     2025-09-18 14:34:40 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:34:42 [template.commons.api_base;339]  : [2025-09-18 14:34:42] PUT请求: /blockchain/master-slave/editPa | 数据: {'id': '1968134756257165313', 'direction': 'FORWARD', 'followingMode': 4, 'fixedProportion': 100, 'fixedLots': None}
INFO     2025-09-18 14:34:45 [template.commons.api_base;257]  : [2025-09-18 14:34:45] GET请求: /online/cgreport/api/getColumnsAndData/1560189381093109761 | 参数: {'_t': 1758177277, 'account': '2088767546', 'pageNo': '1', 'pageSize': '20', 'status': 'NORMAL,AUDIT'}
INFO     2025-09-18 14:34:48 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:34:49 [template.commons.api_base;257]  : [2025-09-18 14:34:49] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:34:58 [template.commons.api_base;257]  : [2025-09-18 14:34:58] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:35:07 [template.commons.api_base;257]  : [2025-09-18 14:35:07] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:35:16 [template.commons.api_base;257]  : [2025-09-18 14:35:16] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:35:19 [template.commons.api_base;257]  : [2025-09-18 14:35:19] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:35:23 [root;187]  : 币种的转换详情,当前币种AUD，转换前：4995723.24,转换后：3122826.6
INFO     2025-09-18 14:35:23 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:24 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:35:24 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:35:24 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:35:25 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:25 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:25 [root;265]  : ticket: 44268341,lots_open:0.01
INFO     2025-09-18 14:35:26 [template.commons.api_base;257]  : [2025-09-18 14:35:26] GET请求: /online/cgform/api/getData/402883977b38c9ca017b38c9caff0000 | 参数: {'_t': 1758177277, 'trader_id': '1968134493096001538', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:35:29 [root;299]  : 喊单者手数是: 0.01
INFO     2025-09-18 14:35:29 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:29 [root;1363]  : 校验通过: 第 1 条记录的账号ID应为1968134493096001538

实际: 1968134493096001538
操作: ==
预期: 1968134493096001538

INFO     2025-09-18 14:35:29 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:35:29 [template.commons.api_base;343]  : 订单号数据正确,开仓订单号：44268341 喊单者订单号：44268341
INFO     2025-09-18 14:35:29 [root;347]  : 喊单者手数是: 0.01
INFO     2025-09-18 14:35:29 [root;1363]  : 校验通过: 手数符合预期

实际: 0.01
操作: ==
预期: 0.01

INFO     2025-09-18 14:35:29 [template.commons.api_base;358]  : 喊单者手数：0.01 MT4开仓手数：0.01
INFO     2025-09-18 14:35:29 [root;362]  : 喊单者方向是: 0
INFO     2025-09-18 14:35:29 [root;1363]  : 校验通过: 喊单者方向符合预期

实际: 0.0
操作: ==
预期: 0.0

INFO     2025-09-18 14:35:29 [template.commons.api_base;371]  : 喊单者方向：0
INFO     2025-09-18 14:35:30 [template.commons.api_base;508]  : [2025-09-18 14:35:30] 执行SQL: SELECT * FROM bchain_trader_subscribe_order WHERE master_ticket = %s ORDER BY create_time DESC 
参数: (44268341,)
INFO     2025-09-18 14:35:30 [template.commons.api_base;511]  : [2025-09-18 14:35:30] 查询成功，结果数量: 1
INFO     2025-09-18 14:35:30 [template.commons.api_base;523]  : [2025-09-18 14:35:30] 查询结果: [{"id": "1968564505047724034", "master_id": "1968134493096001538", "master_ticket": 44268341, "master_type": 0, "master_open_time": "2025-09-18 09:35:26", "detected_open_time": "2025-09-18 14:35:26", "master_close_time": null, "detected_close_time": null, "master_lots": 0.01, "comment": "", "master_profit": null, "master_symbol": "XAUUSDzero", "slave_id": "1968134649581289473", "slave_ticket": 44268342, "slave_type": 0, "slave_open_time": "2025-09-18 14:35:27", "slave_receive_time": "2025-09-18 14:35:26", "slave_close_time": null, "slave_receive_close_time": null, "slave_lots": 1.09, "slave_position": null, "slave_profit": null, "slave_open_price": null, "slave_symbol": "XAUUSDzero", "slave_comment": null, "following_mode": 4, "fixed_lots": 0.01, "fixed_proportion": 100, "ratio": 109.0, "flag": 1, "direction": "FORWARD", "extra": "[开仓]即时价格成交", "delete_flag": null, "award_status": null, "create_by": null, "create_time": "2025-09-18 14:35:27", "update_by": null, "update_time": null, "close_order_agent_id": null, "master_or_slave": 0, "commission_status": 0, "open_order_agent_id": "e9ca23d68d884d4ebb19d07889727dae", "close_extra": null, "open_time_difference": 296, "close_time_difference": null, "open_price_difference": 0.01, "close_price_difference": null}]
INFO     2025-09-18 14:35:30 [root;394]  : 跟单账号订单号: 44268342
INFO     2025-09-18 14:35:30 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:30 [root;399]  : 开仓时间差（毫秒）: 296
INFO     2025-09-18 14:35:30 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:30 [template.commons.api_base;257]  : [2025-09-18 14:35:30] GET请求: /online/cgform/api/getData/402883977b38c9ca017b38c9caff0000 | 参数: {'_t': 1758177277, 'trader_id': '1968134649581289473', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:35:33 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:33 [root;1363]  : 校验通过: 第 1 条记录的账号ID应为1968134649581289473

实际: 1968134649581289473
操作: ==
预期: 1968134649581289473

INFO     2025-09-18 14:35:33 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:35:33 [template.commons.api_base;479]  : 订单号数据正确,开仓订单号：44268341 喊单者订单号：44268341
INFO     2025-09-18 14:35:33 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268342
操作: ==
预期: 44268342

INFO     2025-09-18 14:35:33 [template.commons.api_base;491]  : 订单号数据正确,跟单者订单号：44268342 数据库数据：44268342
INFO     2025-09-18 14:35:33 [root;1363]  : 校验通过: 手数符合预期

实际: 1.09
操作: ==
预期: 1.09

INFO     2025-09-18 14:35:33 [template.commons.api_base;524]  : 跟单者手数：1.09
INFO     2025-09-18 14:35:33 [root;528]  : 跟单方向是: 0
INFO     2025-09-18 14:35:39 [template.commons.api_base;257]  : [2025-09-18 14:35:39] GET请求: /online/cgform/api/getData/402883977b38c9ca017b38c9caff0000 | 参数: {'_t': 1758177277, 'trader_id': '1968134649581289473', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:35:42 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:42 [root;1363]  : 校验通过: 第 1 条记录的账号ID应为1968134649581289473

实际: 1968134649581289473
操作: ==
预期: 1968134649581289473

INFO     2025-09-18 14:35:42 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:35:42 [template.commons.api_base;479]  : 订单号数据正确,开仓订单号：44268341 喊单者订单号：44268341
INFO     2025-09-18 14:35:42 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268342
操作: ==
预期: 44268342

INFO     2025-09-18 14:35:42 [template.commons.api_base;491]  : 订单号数据正确,跟单者订单号：44268342 数据库数据：44268342
INFO     2025-09-18 14:35:42 [root;1363]  : 校验通过: 手数符合预期

实际: 1.09
操作: ==
预期: 1.09

INFO     2025-09-18 14:35:42 [template.commons.api_base;524]  : 跟单者手数：1.09
INFO     2025-09-18 14:35:42 [root;528]  : 跟单方向是: 0
INFO     2025-09-18 14:35:48 [template.commons.api_base;257]  : [2025-09-18 14:35:48] GET请求: /online/cgform/api/getData/402883977b38c9ca017b38c9caff0000 | 参数: {'_t': 1758177277, 'trader_id': '1968134649581289473', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:35:51 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:35:51 [root;1363]  : 校验通过: 第 1 条记录的账号ID应为1968134649581289473

实际: 1968134649581289473
操作: ==
预期: 1968134649581289473

INFO     2025-09-18 14:35:51 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:35:51 [template.commons.api_base;479]  : 订单号数据正确,开仓订单号：44268341 喊单者订单号：44268341
INFO     2025-09-18 14:35:51 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268342
操作: ==
预期: 44268342

INFO     2025-09-18 14:35:51 [template.commons.api_base;491]  : 订单号数据正确,跟单者订单号：44268342 数据库数据：44268342
INFO     2025-09-18 14:35:51 [root;1363]  : 校验通过: 手数符合预期

实际: 1.09
操作: ==
预期: 1.09

INFO     2025-09-18 14:35:51 [template.commons.api_base;524]  : 跟单者手数：1.09
INFO     2025-09-18 14:35:51 [root;528]  : 跟单方向是: 0
INFO     2025-09-18 14:35:57 [template.commons.api_base;257]  : [2025-09-18 14:35:57] GET请求: /online/cgform/api/getData/402883977b38c9ca017b38c9caff0000 | 参数: {'_t': 1758177277, 'trader_id': '1968134649581289473', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:36:00 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:36:00 [root;1363]  : 校验通过: 第 1 条记录的账号ID应为1968134649581289473

实际: 1968134649581289473
操作: ==
预期: 1968134649581289473

INFO     2025-09-18 14:36:00 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:36:00 [template.commons.api_base;479]  : 订单号数据正确,开仓订单号：44268341 喊单者订单号：44268341
INFO     2025-09-18 14:36:00 [root;1363]  : 校验通过: 订单号数据正确

实际: 44268342
操作: ==
预期: 44268342

INFO     2025-09-18 14:36:00 [template.commons.api_base;491]  : 订单号数据正确,跟单者订单号：44268342 数据库数据：44268342
INFO     2025-09-18 14:36:00 [root;1363]  : 校验通过: 手数符合预期

实际: 1.09
操作: ==
预期: 1.09

INFO     2025-09-18 14:36:00 [template.commons.api_base;524]  : 跟单者手数：1.09
INFO     2025-09-18 14:36:00 [root;528]  : 跟单方向是: 0
INFO     2025-09-18 14:36:00 [template.commons.api_base;257]  : [2025-09-18 14:36:00] GET请求: /online/cgform/api/getData/2c934301834efb6801834efbe1ba0002 | 参数: {'_t': 1758177277, 'master_account': '2088767545', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:36:03 [root;1363]  : 校验通过: 第 1 条记录的订单号应为44268341

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:36:03 [root;1363]  : 校验通过: 喊单者手数符合预期

实际: 0.01
操作: ==
预期: 0.01

INFO     2025-09-18 14:36:03 [template.commons.api_base;611]  : 喊单者手数验证通过: 0.01
INFO     2025-09-18 14:36:03 [root;1363]  : 校验通过: 交易币种符合预期

实际: XAUUSDzero
操作: ==
预期: XAUUSDzero

INFO     2025-09-18 14:36:03 [template.commons.api_base;626]  : 交易币种验证通过: XAUUSDzero
INFO     2025-09-18 14:36:04 [template.commons.api_base;257]  : [2025-09-18 14:36:04] GET请求: /online/cgreport/api/getColumnsAndData/1568899025974796289 | 参数: {'_t': 1758177277, 'pageNo': 1, 'pageSize': 50, 'self_master_ticket': 44268341}
INFO     2025-09-18 14:36:07 [root;1363]  : 校验通过: 第 1 条记录的订单号应为44268342

实际: 44268342
操作: ==
预期: 44268342

INFO     2025-09-18 14:36:07 [root;1363]  : 校验通过: 喊单者订单号符合预期

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:36:07 [template.commons.api_base;698]  : 喊单者订单号验证通过: 44268341
INFO     2025-09-18 14:36:07 [root;1363]  : 校验通过: 喊单者手数符合预期

实际: 0.01
操作: ==
预期: 0.01

INFO     2025-09-18 14:36:07 [template.commons.api_base;712]  : 喊单者手数验证通过: 0.01
INFO     2025-09-18 14:36:07 [root;1363]  : 校验通过: 跟单手数符合预期

实际: 1.09
操作: ==
预期: 1.09

INFO     2025-09-18 14:36:07 [template.commons.api_base;746]  : 跟单手数验证通过: 1.09
INFO     2025-09-18 14:36:07 [root;1363]  : 校验通过: 交易币种符合预期

实际: XAUUSDzero
操作: ==
预期: XAUUSDzero

INFO     2025-09-18 14:36:07 [template.commons.api_base;761]  : 交易币种验证通过: XAUUSDzero
INFO     2025-09-18 14:36:08 [template.commons.api_base;257]  : [2025-09-18 14:36:08] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:36:11 [root;797]  : 喊单者手数是: None
INFO     2025-09-18 14:36:11 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:36:11 [template.commons.api_base;257]  : [2025-09-18 14:36:11] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:36:14 [root;876]  : 喊单者手数是: None
INFO     2025-09-18 14:36:14 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:36:14 [root;1363]  : 校验通过: 第 1 条记录的账号应为2088767546

实际: 2088767546
操作: ==
预期: 2088767546

INFO     2025-09-18 14:36:14 [root;910]  : 手数是: 0.00
INFO     2025-09-18 14:36:20 [template.commons.api_base;257]  : [2025-09-18 14:36:20] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:36:23 [root;876]  : 喊单者手数是: None
INFO     2025-09-18 14:36:23 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:36:23 [root;1363]  : 校验通过: 第 1 条记录的账号应为2088767546

实际: 2088767546
操作: ==
预期: 2088767546

INFO     2025-09-18 14:36:23 [root;910]  : 手数是: 0.00
INFO     2025-09-18 14:36:29 [template.commons.api_base;257]  : [2025-09-18 14:36:29] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
INFO     2025-09-18 14:36:32 [root;876]  : 喊单者手数是: None
INFO     2025-09-18 14:36:32 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:36:32 [root;1363]  : 校验通过: 第 1 条记录的账号应为2088767546

实际: 2088767546
操作: ==
预期: 2088767546

INFO     2025-09-18 14:36:32 [root;910]  : 手数是: 1.09
INFO     2025-09-18 14:36:32 [root;1363]  : 校验通过: 手数符合预期

实际: 1.09
操作: ==
预期: 1.09

INFO     2025-09-18 14:36:32 [template.commons.api_base;940]  : 跟单者手数：1.09
ERROR    2025-09-18 14:36:33 [root;989]  : 第1次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:36:33 [root;993]  : 将在10秒后进行第2次尝试...
INFO     2025-09-18 14:37:15 [root;225]  : 第1次登录尝试 - 响应内容: {"message":"Not connected in 30000 ms: Starting thread, thread start called","code":"TIMEOUT","stackTrace":"   at TradingAPI.MT4Server.QuoteClient.Connect()\n   at mtrestapi.Connection.ConnectRestore(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds) in /src/mt4rest/Controllers/Connection.cs:line 314\n   at mtrestapi.Connection.Connect(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds, Boolean downloadOrderHistory) in /src/mt4rest/Controllers/Connection.cs:line 224"}
WARNING  2025-09-18 14:37:15 [root;233]  : 第1次尝试失败 - 无效的token格式: {"message":"Not connected in 30000 ms: Starting thread, thread start called","code":"TIMEOUT","stackTrace":"   at TradingAPI.MT4Server.QuoteClient.Connect()\n   at mtrestapi.Connection.ConnectRestore(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds) in /src/mt4rest/Controllers/Connection.cs:line 314\n   at mtrestapi.Connection.Connect(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds, Boolean downloadOrderHistory) in /src/mt4rest/Controllers/Connection.cs:line 224"}
INFO     2025-09-18 14:37:15 [root;240]  : 将在5秒后进行第2次重试...
INFO     2025-09-18 14:37:52 [root;225]  : 第2次登录尝试 - 响应内容: {"message":"Not connected in 30000 ms: Starting thread, thread start called","code":"TIMEOUT","stackTrace":"   at TradingAPI.MT4Server.QuoteClient.Connect()\n   at mtrestapi.Connection.ConnectRestore(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds) in /src/mt4rest/Controllers/Connection.cs:line 314\n   at mtrestapi.Connection.Connect(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds, Boolean downloadOrderHistory) in /src/mt4rest/Controllers/Connection.cs:line 224"}
WARNING  2025-09-18 14:37:52 [root;233]  : 第2次尝试失败 - 无效的token格式: {"message":"Not connected in 30000 ms: Starting thread, thread start called","code":"TIMEOUT","stackTrace":"   at TradingAPI.MT4Server.QuoteClient.Connect()\n   at mtrestapi.Connection.ConnectRestore(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds) in /src/mt4rest/Controllers/Connection.cs:line 314\n   at mtrestapi.Connection.Connect(Int32 user, String password, String host, Int32 port, String id, String hardwareId, Int32 connectTimeoutSeconds, Boolean downloadOrderHistory) in /src/mt4rest/Controllers/Connection.cs:line 224"}
INFO     2025-09-18 14:37:52 [root;240]  : 将在5秒后进行第3次重试...
INFO     2025-09-18 14:38:07 [root;225]  : 第3次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:07 [root;230]  : 第3次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:07 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:38:08 [root;989]  : 第2次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:38:08 [root;993]  : 将在10秒后进行第3次尝试...
INFO     2025-09-18 14:38:19 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:19 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:19 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:38:20 [root;989]  : 第3次平仓发生异常: unhashable type: 'slice'
ERROR    2025-09-18 14:38:26 [root;989]  : 第1次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:38:26 [root;993]  : 将在10秒后进行第2次尝试...
INFO     2025-09-18 14:38:37 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:37 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:37 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:38:38 [root;989]  : 第2次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:38:38 [root;993]  : 将在10秒后进行第3次尝试...
INFO     2025-09-18 14:38:49 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:49 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:38:49 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:38:50 [root;989]  : 第3次平仓发生异常: unhashable type: 'slice'
ERROR    2025-09-18 14:38:57 [root;989]  : 第1次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:38:57 [root;993]  : 将在10秒后进行第2次尝试...
INFO     2025-09-18 14:39:08 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:08 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:08 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:39:09 [root;989]  : 第2次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:39:09 [root;993]  : 将在10秒后进行第3次尝试...
INFO     2025-09-18 14:39:21 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:21 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:21 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:39:22 [root;989]  : 第3次平仓发生异常: unhashable type: 'slice'
ERROR    2025-09-18 14:39:28 [root;989]  : 第1次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:39:28 [root;993]  : 将在10秒后进行第2次尝试...
INFO     2025-09-18 14:39:39 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:39 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:39 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:39:41 [root;989]  : 第2次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:39:41 [root;993]  : 将在10秒后进行第3次尝试...
INFO     2025-09-18 14:39:52 [root;225]  : 第1次登录尝试 - 响应内容: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:52 [root;230]  : 第1次尝试成功 - 获取到token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
INFO     2025-09-18 14:39:52 [root;249]  : 登录MT4账号获取token: 5fc8d7cb-b427-487d-9055-775b4ed7893b
ERROR    2025-09-18 14:39:53 [root;989]  : 第3次平仓发生异常: unhashable type: 'slice'
INFO     2025-09-18 14:39:53 [template.commons.api_base;257]  : [2025-09-18 14:39:53] GET请求: /online/cgreport/api/getColumnsAndData/1568899025974796289 | 参数: {'_t': 1758177277, 'pageNo': 1, 'pageSize': 50, 'self_master_ticket': 44268341}
INFO     2025-09-18 14:39:56 [root;1363]  : 校验通过: 第 1 条记录的订单号应为44268342

实际: 44268342
操作: ==
预期: 44268342

INFO     2025-09-18 14:39:56 [root;1363]  : 校验通过: 喊单者订单号符合预期

实际: 44268341
操作: ==
预期: 44268341

INFO     2025-09-18 14:39:56 [template.commons.api_base;1073]  : 喊单者订单号验证通过: 44268341
INFO     2025-09-18 14:39:56 [root;1363]  : 校验通过: 喊单者手数符合预期

实际: 0.01
操作: ==
预期: 0.01

INFO     2025-09-18 14:39:56 [template.commons.api_base;1087]  : 喊单者手数验证通过: 0.01
INFO     2025-09-18 14:39:56 [root;1363]  : 校验通过: 跟单手数符合预期

实际: 1.09
操作: ==
预期: 1.09

INFO     2025-09-18 14:39:56 [template.commons.api_base;1121]  : 跟单手数验证通过: 1.09
INFO     2025-09-18 14:39:56 [root;1363]  : 校验通过: 交易币种符合预期

实际: XAUUSDzero
操作: ==
预期: XAUUSDzero

INFO     2025-09-18 14:39:56 [template.commons.api_base;1136]  : 交易币种验证通过: XAUUSDzero
INFO     2025-09-18 14:39:57 [template.commons.api_base;257]  : [2025-09-18 14:39:57] GET请求: /online/cgform/api/getData/402883977b38c9ca017b38c9caff0000 | 参数: {'_t': 1758177277, 'trader_id': '1968134493096001538', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:40:00 [root;1171]  : 查询结果符合预期：records为空列表
INFO     2025-09-18 14:40:01 [template.commons.api_base;257]  : [2025-09-18 14:40:01] GET请求: /online/cgform/api/getData/402883977b38c9ca017b38c9caff0000 | 参数: {'_t': 1758177277, 'trader_id': '1968134649581289473', 'column': 'id', 'order': 'desc', 'pageNo': 1, 'pageSize': 50, 'superQueryMatchType': 'and'}
INFO     2025-09-18 14:40:04 [root;1207]  : 查询结果符合预期：records为空列表
INFO     2025-09-18 14:40:05 [template.commons.api_base;257]  : [2025-09-18 14:40:05] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:40:08 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:40:08 [template.commons.api_base;480]  : [2025-09-18 14:40:08] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:40:14 [template.commons.api_base;257]  : [2025-09-18 14:40:14] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:40:17 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:40:17 [template.commons.api_base;480]  : [2025-09-18 14:40:17] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:40:23 [template.commons.api_base;257]  : [2025-09-18 14:40:23] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:40:26 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:40:26 [template.commons.api_base;480]  : [2025-09-18 14:40:26] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:40:32 [template.commons.api_base;257]  : [2025-09-18 14:40:32] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767545', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:40:35 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:40:35 [template.commons.api_base;480]  : [2025-09-18 14:40:35] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:40:35 [template.commons.api_base;257]  : [2025-09-18 14:40:35] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:40:38 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:40:38 [template.commons.api_base;480]  : [2025-09-18 14:40:38] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:40:44 [template.commons.api_base;257]  : [2025-09-18 14:40:44] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:40:47 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:40:47 [template.commons.api_base;480]  : [2025-09-18 14:40:47] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:40:53 [template.commons.api_base;257]  : [2025-09-18 14:40:53] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:40:56 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:40:56 [template.commons.api_base;480]  : [2025-09-18 14:40:56] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:41:01 [template.commons.api_base;257]  : [2025-09-18 14:41:01] GET请求: /blockchain/account/getRecordList | 参数: {'_t': 1758177277, 'pageNo': '1', 'pageSize': '50', 'accountLike': '2088767546', 'serverNameLike': '', 'connectTraderLike': '', 'connected': '', 'runIpAddr': '39.103.138.2'}
ERROR    2025-09-18 14:41:04 [template.commons.api_base;458]  : JSONPath解析失败: $.searchCount | 响应: 访问超时，请稍后再试!
ERROR    2025-09-18 14:41:04 [template.commons.api_base;480]  : [2025-09-18 14:41:04] JSON断言失败: Failed: JSONPath解析失败（$.searchCount） | 路径: $.searchCount | 响应: 访问超时，请稍后再试!
INFO     2025-09-18 14:41:05 [template.commons.api_base;508]  : [2025-09-18 14:41:05] 执行SQL: SELECT * FROM bchain_trader_subscribe_order WHERE master_ticket = %s ORDER BY create_time DESC 
参数: (44268341,)
INFO     2025-09-18 14:41:05 [template.commons.api_base;511]  : [2025-09-18 14:41:05] 查询成功，结果数量: 1
INFO     2025-09-18 14:41:05 [template.commons.api_base;523]  : [2025-09-18 14:41:05] 查询结果: [{"id": "1968564505047724034", "master_id": "1968134493096001538", "master_ticket": 44268341, "master_type": 0, "master_open_time": "2025-09-18 09:35:26", "detected_open_time": "2025-09-18 14:35:26", "master_close_time": "2025-09-18 09:36:33", "detected_close_time": "2025-09-18 14:36:34", "master_lots": 0.01, "comment": "", "master_profit": -325.0, "master_symbol": "XAUUSDzero", "slave_id": "1968134649581289473", "slave_ticket": 44268342, "slave_type": 0, "slave_open_time": "2025-09-18 14:35:27", "slave_receive_time": "2025-09-18 14:35:26", "slave_close_time": "2025-09-18 09:36:33", "slave_receive_close_time": "2025-09-18 14:36:34", "slave_lots": 1.09, "slave_position": null, "slave_profit": -365.99, "slave_open_price": null, "slave_symbol": "XAUUSDzero", "slave_comment": null, "following_mode": 4, "fixed_lots": 0.01, "fixed_proportion": 100, "ratio": 109.0, "flag": 6, "direction": "FORWARD", "extra": "平仓成功", "delete_flag": 1, "award_status": null, "create_by": null, "create_time": "2025-09-18 14:35:27", "update_by": null, "update_time": "2025-09-18 14:36:38", "close_order_agent_id": "e9ca23d68d884d4ebb19d07889727dae", "master_or_slave": 0, "commission_status": 0, "open_order_agent_id": "e9ca23d68d884d4ebb19d07889727dae", "close_extra": null, "open_time_difference": 296, "close_time_difference": 294, "open_price_difference": 0.01, "close_price_difference": 0.0}]
INFO     2025-09-18 14:41:05 [root;1385]  : 跟单账号订单号: 44268342
INFO     2025-09-18 14:41:05 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:41:05 [root;1390]  : 平仓时间差（毫秒）: 294
INFO     2025-09-18 14:41:05 [template.commons.variable_manager;111]  : [2025-09-18 14:34:37] 运行时变量已保存到: D:\pycharm_test\template\VAR\runtime_vars_cloud.json
INFO     2025-09-18 14:41:05 [template.conftest;369]  : [2025-09-18 14:34:37] 测试会话结束，总耗时: 387.00秒
INFO     2025-09-18 14:41:05 [template.commons.feishu_notification;131]  : [2025-09-18 14:34:37] 发送飞书消息，URL: https://open.feishu.cn/open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f
INFO     2025-09-18 14:41:05 [template.commons.feishu_notification;139]  : [2025-09-18 14:34:37] 飞书响应状态码: 200
INFO     2025-09-18 14:41:05 [template.commons.feishu_notification;140]  : [2025-09-18 14:34:37] 飞书响应内容: {"StatusCode":0,"StatusMessage":"success","code":0,"data":{},"msg":"success"}
INFO     2025-09-18 14:41:05 [template.commons.feishu_notification;145]  : [2025-09-18 14:34:37] [FEISHU] 消息发送成功
INFO     2025-09-18 14:41:05 [template.conftest;381]  : [2025-09-18 14:34:37] 飞书通知发送成功
