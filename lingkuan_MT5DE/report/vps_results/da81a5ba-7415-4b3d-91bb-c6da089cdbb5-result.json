{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend7 object at 0x0000024D503B9640>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000024D503C7670>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D504A3700>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.account,\n                    fod.size,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    fod.comment,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing7\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:3154: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend7 object at 0x0000024D503B9640>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D504A3700>\nsql = '\\n                    SELECT \\n                        fod.account,\\n                        fod.size,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing7'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_vps_ordersend.py\", line 3154, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9c999537-81ae-48eb-ae9e-fd0284fbf73b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "100f5b64-8265-4fba-86c2-9c01ff90f098-attachment.txt", "type": "text/plain"}], "start": 1761615300626, "stop": 1761615300677}], "attachments": [{"name": "时区处理", "source": "88e86856-5704-48b1-9207-29e3c15e1758-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "994feca5-b20e-475f-82fb-4ab878706d2e-attachment.txt", "type": "text/plain"}], "start": 1761615300625, "stop": 1761615300677}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ca3ac0ff-fe2f-4261-84be-df4c11145582-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "517040b2-802c-4bb3-8613-347d1f23c32b-attachment.txt", "type": "text/plain"}], "start": 1761615300677, "stop": 1761615300678}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fff79b97-25a7-4cf5-ad82-b6e663a574fa-attachment.txt", "type": "text/plain"}], "start": 1761615300678, "stop": 1761615300678}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ecbf6f83-b653-4d1e-ad88-4e05d3e2e907-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "61130348-9243-4549-b3d5-5089fb1c2e8e-attachment.txt", "type": "text/plain"}], "start": 1761615302735, "stop": 1761615302783}], "attachments": [{"name": "时区处理", "source": "848ff5ee-f138-4c1f-af02-6bb076ba152a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f20d2ee5-ab4a-46b4-9c69-6c113ad440f9-attachment.txt", "type": "text/plain"}], "start": 1761615302734, "stop": 1761615302783}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "38f507e5-3f4a-46c8-9473-06134bc01078-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "66150a1d-ea4e-407f-8b83-64cbe833e782-attachment.txt", "type": "text/plain"}], "start": 1761615302783, "stop": 1761615302783}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9e436955-ff7c-42a3-a7d9-c01d7492a27b-attachment.txt", "type": "text/plain"}], "start": 1761615302783, "stop": 1761615302784}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "af0445f7-806e-4aa9-bd25-e83e3667a934-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4d45eb54-c6c2-4360-b29b-21857db4c796-attachment.txt", "type": "text/plain"}], "start": 1761615304835, "stop": 1761615304883}], "attachments": [{"name": "时区处理", "source": "8ac96c6b-6e27-482a-8a2f-64a273fc730d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f55a1ecd-85e6-46a5-92e2-cefb60c2dc58-attachment.txt", "type": "text/plain"}], "start": 1761615304834, "stop": 1761615304883}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2ed791f5-c1b5-4830-86b5-a692d2389617-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "158a2b2f-18b5-4157-9fb8-153e1fe317cc-attachment.txt", "type": "text/plain"}], "start": 1761615304883, "stop": 1761615304885}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "996ae5f6-b4f4-4d4e-8871-86d28e0b5510-attachment.txt", "type": "text/plain"}], "start": 1761615304885, "stop": 1761615304885}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3f01a438-190a-44ba-9cac-cfdd20fd117a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4d7baa40-6f37-4c5d-99c3-4e26a57ca54f-attachment.txt", "type": "text/plain"}], "start": 1761615306943, "stop": 1761615306990}], "attachments": [{"name": "时区处理", "source": "6eceb333-929f-4786-9c35-14b4f9ad0a04-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d817bfa3-1917-4896-9c31-66b951129157-attachment.txt", "type": "text/plain"}], "start": 1761615306942, "stop": 1761615306990}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "08be0162-3f3b-4736-946e-56666cd61d17-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c2143eb2-d7ae-4269-8d9b-90e604af233c-attachment.txt", "type": "text/plain"}], "start": 1761615306990, "stop": 1761615306991}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b44816b9-7c93-48a1-bec2-635e8a7a33e6-attachment.txt", "type": "text/plain"}], "start": 1761615306991, "stop": 1761615306992}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "42e75c93-d991-4fa7-a79a-a3dfe447e903-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9ff9c35b-918d-4d06-9fe0-c5f20fd63ffa-attachment.txt", "type": "text/plain"}], "start": 1761615309039, "stop": 1761615309086}], "attachments": [{"name": "时区处理", "source": "b8e786a8-3bd5-43f4-9c78-ecb20caa6f79-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9cb9da09-6307-41be-a50a-e47ccded00f4-attachment.txt", "type": "text/plain"}], "start": 1761615309037, "stop": 1761615309086}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "529abb77-7360-48c8-a7ef-8f891b45a4e8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d6e91e9d-c24b-4bcf-acd4-8fc776162e35-attachment.txt", "type": "text/plain"}], "start": 1761615309087, "stop": 1761615309087}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "dcfe545a-493e-45de-b2be-8c4b96fb57ea-attachment.txt", "type": "text/plain"}], "start": 1761615309087, "stop": 1761615309088}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1544f67e-a63e-42e3-962c-062f99b4517e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0792f235-dc01-40ff-ab42-3472e4e286e4-attachment.txt", "type": "text/plain"}], "start": 1761615311136, "stop": 1761615311184}], "attachments": [{"name": "时区处理", "source": "098a2517-e975-4f85-abf9-606114b1b1bf-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3e85f210-1c48-4abb-9e10-79e712d80958-attachment.txt", "type": "text/plain"}], "start": 1761615311135, "stop": 1761615311184}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "31f2a88f-54d5-489b-847c-8c0083c2c2a9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b03571c0-b795-49e8-824f-f6a7ef94ff06-attachment.txt", "type": "text/plain"}], "start": 1761615311184, "stop": 1761615311185}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7c8decd1-cb73-4f36-a208-d9b13b18fb06-attachment.txt", "type": "text/plain"}], "start": 1761615311185, "stop": 1761615311185}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e9cd3beb-a8e9-481d-ab38-492d615a59f3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "758b78c1-9eb1-4d4b-8759-cf8743610cf5-attachment.txt", "type": "text/plain"}], "start": 1761615313235, "stop": 1761615313284}], "attachments": [{"name": "时区处理", "source": "34008c25-8b50-47de-9110-a9358ad177d3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "eef6006b-8de4-4dca-9a38-f06eee1e94c4-attachment.txt", "type": "text/plain"}], "start": 1761615313234, "stop": 1761615313284}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "70f9bf75-3b5a-4721-b28c-340319fc23a6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "12f1a606-6e62-4c99-be26-2f44ba6a7bdb-attachment.txt", "type": "text/plain"}], "start": 1761615313284, "stop": 1761615313284}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6f4b966d-6fe7-42b4-a203-694e473abcf3-attachment.txt", "type": "text/plain"}], "start": 1761615313284, "stop": 1761615313284}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8df62bec-a511-4b21-a3f3-a5803ac01b01-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a2d41c5b-04fa-424b-ae40-f4a40eb26439-attachment.txt", "type": "text/plain"}], "start": 1761615315346, "stop": 1761615315392}], "attachments": [{"name": "时区处理", "source": "2efcfc6e-b676-45a4-be69-9449fd8bbd3f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e6f6ccf9-4d5d-4275-abca-33c60f384d02-attachment.txt", "type": "text/plain"}], "start": 1761615315345, "stop": 1761615315392}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "aa803475-3c23-420d-ac49-e49d40b68d15-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a3dbeef7-d740-4093-b9eb-371e388f07b1-attachment.txt", "type": "text/plain"}], "start": 1761615315392, "stop": 1761615315393}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6359fbaf-3251-4c3b-a7d2-99f22cc8da1c-attachment.txt", "type": "text/plain"}], "start": 1761615315393, "stop": 1761615315393}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6f4e0eef-508e-4f7e-a949-559222f7734d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6f600ce8-2c0f-4160-a9d8-eb76fce4c201-attachment.txt", "type": "text/plain"}], "start": 1761615317447, "stop": 1761615317494}], "attachments": [{"name": "时区处理", "source": "ea629e6b-5f11-4850-9ba7-6e70ff038f6f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bcc41154-6597-4960-b465-8a517b949c18-attachment.txt", "type": "text/plain"}], "start": 1761615317446, "stop": 1761615317494}, {"name": "轮询中（已等待16.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f1f3cf49-2d03-496f-9da5-9e0c001b8ee8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e3a45d06-6864-430b-bc06-34e547e8bcfa-attachment.txt", "type": "text/plain"}], "start": 1761615317494, "stop": 1761615317495}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f2e0a6f5-719d-427c-9df3-693b9171a948-attachment.txt", "type": "text/plain"}], "start": 1761615317495, "stop": 1761615317495}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2dfad2fb-a8e8-4119-8a2c-9008c05fdf09-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c027a6b9-c796-4cf4-ae06-0d171b6922c8-attachment.txt", "type": "text/plain"}], "start": 1761615319553, "stop": 1761615319599}], "attachments": [{"name": "时区处理", "source": "a1216a75-14dc-4bf6-b036-75f067ba83c8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0ab50335-d97f-4a5f-9b89-11b210882582-attachment.txt", "type": "text/plain"}], "start": 1761615319552, "stop": 1761615319599}, {"name": "轮询中（已等待19.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "eee6cf0f-1040-48f4-9bf2-4bd52eb110f8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "32424826-7eed-4fd1-b0b2-c5c7e10cbb07-attachment.txt", "type": "text/plain"}], "start": 1761615319599, "stop": 1761615319600}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "26f344b7-5e02-4731-8f01-ef5ab33251cf-attachment.txt", "type": "text/plain"}], "start": 1761615319600, "stop": 1761615319600}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "cadc3e1c-c407-4466-b425-f9de9ed45b27-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4b0f3737-7759-4e57-9db6-76569140c130-attachment.txt", "type": "text/plain"}], "start": 1761615321648, "stop": 1761615321698}], "attachments": [{"name": "时区处理", "source": "c4eda405-c575-4aa2-89bd-285ca8fd7613-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f3ef3532-f0e8-4c7a-9de6-050d3a4423c1-attachment.txt", "type": "text/plain"}], "start": 1761615321648, "stop": 1761615321698}, {"name": "轮询中（已等待21.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "274003cc-80ca-44bf-98ee-800b499f2575-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1de1d5cc-72d8-4e62-96eb-6a294ae800e7-attachment.txt", "type": "text/plain"}], "start": 1761615321698, "stop": 1761615321699}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b1ccb730-cac5-47c6-8e54-0548be69b9f0-attachment.txt", "type": "text/plain"}], "start": 1761615321699, "stop": 1761615321699}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "61f46071-4c88-40e7-96ef-6447fdbbcfa1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "680317a7-b123-439f-a7b7-c11c5219de87-attachment.txt", "type": "text/plain"}], "start": 1761615323751, "stop": 1761615323803}], "attachments": [{"name": "时区处理", "source": "e9f92f2c-3e35-4232-a48f-70e85249b08d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c87361d3-3307-4473-b648-7f008f0d1303-attachment.txt", "type": "text/plain"}], "start": 1761615323751, "stop": 1761615323803}, {"name": "轮询中（已等待23.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a4e29539-aea5-4a18-a14c-996c329adcb9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "08880632-299c-4844-a2b4-90d74e769dae-attachment.txt", "type": "text/plain"}], "start": 1761615323803, "stop": 1761615323804}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "633068ad-eb4d-48c4-864b-7d1e7974edd9-attachment.txt", "type": "text/plain"}], "start": 1761615323804, "stop": 1761615323804}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ee1c8c8b-64c5-44f9-b5e0-5851a5e644b7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "274191ab-16be-4c8a-854f-f7974d26e155-attachment.txt", "type": "text/plain"}], "start": 1761615325853, "stop": 1761615325901}], "attachments": [{"name": "时区处理", "source": "97ccbc6f-27c4-4e5b-b1e0-48966b71bef5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d385dd13-96f6-4611-89e4-28ac8fa248ec-attachment.txt", "type": "text/plain"}], "start": 1761615325852, "stop": 1761615325901}, {"name": "轮询中（已等待25.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c171f40a-f8fa-4497-a5d8-df1dcbceef1c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4029ec4b-50ee-4b83-af69-8cbf9b16c9b6-attachment.txt", "type": "text/plain"}], "start": 1761615325901, "stop": 1761615325902}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "33854c47-d306-4d54-8734-45b5e344e7fb-attachment.txt", "type": "text/plain"}], "start": 1761615325902, "stop": 1761615325902}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "08df59c6-718c-4dbf-8ea1-0457413318da-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e81fed12-fb7e-47e0-adc7-924a061bd9f8-attachment.txt", "type": "text/plain"}], "start": 1761615327961, "stop": 1761615328014}], "attachments": [{"name": "时区处理", "source": "a4b72b89-5b51-4bdc-bb81-3254a5cc8029-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2ebbc9cb-ff96-4f96-b73a-cbd2e94c32f4-attachment.txt", "type": "text/plain"}], "start": 1761615327960, "stop": 1761615328014}, {"name": "轮询中（已等待27.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d6a1198c-8758-4e0e-a86f-4db9a2b6a664-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e4e15bc0-d3ed-476d-86d2-4457718ac44a-attachment.txt", "type": "text/plain"}], "start": 1761615328014, "stop": 1761615328015}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7947ab6d-179c-406f-a303-e04fb4b741d1-attachment.txt", "type": "text/plain"}], "start": 1761615328015, "stop": 1761615328015}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3877f4e0-093b-4462-bb49-e5375a0279e6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "48df9bf9-9f1d-49f3-86b7-322e56a75731-attachment.txt", "type": "text/plain"}], "start": 1761615330067, "stop": 1761615330115}], "attachments": [{"name": "时区处理", "source": "8e969da0-edeb-4c0e-baa2-867e0832f6a4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "34e550e1-7f1f-4b17-9cb1-39529b01dc48-attachment.txt", "type": "text/plain"}], "start": 1761615330067, "stop": 1761615330115}, {"name": "轮询中（已等待29.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e5dfcbce-742d-4d83-89be-a9dd53ac3882-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "128946f7-220a-4275-a280-ca23ecda6039-attachment.txt", "type": "text/plain"}], "start": 1761615330115, "stop": 1761615330116}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fab45fb9-d5cc-4418-9508-b66713fee97c-attachment.txt", "type": "text/plain"}], "start": 1761615330116, "stop": 1761615330116}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "154657f7-2120-4166-816a-05ce68ec90a5-attachment.txt", "type": "text/plain"}], "start": 1761615332130, "stop": 1761615332130}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "cd013b83-54b1-46f0-bed8-e1991b2401f5-attachment.json", "type": "application/json"}], "start": 1761615332179, "stop": 1761615332179}], "attachments": [{"name": "执行SQL", "source": "de48d64e-71dd-412d-be37-4b50463bf04e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cc9bf906-bcdc-4f97-ab19-f44ff814bef3-attachment.txt", "type": "text/plain"}], "start": 1761615332131, "stop": 1761615332179}], "attachments": [{"name": "时区处理", "source": "c7602dd1-b3bd-4852-a1bc-22fd64774f4f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e9c2b7b0-f3ea-4a1a-9723-a42b98d94870-attachment.txt", "type": "text/plain"}], "start": 1761615332130, "stop": 1761615332179}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "80048b35-d2da-4e25-a7bb-ff2b39b97317-attachment.txt", "type": "text/plain"}], "start": 1761615332179, "stop": 1761615332179}], "attachments": [{"name": "执行SQL", "source": "3d86a95f-e8b8-44ff-8739-753c67450623-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "99f7cbc0-c497-4d1b-9660-6824b5de11be-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "77746629-172a-4508-93e9-a2131b4618d7-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "a54413a8-3867-42f7-9cc9-7d8d8274b5ce-attachment.txt", "type": "text/plain"}], "start": 1761615300577, "stop": 1761615332179}], "start": 1761615300577, "stop": 1761615332179}], "attachments": [{"name": "log", "source": "c16bc7d7-9d1f-4646-b3fa-ef88a680ba26-attachment.txt", "type": "text/plain"}], "start": 1761615300577, "stop": 1761615332180, "uuid": "54de47f7-4916-41c6-83df-3809ca68c346", "historyId": "bc9d0fd8150a69ff71d46d14fdc9932f", "testCaseId": "bc9d0fd8150a69ff71d46d14fdc9932f", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend7#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}