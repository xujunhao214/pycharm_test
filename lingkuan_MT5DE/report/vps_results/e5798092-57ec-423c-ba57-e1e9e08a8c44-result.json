{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bfd78cde-e781-4604-a240-2d28033ce3bb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7ae873fd-8307-4918-8d3e-4fc38a11f498-attachment.txt", "type": "text/plain"}], "start": 1761615346857, "stop": 1761615346905}], "attachments": [{"name": "时区处理", "source": "27a85168-f860-4a3f-90c1-f408fa6f1d16-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9740c61d-f7d4-4a03-8a6d-02b10e2ec97a-attachment.txt", "type": "text/plain"}], "start": 1761615346856, "stop": 1761615346905}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9b7a2694-f13d-47f4-b121-3c4fb90321b0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1a9b3109-edaa-4991-827a-ea7c58736cad-attachment.txt", "type": "text/plain"}], "start": 1761615346905, "stop": 1761615346906}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "e609608f-04d4-44d1-a3ec-2c226bf6ce0a-attachment.txt", "type": "text/plain"}], "start": 1761615346906, "stop": 1761615346906}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7e6b1338-f723-48eb-b7a1-29d0f1251c71-attachment.txt", "type": "text/plain"}], "start": 1761615346906, "stop": 1761615346907}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5a56e14e-47b1-4c52-af25-40fcbb1c6422-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "67be3529-8a25-4d53-b04b-6c9c705d39ac-attachment.txt", "type": "text/plain"}], "start": 1761615348966, "stop": 1761615349013}], "attachments": [{"name": "时区处理", "source": "604a4d80-c396-4782-bbf5-15c45a0eb50b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2e3f0690-22de-4e7c-aee5-cafe4e6a1caa-attachment.txt", "type": "text/plain"}], "start": 1761615348965, "stop": 1761615349013}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1eca8fe6-1a7e-4767-803f-1437a3b643f9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d2d886cd-0039-4077-90b1-cc77321212df-attachment.txt", "type": "text/plain"}], "start": 1761615349013, "stop": 1761615349014}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "33e75419-29ca-4f81-bee8-f1adbd42a58f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "db6a3955-5108-4135-81d0-ed60fbf421f7-attachment.txt", "type": "text/plain"}], "start": 1761615349014, "stop": 1761615349015}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "4d2aa60b-c72b-4c64-96bf-25d7b2cd8d8c-attachment.txt", "type": "text/plain"}], "start": 1761615349015, "stop": 1761615349015}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "aa2a56be-68e7-4362-82c7-46a93bd64f43-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c8be1496-5f73-416a-a372-4c23fbca5a9e-attachment.txt", "type": "text/plain"}], "start": 1761615351071, "stop": 1761615351119}], "attachments": [{"name": "时区处理", "source": "a88db6cf-8203-4137-87f4-5ed48cbf2f72-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9cedfe6f-9f12-457a-8f82-518291a06908-attachment.txt", "type": "text/plain"}], "start": 1761615351070, "stop": 1761615351119}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d516937b-8730-41a7-98fa-2d3b8482a79d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f9e44743-7813-4554-8c1f-9c2747b4c59b-attachment.txt", "type": "text/plain"}], "start": 1761615351119, "stop": 1761615351120}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "00c9b5a1-83da-4032-92b9-68680a2b73b0-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4d262de0-7e58-477e-886a-5a6268c31ff5-attachment.txt", "type": "text/plain"}], "start": 1761615351120, "stop": 1761615351120}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "3b0d5088-e2c9-4a5e-8125-d37e5e5da4b4-attachment.txt", "type": "text/plain"}], "start": 1761615351120, "stop": 1761615351121}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "5ec62d82-0fff-4318-a4a9-f130891a281c-attachment.json", "type": "application/json"}], "start": 1761615351121, "stop": 1761615351121}], "attachments": [{"name": "执行SQL", "source": "0f28d09e-9e6e-4d51-b5a2-304c472f0999-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c29eda4f-29ea-4a2e-bc72-1eeb2623ff08-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "e639dd94-f326-4458-92da-680b76add317-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "53eaffed-a7c2-4d38-8fe1-33ab63741fad-attachment.txt", "type": "text/plain"}], "start": 1761615346807, "stop": 1761615351121}], "start": 1761615346807, "stop": 1761615351121}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "f9698c61-c21d-4fab-a44e-088d597ba82b-attachment.attach", "type": "text/plain"}], "start": 1761615351121, "stop": 1761615351121}], "start": 1761615351121, "stop": 1761615351122}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "f75e1838-ebaa-4e54-a7c6-52341f09fe1e-attachment.attach", "type": "text/plain"}], "start": 1761615351122, "stop": 1761615351122}], "start": 1761615351122, "stop": 1761615351122}], "start": 1761615351121, "stop": 1761615351122}], "attachments": [{"name": "log", "source": "f62b1cfe-07f7-4d84-8592-b9d48802edca-attachment.txt", "type": "text/plain"}], "start": 1761615346807, "stop": 1761615351122, "uuid": "e10e0c1c-7909-4032-ab3e-a071fa7be6b5", "historyId": "0b2f46c00720ffcce75a52f3cdf80e27", "testCaseId": "0b2f46c00720ffcce75a52f3cdf80e27", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend10#test_dbquery_addsalve_orderSend", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}