{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x0000016E8DB9CEB0>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000016E8DB257C0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000016E8DC628E0>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        MT5vps_user_count = var_manager.get_variable(\"MT5vps_user_count\", 0)\n        if MT5vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{MT5vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应MT5vps_user_accounts_2到MT5vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"MT5vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：MT5vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        MT5vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x0000016E8DB9CEB0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000016E8DC628E0>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('66938914',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（66938914）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3f745f66-9866-49cf-b884-ccd5f82c8ae1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2ee1da6e-a00e-4f71-a78e-563a2666b0d2-attachment.txt", "type": "text/plain"}], "start": 1761904907775, "stop": 1761904907827}], "attachments": [{"name": "查询条件", "source": "266bc257-f91a-495f-b1c5-910dd75bd6b6-attachment.txt", "type": "text/plain"}], "start": 1761904907774, "stop": 1761904907827}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fc0040d1-aaad-41ee-8ba1-8d3f92a09617-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fd401d99-4ef3-436d-93c0-9c49555f4c9b-attachment.txt", "type": "text/plain"}], "start": 1761904907827, "stop": 1761904907828}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2cc3a40d-9098-4120-8ad6-4c01b1fab405-attachment.txt", "type": "text/plain"}], "start": 1761904907828, "stop": 1761904907829}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b100883b-7493-4bf0-9f53-1b257f2de2e1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "20e10c4d-299a-4ee1-8725-b14f9fad7ee9-attachment.txt", "type": "text/plain"}], "start": 1761904909890, "stop": 1761904909957}], "attachments": [{"name": "查询条件", "source": "a0b8f06a-0ab6-4585-b52a-f4eaeaf450fd-attachment.txt", "type": "text/plain"}], "start": 1761904909889, "stop": 1761904909957}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "be9e7f47-74c2-4473-849e-2867661cbc9c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "414dce04-24d2-4924-8c0d-38d08a6fd74a-attachment.txt", "type": "text/plain"}], "start": 1761904909957, "stop": 1761904909958}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d331c18e-72c3-4f8f-84ef-356ebf54c35e-attachment.txt", "type": "text/plain"}], "start": 1761904909958, "stop": 1761904909958}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "47d1b9d3-efb6-49a8-a500-3f8b292bcf54-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6437f761-a1fe-46cb-b2f4-5e412adf815b-attachment.txt", "type": "text/plain"}], "start": 1761904912017, "stop": 1761904912073}], "attachments": [{"name": "查询条件", "source": "a9473baa-3344-4ccc-95c2-a5640e71c785-attachment.txt", "type": "text/plain"}], "start": 1761904912016, "stop": 1761904912073}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f45390ba-7b5d-4bd8-bd6a-6a116fc67a6f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d54fd065-b30f-424e-befb-512a52b12f19-attachment.txt", "type": "text/plain"}], "start": 1761904912073, "stop": 1761904912074}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2b8a5a77-03c5-40d9-b549-33db7bb50f17-attachment.txt", "type": "text/plain"}], "start": 1761904912074, "stop": 1761904912074}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2c8a44e4-9a18-4a73-a844-c890744b706c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7e4a3895-bd2b-43d2-8dc6-81ed1bc80cf3-attachment.txt", "type": "text/plain"}], "start": 1761904914126, "stop": 1761904914184}], "attachments": [{"name": "查询条件", "source": "205f137f-082e-4802-a928-52eacc1ee33e-attachment.txt", "type": "text/plain"}], "start": 1761904914125, "stop": 1761904914184}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "93278fee-b61d-4a34-b823-fa4a98314884-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a6ce9cea-c836-415d-9c0e-16ca799d51ab-attachment.txt", "type": "text/plain"}], "start": 1761904914184, "stop": 1761904914185}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f3c9a244-0639-4492-a413-4dd49dea12c9-attachment.txt", "type": "text/plain"}], "start": 1761904914185, "stop": 1761904914186}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c2974075-f617-4316-bd23-f3963b4fcdeb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "539003ec-2431-4ec2-9f95-dd7b66ee982b-attachment.txt", "type": "text/plain"}], "start": 1761904916274, "stop": 1761904916326}], "attachments": [{"name": "查询条件", "source": "20638e0b-ffac-4f12-aec0-60ae826c61e8-attachment.txt", "type": "text/plain"}], "start": 1761904916273, "stop": 1761904916326}, {"name": "轮询中（已等待8.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0f74fd28-d8cc-496e-a203-ea3983b6e82e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "74eb8203-10d7-4c27-8c5d-8dcb118c5839-attachment.txt", "type": "text/plain"}], "start": 1761904916326, "stop": 1761904916328}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4a359ec0-3e4f-40f2-86be-f9ec5a5d30dd-attachment.txt", "type": "text/plain"}], "start": 1761904916328, "stop": 1761904916328}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fe051a85-99bb-40b0-98ae-458427e21779-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e286f515-f835-4c5b-a854-09a46efb97a5-attachment.txt", "type": "text/plain"}], "start": 1761904918384, "stop": 1761904918436}], "attachments": [{"name": "查询条件", "source": "cf157876-2ad7-46bd-a8b7-c910f4ee3204-attachment.txt", "type": "text/plain"}], "start": 1761904918383, "stop": 1761904918436}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a6ff00b3-d0e7-4ff8-8160-1464adbac165-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b8433ba2-2eb6-4c7b-9aab-e61b5aa2f667-attachment.txt", "type": "text/plain"}], "start": 1761904918436, "stop": 1761904918437}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "edb75c4a-97e5-4c3b-9d39-73534bfabce0-attachment.txt", "type": "text/plain"}], "start": 1761904918437, "stop": 1761904918437}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "30c19380-0b86-4ed4-ba16-68f38495605d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "dc2551ba-0bb3-4766-ac8f-22776433f5d4-attachment.txt", "type": "text/plain"}], "start": 1761904920491, "stop": 1761904920542}], "attachments": [{"name": "查询条件", "source": "9feaffaf-f83c-4e1d-a464-3b5ef2e45c1b-attachment.txt", "type": "text/plain"}], "start": 1761904920490, "stop": 1761904920542}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0a03ee67-d64e-4208-bed2-30a1af132e5d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f5629f75-dd0e-4984-ae4a-56f520b806e8-attachment.txt", "type": "text/plain"}], "start": 1761904920542, "stop": 1761904920543}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ad267e86-89ec-4aa7-bb90-5b592990adf9-attachment.txt", "type": "text/plain"}], "start": 1761904920543, "stop": 1761904920543}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5f5d0b84-eb75-40a9-87dd-7d16a64637e7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e59cbe82-3b00-408a-99b1-d6eb1f5caac1-attachment.txt", "type": "text/plain"}], "start": 1761904922602, "stop": 1761904922666}], "attachments": [{"name": "查询条件", "source": "53e2a0f2-29a2-46f9-a611-ad4badc98657-attachment.txt", "type": "text/plain"}], "start": 1761904922601, "stop": 1761904922666}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3acec192-710f-47dc-a973-6f2d98fbd1ee-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "53e71ab1-12a2-49a9-bf16-ec7ceaf6a323-attachment.txt", "type": "text/plain"}], "start": 1761904922666, "stop": 1761904922667}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "05bd6dd4-4a51-4bbc-8e89-fa925e0317d1-attachment.txt", "type": "text/plain"}], "start": 1761904922667, "stop": 1761904922668}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4d0fbea9-ca70-4ef9-868f-907153c069e7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9f219d02-dfba-4faf-8243-c15867778db3-attachment.txt", "type": "text/plain"}], "start": 1761904924741, "stop": 1761904924795}], "attachments": [{"name": "查询条件", "source": "65e3f30f-abfd-4066-a149-4a0e14558645-attachment.txt", "type": "text/plain"}], "start": 1761904924741, "stop": 1761904924796}, {"name": "轮询中（已等待17.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6928b8aa-a0a3-4946-b564-cc4022720355-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "46c800a3-693e-40f9-b044-903975026a0a-attachment.txt", "type": "text/plain"}], "start": 1761904924796, "stop": 1761904924797}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "96c1d2d6-463b-4486-a771-1774e9e185c2-attachment.txt", "type": "text/plain"}], "start": 1761904924797, "stop": 1761904924798}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8cbd9149-8b43-4991-b082-34d682791b0d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "741d37bc-f575-4368-aaa5-50cb3af2780d-attachment.txt", "type": "text/plain"}], "start": 1761904926863, "stop": 1761904926915}], "attachments": [{"name": "查询条件", "source": "1c2c5633-309c-4581-a854-52fde11c42a0-attachment.txt", "type": "text/plain"}], "start": 1761904926862, "stop": 1761904926915}, {"name": "轮询中（已等待19.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4d85a39e-4519-49b2-a5f6-addd77f2bb4b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b88dd55a-b7eb-4159-a8c6-360139fe5733-attachment.txt", "type": "text/plain"}], "start": 1761904926915, "stop": 1761904926916}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9007fe10-f99d-4eed-8647-05b13b146209-attachment.txt", "type": "text/plain"}], "start": 1761904926916, "stop": 1761904926916}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a291f938-9e5d-4b6b-a098-e6a9190607ee-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "447d0df8-54f2-4caa-b7bc-a8e9d8f0412d-attachment.txt", "type": "text/plain"}], "start": 1761904928987, "stop": 1761904929051}], "attachments": [{"name": "查询条件", "source": "37c295c3-653b-4ec5-8f03-1b081c9cca54-attachment.txt", "type": "text/plain"}], "start": 1761904928987, "stop": 1761904929051}, {"name": "轮询中（已等待21.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5fe6929e-f0aa-4ec0-8dec-b2e45b035ff1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c8487353-f7dd-464d-916e-50bd5ab73a84-attachment.txt", "type": "text/plain"}], "start": 1761904929052, "stop": 1761904929053}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "7c7ddedb-b4c8-4874-86d9-e9efcda6b7b8-attachment.txt", "type": "text/plain"}], "start": 1761904929053, "stop": 1761904929054}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "64478e97-0432-4143-8184-d318224fbc78-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "af9778b4-54e4-4258-8f4a-d2f5a9d3e60f-attachment.txt", "type": "text/plain"}], "start": 1761904931107, "stop": 1761904931171}], "attachments": [{"name": "查询条件", "source": "ff3db80e-69ed-4b14-a71e-2a0eb156bd72-attachment.txt", "type": "text/plain"}], "start": 1761904931105, "stop": 1761904931171}, {"name": "轮询中（已等待23.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e9fafeee-d90c-4885-b776-5217b32f3ed3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b23b8683-8429-4160-97ca-24a615f523e5-attachment.txt", "type": "text/plain"}], "start": 1761904931171, "stop": 1761904931173}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e83c7ae3-423d-4604-8876-9223ded808ff-attachment.txt", "type": "text/plain"}], "start": 1761904931173, "stop": 1761904931174}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "24d74478-3543-4e64-ad79-43bd9d2b7e20-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3798a810-3a1a-4e49-a683-ca21ce831d7e-attachment.txt", "type": "text/plain"}], "start": 1761904933230, "stop": 1761904933282}], "attachments": [{"name": "查询条件", "source": "b3ebe305-5a43-4d0c-ad4d-3710dde8af77-attachment.txt", "type": "text/plain"}], "start": 1761904933230, "stop": 1761904933282}, {"name": "轮询中（已等待25.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4969b310-3a12-46c5-958e-17d801abbd0b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5dc74e13-5c58-4dfd-9bcd-1fe64133c8b6-attachment.txt", "type": "text/plain"}], "start": 1761904933282, "stop": 1761904933284}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "530867f9-fbac-425c-8daa-2b9603a4a4e8-attachment.txt", "type": "text/plain"}], "start": 1761904933284, "stop": 1761904933285}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "38d2e531-632a-49db-8f32-cfcef4150d5d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ba05378c-d238-47bc-a6f2-9974fd13a1c4-attachment.txt", "type": "text/plain"}], "start": 1761904935346, "stop": 1761904935398}], "attachments": [{"name": "查询条件", "source": "9270b5f2-8630-4d7f-9c3a-1681c1400382-attachment.txt", "type": "text/plain"}], "start": 1761904935344, "stop": 1761904935398}, {"name": "轮询中（已等待27.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ded8e00f-50e4-4559-a17c-70fc7ee8bad9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "85a5c0d6-005d-452f-ba9c-c8bbeafaf657-attachment.txt", "type": "text/plain"}], "start": 1761904935398, "stop": 1761904935401}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "aa9f184b-409a-4f20-9144-300b80673914-attachment.txt", "type": "text/plain"}], "start": 1761904935401, "stop": 1761904935401}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a06b7c21-1e77-47c5-a550-eeea9b61c24d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "aca45e0d-532a-4d89-9240-64740156bd0a-attachment.txt", "type": "text/plain"}], "start": 1761904937456, "stop": 1761904937510}], "attachments": [{"name": "查询条件", "source": "1958ad47-7309-45f8-ac85-d5f0c01012d0-attachment.txt", "type": "text/plain"}], "start": 1761904937455, "stop": 1761904937510}, {"name": "轮询中（已等待29.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c7393b72-feec-44a0-a879-82383acb2a1d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9beff3e0-2721-4f32-b65c-a2bc1cc4b30f-attachment.txt", "type": "text/plain"}], "start": 1761904937510, "stop": 1761904937511}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0be03cdc-6f97-44d1-be6f-7c31a8c93d7e-attachment.txt", "type": "text/plain"}], "start": 1761904937511, "stop": 1761904937511}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "c5449c5c-eea9-4cae-abde-f7fdf55563a9-attachment.txt", "type": "text/plain"}], "start": 1761904939519, "stop": 1761904939520}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "66bd4b52-e666-4555-853c-a53167f0c607-attachment.json", "type": "application/json"}], "start": 1761904939574, "stop": 1761904939575}], "attachments": [{"name": "执行SQL", "source": "468e63a9-20a2-4ae5-94ac-d2631d08b432-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ba5773a4-20a3-4353-8071-1fd266b0d6ad-attachment.txt", "type": "text/plain"}], "start": 1761904939520, "stop": 1761904939575}], "attachments": [{"name": "查询条件", "source": "165bffd5-3dfe-47ac-a083-50881d371f18-attachment.txt", "type": "text/plain"}], "start": 1761904939520, "stop": 1761904939575}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "c11caae6-f63c-4d60-8bf6-81fbda473add-attachment.json", "type": "application/json"}], "start": 1761904939575, "stop": 1761904939576}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "bb6d8519-70e1-438a-8550-9d0471f010bd-attachment.txt", "type": "text/plain"}], "start": 1761904939576, "stop": 1761904939576}], "attachments": [{"name": "执行SQL", "source": "f84dc212-28a3-4704-8d0e-29a206108877-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fbab4d2d-82c8-4433-b9d7-690d023248c1-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "c748170e-1d80-431a-89ab-c45da104b3f2-attachment.txt", "type": "text/plain"}], "start": 1761904907725, "stop": 1761904939577}], "start": 1761904907725, "stop": 1761904939577}], "attachments": [{"name": "log", "source": "5b7a5008-47bd-403d-a4f2-3c20caa80aa9-attachment.txt", "type": "text/plain"}], "start": 1761904907725, "stop": 1761904939578, "uuid": "a567fa6c-7965-42ab-a249-0224409bd374", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "42444-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}