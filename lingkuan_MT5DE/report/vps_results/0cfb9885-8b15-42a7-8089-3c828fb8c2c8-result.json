{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "56e4af27-c11b-48e8-869a-f64cd51c42f6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ca024673-b38a-486f-a3c3-b8e264c078d0-attachment.txt", "type": "text/plain"}], "start": 1761615342268, "stop": 1761615342320}], "attachments": [{"name": "时区处理", "source": "ba0882aa-a9b5-432a-a561-b8d3fdb5a525-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8c4dbfe3-87f6-4ad1-9d40-8364b04b8ae4-attachment.txt", "type": "text/plain"}], "start": 1761615342267, "stop": 1761615342320}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d85b23d5-4b90-4713-afee-76963324fd25-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "25c1dfa5-9b73-4869-a6e7-2bdfba272a42-attachment.txt", "type": "text/plain"}], "start": 1761615342320, "stop": 1761615342321}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "48736c82-62ce-4673-b0ff-b0b63f6eeb8c-attachment.txt", "type": "text/plain"}], "start": 1761615342321, "stop": 1761615342321}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bc7533ae-c694-4897-ae95-6892f044ee60-attachment.txt", "type": "text/plain"}], "start": 1761615342321, "stop": 1761615342322}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4962a732-f8d9-4813-9d15-ba35be381b18-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "eb293925-cd1e-40a9-bca4-7d8331327a51-attachment.txt", "type": "text/plain"}], "start": 1761615344379, "stop": 1761615344429}], "attachments": [{"name": "时区处理", "source": "7d8858db-19eb-48e8-9313-d2f1b24053eb-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d2d70435-5582-480c-bda4-087fd4a684e9-attachment.txt", "type": "text/plain"}], "start": 1761615344379, "stop": 1761615344429}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9cee6d80-c8c0-4926-8e2f-d9d04a3e669f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9370ed53-3a74-4200-82a9-57b107ffe205-attachment.txt", "type": "text/plain"}], "start": 1761615344429, "stop": 1761615344429}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "03d3ed86-8859-4655-a0e0-641ead996557-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "a94d1f5e-c16e-4765-8c83-143512292749-attachment.txt", "type": "text/plain"}], "start": 1761615344429, "stop": 1761615344430}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "a9302cd9-6827-487a-912f-72cd3ec281cd-attachment.txt", "type": "text/plain"}], "start": 1761615344430, "stop": 1761615344430}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "76360377-c4bd-49c9-976a-23660c211e5d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cdbc4be4-072c-44e4-8655-ca35dc2b49c1-attachment.txt", "type": "text/plain"}], "start": 1761615346483, "stop": 1761615346551}], "attachments": [{"name": "时区处理", "source": "ea260a95-c282-4fc5-93d1-7813e3b269d8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "065fba34-07d4-44b4-a711-6247dc1b1ad0-attachment.txt", "type": "text/plain"}], "start": 1761615346481, "stop": 1761615346551}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "19030cc2-511d-4b9c-a888-0d09597c2889-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5814e8aa-c12b-413b-8208-b1e8fd449971-attachment.txt", "type": "text/plain"}], "start": 1761615346551, "stop": 1761615346552}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "335333f2-0829-4ce6-87ee-b292fa4924cf-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "370071eb-8f3f-4f3b-ad04-8444f7949776-attachment.txt", "type": "text/plain"}], "start": 1761615346552, "stop": 1761615346553}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "53b9f35d-0ae5-4810-9de7-cff101123442-attachment.txt", "type": "text/plain"}], "start": 1761615346553, "stop": 1761615346553}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "87b78bfe-8d7d-4f4a-aea9-b87d9c5286ad-attachment.json", "type": "application/json"}], "start": 1761615346553, "stop": 1761615346553}], "attachments": [{"name": "执行SQL", "source": "d0b84f4c-44eb-4c38-a061-bf3d59e057ac-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "50ca1b4b-1cae-49d3-a073-be53fdf123c7-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "f7616450-4535-4652-9bd9-a5772ed542b4-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "95b85feb-ec56-4cd9-932f-358f55451f5d-attachment.txt", "type": "text/plain"}], "start": 1761615342219, "stop": 1761615346553}], "start": 1761615342218, "stop": 1761615346553}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "8ab76038-d0ad-4ab6-a310-e9db64272cf3-attachment.attach", "type": "text/plain"}], "start": 1761615346553, "stop": 1761615346554}], "start": 1761615346553, "stop": 1761615346554}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "4c158277-a65d-4859-b2c7-2d2b8a548ef7-attachment.attach", "type": "text/plain"}], "start": 1761615346554, "stop": 1761615346554}], "start": 1761615346554, "stop": 1761615346554}], "start": 1761615346553, "stop": 1761615346554}], "attachments": [{"name": "log", "source": "099f66b4-7f5b-481f-9a63-dcfcf6c91d05-attachment.txt", "type": "text/plain"}], "start": 1761615342218, "stop": 1761615346554, "uuid": "bf0bd9a8-4f46-46f7-87e8-e449b3347c72", "historyId": "e3fdf7051b8ad45437127d6218d72a4d", "testCaseId": "e3fdf7051b8ad45437127d6218d72a4d", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend10#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "tag", "value": "retry(n=0, delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}