{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "aa7403cc-250f-412d-b369-4acf7dbff6cf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0f855d3b-3fb6-4f07-a886-eab3c18bc4ad-attachment.txt", "type": "text/plain"}], "start": 1761615437724, "stop": 1761615437778}], "attachments": [{"name": "时区处理", "source": "04bc963f-b36d-4f97-bc9d-a2e872edeb64-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e5c7677d-7115-40e2-9009-7b41b5fd7365-attachment.txt", "type": "text/plain"}], "start": 1761615437723, "stop": 1761615437778}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e1ae7d49-2e48-4488-a6f4-0d8ebba94a9b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5a08ce2b-0446-4d25-a006-9ed7bf52c2d3-attachment.txt", "type": "text/plain"}], "start": 1761615437778, "stop": 1761615437779}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "9de05efa-1c4d-4db6-ac9c-b94eebfbecb7-attachment.txt", "type": "text/plain"}], "start": 1761615437779, "stop": 1761615437779}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cbb470b8-f9f7-49b3-b898-ad7acca27b17-attachment.txt", "type": "text/plain"}], "start": 1761615437779, "stop": 1761615437780}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "39eda31c-c170-49b0-a0ba-6f16461da778-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "475719b2-5dcb-49b3-9b11-50ff2f134755-attachment.txt", "type": "text/plain"}], "start": 1761615439836, "stop": 1761615439886}], "attachments": [{"name": "时区处理", "source": "61990804-8de9-4f1f-928e-e1c3a28a6240-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d2a0ee90-78df-411f-80db-2b519c07e8b9-attachment.txt", "type": "text/plain"}], "start": 1761615439836, "stop": 1761615439886}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e5684443-1131-4184-8341-5b8279277375-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "35dfbba9-7d41-45b8-ae2a-2c678987b362-attachment.txt", "type": "text/plain"}], "start": 1761615439886, "stop": 1761615439965}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "225f675b-4242-442a-b3b1-6c1e0bd1e2f6-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "91059eca-4a05-4838-ba67-debeea0d6a59-attachment.txt", "type": "text/plain"}], "start": 1761615439966, "stop": 1761615439969}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "b557629a-969b-45de-8ac7-2960b3fd9360-attachment.txt", "type": "text/plain"}], "start": 1761615439969, "stop": 1761615439970}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "70f04d78-7e58-456a-bc29-121277455953-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7d101124-be6a-4150-8c79-01e640fd2a57-attachment.txt", "type": "text/plain"}], "start": 1761615442028, "stop": 1761615442075}], "attachments": [{"name": "时区处理", "source": "65b6187f-8990-4028-bb83-4d48d90698f9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "82b63088-cf13-44dd-88d1-33ffcdc41c96-attachment.txt", "type": "text/plain"}], "start": 1761615442027, "stop": 1761615442075}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c22053a9-ecb9-485a-a426-39888f763ceb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2ec16f6d-8c56-471f-9778-da9480362b98-attachment.txt", "type": "text/plain"}], "start": 1761615442075, "stop": 1761615442076}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "cfe32954-1244-48ed-bd6b-91f4cdb48c04-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8491bb61-a6ed-473e-9a85-922252e1cc8e-attachment.txt", "type": "text/plain"}], "start": 1761615442076, "stop": 1761615442077}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "9b514376-d995-4d6e-8438-a959155855d0-attachment.txt", "type": "text/plain"}], "start": 1761615442077, "stop": 1761615442078}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "fc28a0d7-a8ba-4546-a6e3-0f6999c7066a-attachment.json", "type": "application/json"}], "start": 1761615442078, "stop": 1761615442078}], "attachments": [{"name": "执行SQL", "source": "8746f3b8-bfbe-4c9b-a8a9-40148fc2ee53-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7a8a52b9-ada7-45f0-920b-661161e41509-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "74a97bca-83ce-4b33-b5c9-ba1eab04c0aa-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "be9cbbf4-9523-4eca-a995-6f54442040bf-attachment.txt", "type": "text/plain"}], "start": 1761615437675, "stop": 1761615442078}], "start": 1761615437675, "stop": 1761615442078}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "7ad1fd2b-2b4f-4290-b385-92522a2dacdf-attachment.attach", "type": "text/plain"}], "start": 1761615442078, "stop": 1761615442080}], "start": 1761615442078, "stop": 1761615442080}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "13cca6d1-decf-411d-b7c5-ef12c61baaa9-attachment.attach", "type": "text/plain"}], "start": 1761615442080, "stop": 1761615442080}], "start": 1761615442080, "stop": 1761615442080}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "5425b22b-dffa-442f-bd54-512a15beeb31-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "ff551786-96ec-4b02-a8ee-475a96224c48-attachment.attach", "type": "text/plain"}], "start": 1761615442080, "stop": 1761615442081}], "start": 1761615442080, "stop": 1761615442081}], "start": 1761615442078, "stop": 1761615442081}], "attachments": [{"name": "log", "source": "1ef83361-7adb-4c4f-83e7-a046ac7671a5-attachment.txt", "type": "text/plain"}], "start": 1761615437675, "stop": 1761615442081, "uuid": "bd4b2b53-2a1f-4f35-95a1-83c8e0c2d2a0", "historyId": "f456b29d20efda098cbb1e918bc3c54f", "testCaseId": "f456b29d20efda098cbb1e918bc3c54f", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend11#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}