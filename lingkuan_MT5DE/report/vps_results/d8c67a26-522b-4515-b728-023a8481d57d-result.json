{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend6 object at 0x0000024D508EF6A0>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000024D503C7670>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5048A160>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    fod.comment,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing6\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:2667: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend6 object at 0x0000024D508EF6A0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5048A160>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.close_no,\\n            ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing6'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.6-1，总手数1\n      2. 校验手数范围限制是否生效，只有一个订单，订单手数大于等于0.6\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确，权重正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_vps_ordersend.py\", line 2667, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f836ed67-42a6-46cf-b39f-09bc10b2467d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "51856085-079a-44fb-a8be-fcf6e8879822-attachment.txt", "type": "text/plain"}], "start": 1761615248343, "stop": 1761615248400}], "attachments": [{"name": "时区处理", "source": "61b93215-d85e-4e8b-99c9-be5f731784e0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cf464f49-9d47-45de-855d-961920f3c2fd-attachment.txt", "type": "text/plain"}], "start": 1761615248342, "stop": 1761615248400}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "207409d1-4158-4cf7-9139-c4462c4e6cca-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "66c1d44c-4cb7-4851-9ddd-58917a32cbeb-attachment.txt", "type": "text/plain"}], "start": 1761615248400, "stop": 1761615248401}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0e6d5d51-66ac-43e2-8dac-696139db86bf-attachment.txt", "type": "text/plain"}], "start": 1761615248401, "stop": 1761615248401}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2283548e-295c-485c-80ba-f200b6587875-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1178865b-74b0-475d-bec0-49c8e0dc26e5-attachment.txt", "type": "text/plain"}], "start": 1761615250452, "stop": 1761615250503}], "attachments": [{"name": "时区处理", "source": "9328cf04-18d9-48da-8eee-599e2fef2c62-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7623536f-33dd-4405-9b44-30978496b5ec-attachment.txt", "type": "text/plain"}], "start": 1761615250451, "stop": 1761615250503}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e98d6079-7ecf-4a65-a049-824bbaa21e25-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b188f514-3211-4053-aaf3-2a42f6497a2f-attachment.txt", "type": "text/plain"}], "start": 1761615250503, "stop": 1761615250504}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9bc42d96-9465-4d48-84d6-f5507315ec0f-attachment.txt", "type": "text/plain"}], "start": 1761615250505, "stop": 1761615250505}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "29b648c8-785a-4df3-b0bc-162471d81cc3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f34eb10f-65fa-4659-9fee-f50087736f1a-attachment.txt", "type": "text/plain"}], "start": 1761615252555, "stop": 1761615252603}], "attachments": [{"name": "时区处理", "source": "3a19fcfb-7923-4d93-bb34-bda0c74fe813-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "72ac53f3-bb80-46e6-b9eb-187e0632d3ab-attachment.txt", "type": "text/plain"}], "start": 1761615252554, "stop": 1761615252603}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "81bee950-0b5c-407f-a9b1-0bb0b9de2d30-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d8964fdd-6ce9-4110-93b9-f098ce4a37cc-attachment.txt", "type": "text/plain"}], "start": 1761615252603, "stop": 1761615252604}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "109f7d30-ab59-4fb0-b7e4-3ebcecd8103f-attachment.txt", "type": "text/plain"}], "start": 1761615252604, "stop": 1761615252604}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d66cdd67-5e76-452e-acf5-3bc94ddbe782-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bb4977dc-6b5a-43cc-b579-0eacecd43c5a-attachment.txt", "type": "text/plain"}], "start": 1761615254655, "stop": 1761615254704}], "attachments": [{"name": "时区处理", "source": "69fa4220-1de2-49f6-8ad6-e08de10cb12e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d45a8866-b66a-44b8-ba00-9e62e54c96e9-attachment.txt", "type": "text/plain"}], "start": 1761615254653, "stop": 1761615254704}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "10b55272-778f-4a32-a27d-df80a2f02006-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9a9dc1b1-a5d0-43a2-9fcc-fbd7f44141b7-attachment.txt", "type": "text/plain"}], "start": 1761615254704, "stop": 1761615254705}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8b818879-0ba4-43c7-b298-81e6a04ee584-attachment.txt", "type": "text/plain"}], "start": 1761615254705, "stop": 1761615254706}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d46d469d-80bd-4020-9968-31605ca91835-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cccd215e-c670-486a-83f4-57cea58a3155-attachment.txt", "type": "text/plain"}], "start": 1761615256761, "stop": 1761615256809}], "attachments": [{"name": "时区处理", "source": "e6d3f334-d0c6-4bdc-bde3-ec9aab1b2e14-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8ff9bdd1-8d53-48bd-b789-0d663c79fe5b-attachment.txt", "type": "text/plain"}], "start": 1761615256760, "stop": 1761615256809}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "27fb6303-67c9-44d2-93e5-309cba44d9ce-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f5d2b970-f4c0-4a94-8309-287b6e2f1255-attachment.txt", "type": "text/plain"}], "start": 1761615256809, "stop": 1761615256810}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fd105177-429f-4a7c-9ca9-c4067c6844c6-attachment.txt", "type": "text/plain"}], "start": 1761615256810, "stop": 1761615256810}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "46aa9023-2d7a-471d-ab01-252d8f303efb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3a5ad5fa-7310-4b96-8782-b8a7bdbf3c0d-attachment.txt", "type": "text/plain"}], "start": 1761615258861, "stop": 1761615258910}], "attachments": [{"name": "时区处理", "source": "a1e348ac-88b3-4f11-aac6-03f87489476a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ecf4fa5a-8bab-4880-82a3-8bffdf5ff69c-attachment.txt", "type": "text/plain"}], "start": 1761615258860, "stop": 1761615258910}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "442e66dc-240a-461d-85c6-188d4b7654d3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c3ffb556-9370-4c80-98fa-450dc57d5ef5-attachment.txt", "type": "text/plain"}], "start": 1761615258910, "stop": 1761615258911}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9e33d14d-e1c1-476e-a1ca-637340d9964e-attachment.txt", "type": "text/plain"}], "start": 1761615258911, "stop": 1761615258911}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c10a1ce9-52e9-489c-b39d-fdda91be4910-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "579702e1-646d-4957-a36d-35e4fd56d39e-attachment.txt", "type": "text/plain"}], "start": 1761615260974, "stop": 1761615261024}], "attachments": [{"name": "时区处理", "source": "fd071342-5456-48f5-a02f-8532037c4cc0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "486f0f41-900d-4740-b491-87d924e12eaf-attachment.txt", "type": "text/plain"}], "start": 1761615260973, "stop": 1761615261024}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d0ba426c-cff7-4130-a156-b331b513b4af-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "079b340d-f49d-4c13-9b6b-422f4d6ea5a3-attachment.txt", "type": "text/plain"}], "start": 1761615261024, "stop": 1761615261025}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "000f58af-0cdb-45a4-b708-83aa6acc8434-attachment.txt", "type": "text/plain"}], "start": 1761615261025, "stop": 1761615261025}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "dd32094b-d409-42dd-9b87-ccf21a23ad5f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "00d3be49-8b19-4c54-921f-78241ca26245-attachment.txt", "type": "text/plain"}], "start": 1761615263109, "stop": 1761615263156}], "attachments": [{"name": "时区处理", "source": "ce08e073-a08d-4931-8581-3feaabb650a3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f9d16c29-4847-4072-9d14-9b0c1fa20e86-attachment.txt", "type": "text/plain"}], "start": 1761615263108, "stop": 1761615263156}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a3aa52a9-2eb7-4d85-bb75-e3c13197a259-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e7acedfb-4841-424a-98da-e4a29c87154b-attachment.txt", "type": "text/plain"}], "start": 1761615263156, "stop": 1761615263158}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2ebc039b-0458-426c-a4d3-009bc098f310-attachment.txt", "type": "text/plain"}], "start": 1761615263158, "stop": 1761615263159}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5cb0f69b-d8e4-4113-97eb-ea74c6d84f32-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "501df8b5-5a08-4db3-8890-924627ceb49a-attachment.txt", "type": "text/plain"}], "start": 1761615265212, "stop": 1761615265259}], "attachments": [{"name": "时区处理", "source": "c1881cd3-4ca8-45b6-8a3b-cc479d711620-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e77cc48c-ddd9-4635-bdd9-cb23d60d8db4-attachment.txt", "type": "text/plain"}], "start": 1761615265212, "stop": 1761615265259}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b7f2db0f-6161-4c4b-9511-8bd57c511e75-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "246d8341-9446-4a46-8710-d587d9e7a6fc-attachment.txt", "type": "text/plain"}], "start": 1761615265259, "stop": 1761615265260}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8dceef0a-553b-45eb-9cf9-0f52e3a077ac-attachment.txt", "type": "text/plain"}], "start": 1761615265260, "stop": 1761615265261}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "acab52c5-91a8-4c9b-95e4-e880349aacc5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c9d42288-77a1-4956-ad28-2e327437b1e2-attachment.txt", "type": "text/plain"}], "start": 1761615267322, "stop": 1761615267369}], "attachments": [{"name": "时区处理", "source": "988936b7-1d77-4fe8-bda8-7d0ed25f4658-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "afa79e48-0c41-478c-85b9-be92b50ac28b-attachment.txt", "type": "text/plain"}], "start": 1761615267321, "stop": 1761615267369}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1714d640-cbae-464d-9e45-adde36835a3e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a254cf6c-4e52-4107-bb00-845321c6879b-attachment.txt", "type": "text/plain"}], "start": 1761615267369, "stop": 1761615267370}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cbbcc9f6-6022-4c23-a82b-3f3add813b23-attachment.txt", "type": "text/plain"}], "start": 1761615267370, "stop": 1761615267371}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e7aab8bc-2ff4-486e-939b-b48c2e74ad56-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b5a4eec0-2c29-4632-abd2-131fe113a03c-attachment.txt", "type": "text/plain"}], "start": 1761615269422, "stop": 1761615269470}], "attachments": [{"name": "时区处理", "source": "97d5d924-2366-4951-b986-90dc70702e49-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c783b79e-dc4e-4fa0-93d8-5c5649215f9a-attachment.txt", "type": "text/plain"}], "start": 1761615269421, "stop": 1761615269470}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "89d197c0-e186-49d5-8919-094399402406-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cd2cda80-dd62-40e3-847f-153acf4e89c9-attachment.txt", "type": "text/plain"}], "start": 1761615269470, "stop": 1761615269471}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5e445b11-2d10-4bf4-a801-3e01713f7fdc-attachment.txt", "type": "text/plain"}], "start": 1761615269471, "stop": 1761615269471}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1546f608-a12f-462a-8cf3-9b01ceb5053a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5bc88098-da7b-48d8-97c2-6ea6178d7be0-attachment.txt", "type": "text/plain"}], "start": 1761615271525, "stop": 1761615271575}], "attachments": [{"name": "时区处理", "source": "f3328605-40d2-4ba8-966f-32c840e7abd2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d57292ac-502e-4368-a99c-1d6b7dfd374d-attachment.txt", "type": "text/plain"}], "start": 1761615271523, "stop": 1761615271575}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0c94afca-c573-4c4b-92a2-02238d1a0cc6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "71c47949-d9db-480b-a96f-b41e75339509-attachment.txt", "type": "text/plain"}], "start": 1761615271575, "stop": 1761615271575}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "33018bb4-68fc-42c3-88a9-f1b5813ff9ce-attachment.txt", "type": "text/plain"}], "start": 1761615271575, "stop": 1761615271576}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6b14e6bc-80d4-42c7-b22b-dd0606385674-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "19ea8765-e92b-448d-b27f-058988cad66b-attachment.txt", "type": "text/plain"}], "start": 1761615273634, "stop": 1761615273682}], "attachments": [{"name": "时区处理", "source": "263739d7-8740-4e66-bb27-3206e5011898-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "03fe091a-8585-41a3-b1b2-af4d0f23f9cb-attachment.txt", "type": "text/plain"}], "start": 1761615273633, "stop": 1761615273682}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "81a98069-011d-4215-987c-d998b7427b4c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "17dd78a1-0f52-4e9a-869d-9386fe76f687-attachment.txt", "type": "text/plain"}], "start": 1761615273682, "stop": 1761615273683}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e0374ce3-b62b-4d23-866c-82e58b661379-attachment.txt", "type": "text/plain"}], "start": 1761615273683, "stop": 1761615273683}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4705dcb5-7264-4575-97fe-69b58f073803-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ba7f62f7-7868-4d11-a624-f99f3e6a222d-attachment.txt", "type": "text/plain"}], "start": 1761615275744, "stop": 1761615275792}], "attachments": [{"name": "时区处理", "source": "feff3603-095e-4c30-9c02-1ac8be9456d3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4702c571-54ac-4c6b-a411-f118b3b54277-attachment.txt", "type": "text/plain"}], "start": 1761615275743, "stop": 1761615275792}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8fc31c6b-0262-4847-9d04-88b59b49dd31-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "33f84195-e442-48ef-baed-94aab4229a3f-attachment.txt", "type": "text/plain"}], "start": 1761615275792, "stop": 1761615275793}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0f1c7fb9-b181-4b18-826a-eff7bf622495-attachment.txt", "type": "text/plain"}], "start": 1761615275793, "stop": 1761615275793}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a9008f9c-9414-44c4-8297-c884f929cb1a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "18db91e5-37fd-4bed-907e-70368dbf7dce-attachment.txt", "type": "text/plain"}], "start": 1761615277850, "stop": 1761615277899}], "attachments": [{"name": "时区处理", "source": "38be31a1-7bc0-49f5-a61b-c040637ff742-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "19ef806e-a9dd-4ecb-a5df-ebb33098ae05-attachment.txt", "type": "text/plain"}], "start": 1761615277849, "stop": 1761615277899}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "faa07199-5a79-4296-83a4-211250f7e500-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "738c8cca-ae11-4d85-8936-4e9086cb0bac-attachment.txt", "type": "text/plain"}], "start": 1761615277899, "stop": 1761615277900}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1f1c4e45-4b88-4a8a-8450-d908860b951b-attachment.txt", "type": "text/plain"}], "start": 1761615277900, "stop": 1761615277900}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "66ed31cc-a354-44a4-8ea0-e9b8e04175c8-attachment.txt", "type": "text/plain"}], "start": 1761615279907, "stop": 1761615279907}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "d4107b99-1a05-4ca7-b971-7543b1699253-attachment.json", "type": "application/json"}], "start": 1761615279954, "stop": 1761615279955}], "attachments": [{"name": "执行SQL", "source": "5e0f65b4-2b61-4cfd-a5e7-654629af7f87-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e7c2cada-1dcd-40d8-9c43-26d72c1c276b-attachment.txt", "type": "text/plain"}], "start": 1761615279908, "stop": 1761615279955}], "attachments": [{"name": "时区处理", "source": "336531b9-a8ec-44fd-b082-8aa6eb1aa3f2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "54517ab1-8b0a-4841-aa77-c363e4a94193-attachment.txt", "type": "text/plain"}], "start": 1761615279907, "stop": 1761615279955}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "0de1a837-9671-4f80-a5dd-fa51f12b835d-attachment.txt", "type": "text/plain"}], "start": 1761615279955, "stop": 1761615279955}], "attachments": [{"name": "执行SQL", "source": "1694348a-161a-4c4f-a563-db79cc745e64-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "85adf0fb-fcf1-4e50-977f-adfd47122832-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "c95ed106-5a27-465c-9dc7-5d5035ae846f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "59f447fa-10f1-483f-b1b5-32846726fb94-attachment.txt", "type": "text/plain"}], "start": 1761615248295, "stop": 1761615279955}], "start": 1761615248295, "stop": 1761615279955}], "attachments": [{"name": "log", "source": "3edc3f3b-5418-4d3d-9825-9983d62654c2-attachment.txt", "type": "text/plain"}], "start": 1761615248295, "stop": 1761615279956, "uuid": "5d8c16da-f705-458c-9344-7f863613a8b3", "historyId": "e8c576288bf8ee3aaa6574db272a730f", "testCaseId": "e8c576288bf8ee3aaa6574db272a730f", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend6#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景6：VPS策略下单-手数范围0.6-1，总手数1"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}