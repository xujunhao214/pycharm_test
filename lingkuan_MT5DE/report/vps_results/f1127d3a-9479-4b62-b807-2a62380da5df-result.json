{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x0000016F15DB3F10>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000016F15E8A070>\ndb_transaction = <pymysql.connections.Connection object at 0x0000016F15FCBB80>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        MT5vps_user_count = var_manager.get_variable(\"MT5vps_user_count\", 0)\n        if MT5vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{MT5vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应MT5vps_user_accounts_2到MT5vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"MT5vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：MT5vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        MT5vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x0000016F15DB3F10>\ndb_transaction = <pymysql.connections.Connection object at 0x0000016F15FCBB80>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('66938914',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（66938914）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6b9f572d-1111-42bc-bba4-cd05f206a1c3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6eb9ed63-82cf-4e0e-8416-10cf00da2ff7-attachment.txt", "type": "text/plain"}], "start": 1761631830826, "stop": 1761631830874}], "attachments": [{"name": "查询条件", "source": "ae8b440d-765d-42db-a245-144ea50f0948-attachment.txt", "type": "text/plain"}], "start": 1761631830825, "stop": 1761631830874}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a588c5c0-0ecf-4623-a507-9a22fd3d7499-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2faccb94-c110-466e-af66-1aa0042239e9-attachment.txt", "type": "text/plain"}], "start": 1761631830874, "stop": 1761631830875}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f2450199-fbb4-4077-9f63-6ddaa771f58b-attachment.txt", "type": "text/plain"}], "start": 1761631830875, "stop": 1761631830876}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "53aaf551-9bbd-4f7e-b4b2-fadb266a3e7a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "882b2967-89e2-46e9-a7a0-a2fa9108725d-attachment.txt", "type": "text/plain"}], "start": 1761631833199, "stop": 1761631833247}], "attachments": [{"name": "查询条件", "source": "ce2a9f88-96b2-48ac-9894-5fa9c7959dec-attachment.txt", "type": "text/plain"}], "start": 1761631833198, "stop": 1761631833247}, {"name": "轮询中（已等待2.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c25c5567-cd8d-4888-8753-196073496636-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f63b7575-af2c-41ea-afbd-d5b41000a825-attachment.txt", "type": "text/plain"}], "start": 1761631833247, "stop": 1761631833248}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1fa15e03-3baa-4d2a-a002-be01923b5247-attachment.txt", "type": "text/plain"}], "start": 1761631833248, "stop": 1761631833248}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "64ec9035-36df-41cb-aa23-12eb1eb8d6d5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0f39d3c0-f0d7-45d9-bd3e-6b1ca350a09b-attachment.txt", "type": "text/plain"}], "start": 1761631835304, "stop": 1761631835529}], "attachments": [{"name": "查询条件", "source": "d74b7f5c-b6b5-48c8-b705-e928874e088e-attachment.txt", "type": "text/plain"}], "start": 1761631835304, "stop": 1761631835529}, {"name": "轮询中（已等待4.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "82e4e900-fbee-4a7b-829a-daea29f35c20-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f76210fe-9802-429c-8f99-d5d0b34d56b9-attachment.txt", "type": "text/plain"}], "start": 1761631835529, "stop": 1761631835530}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8d31d1d3-c6f2-4a49-b14d-480d4f60dab9-attachment.txt", "type": "text/plain"}], "start": 1761631835530, "stop": 1761631835530}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ecdc1873-9a45-4d66-ba83-98cc5129f1cb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "69a18b25-3335-4b43-88c3-e87b2116aae8-attachment.txt", "type": "text/plain"}], "start": 1761631837584, "stop": 1761631837633}], "attachments": [{"name": "查询条件", "source": "a0923431-e679-4264-a223-524da9773167-attachment.txt", "type": "text/plain"}], "start": 1761631837584, "stop": 1761631837633}, {"name": "轮询中（已等待6.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8689dedb-714c-41c1-8b5e-4b245496c4da-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4c6a1d91-69d5-4c46-a28f-fa82e6ec42f8-attachment.txt", "type": "text/plain"}], "start": 1761631837633, "stop": 1761631837634}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2e6e5988-da7a-41fc-ba1d-3653e64163dd-attachment.txt", "type": "text/plain"}], "start": 1761631837634, "stop": 1761631837635}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1a5e0e5a-d74c-418d-b395-3f096a413a13-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "846c1be8-210f-47ef-a100-8ee110f266a0-attachment.txt", "type": "text/plain"}], "start": 1761631839683, "stop": 1761631839737}], "attachments": [{"name": "查询条件", "source": "39b596d0-eba9-47d7-b754-019dab96e871-attachment.txt", "type": "text/plain"}], "start": 1761631839682, "stop": 1761631839737}, {"name": "轮询中（已等待9.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6da674e3-0a48-4332-b45f-3fde17348d31-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "37002def-b10f-4609-8ad8-c40628b2b5f5-attachment.txt", "type": "text/plain"}], "start": 1761631839737, "stop": 1761631839738}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "977c6221-a216-40db-abaf-8b8d31708bce-attachment.txt", "type": "text/plain"}], "start": 1761631839738, "stop": 1761631839738}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "928c0c13-64d7-4691-89e9-7a762549a987-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7bde60d8-311c-4c8d-988d-2a32250a20ab-attachment.txt", "type": "text/plain"}], "start": 1761631841789, "stop": 1761631841839}], "attachments": [{"name": "查询条件", "source": "32be18e8-cefc-46d8-b89a-f3ce0389352b-attachment.txt", "type": "text/plain"}], "start": 1761631841789, "stop": 1761631841839}, {"name": "轮询中（已等待11.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bc0e29f9-2bc2-4081-8696-25d67aab5bdd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "882dac7e-91da-441b-8770-869cd15f1d7a-attachment.txt", "type": "text/plain"}], "start": 1761631841839, "stop": 1761631841840}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b6e4f1de-5adf-4a09-b74f-329e120a421c-attachment.txt", "type": "text/plain"}], "start": 1761631841840, "stop": 1761631841841}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2285cc2b-6f5b-4360-b142-91ec78ace291-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7412a1ea-3bc5-4c4e-8fe4-3f800f61cf94-attachment.txt", "type": "text/plain"}], "start": 1761631843902, "stop": 1761631843957}], "attachments": [{"name": "查询条件", "source": "5b9ed9da-5331-421f-b291-0fab94a0804c-attachment.txt", "type": "text/plain"}], "start": 1761631843901, "stop": 1761631843957}, {"name": "轮询中（已等待13.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3907502a-af8f-428c-88c6-fbcc3e78397c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "977639b9-7f54-4461-a3fe-9787371567f2-attachment.txt", "type": "text/plain"}], "start": 1761631843957, "stop": 1761631843958}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "86f46368-7b0a-42aa-bc2b-01cac6142013-attachment.txt", "type": "text/plain"}], "start": 1761631843958, "stop": 1761631843958}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f749c3d0-ee58-42ee-b845-1e416592e893-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b5b5d311-d363-4b5a-95c7-5182d8be94c6-attachment.txt", "type": "text/plain"}], "start": 1761631846006, "stop": 1761631846056}], "attachments": [{"name": "查询条件", "source": "2f1f16da-2914-4984-8814-b5e424e25a19-attachment.txt", "type": "text/plain"}], "start": 1761631846006, "stop": 1761631846056}, {"name": "轮询中（已等待15.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "86c635f6-4c84-4686-aeb8-24ba2592337b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "96a0fe30-7a8f-4ee1-9979-7058f8af085b-attachment.txt", "type": "text/plain"}], "start": 1761631846056, "stop": 1761631846057}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1436c95c-c7a8-4cfb-bb35-d0af963b4a6a-attachment.txt", "type": "text/plain"}], "start": 1761631846057, "stop": 1761631846057}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eca28724-1f85-46d3-87bb-d692bbed1fff-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5bbc52d7-2191-4dcd-8dce-46f8b160de80-attachment.txt", "type": "text/plain"}], "start": 1761631848127, "stop": 1761631848176}], "attachments": [{"name": "查询条件", "source": "1f621a12-c9b3-4cb9-8a3b-f34c45f492cb-attachment.txt", "type": "text/plain"}], "start": 1761631848127, "stop": 1761631848176}, {"name": "轮询中（已等待17.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2d93645f-6035-40ee-b2cc-884246945618-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8ca0c14d-f0f8-44bf-9f60-f55a53f8e6e5-attachment.txt", "type": "text/plain"}], "start": 1761631848176, "stop": 1761631848178}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8cec8009-a85f-41b7-a1f9-74f8303a5f0e-attachment.txt", "type": "text/plain"}], "start": 1761631848178, "stop": 1761631848178}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d5f469f1-b23d-4bb7-809f-e4fa3e23b24a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "889c0670-6cae-4aa5-9f61-eb2d1c590fe1-attachment.txt", "type": "text/plain"}], "start": 1761631850227, "stop": 1761631850275}], "attachments": [{"name": "查询条件", "source": "4dcda063-e861-4e85-aad8-7453ee4170aa-attachment.txt", "type": "text/plain"}], "start": 1761631850226, "stop": 1761631850275}, {"name": "轮询中（已等待19.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d4741e40-d669-40c5-bead-d6eeb5c327ed-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e86abb98-78eb-48e6-b548-6515f2f09858-attachment.txt", "type": "text/plain"}], "start": 1761631850275, "stop": 1761631850277}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4452ff9a-4856-49f7-b97a-2f5a4c7167d3-attachment.txt", "type": "text/plain"}], "start": 1761631850277, "stop": 1761631850277}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "134abd28-21db-4daa-83ab-46d0882d8b4d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "73f03655-6958-4182-a517-7ca15b1d53d3-attachment.txt", "type": "text/plain"}], "start": 1761631852340, "stop": 1761631852387}], "attachments": [{"name": "查询条件", "source": "9bdc6a19-1bbb-47f6-9b90-a85df532151f-attachment.txt", "type": "text/plain"}], "start": 1761631852339, "stop": 1761631852387}, {"name": "轮询中（已等待21.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3c7ef5bf-8e13-4f06-8888-1d2a65cfb34f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "85402cb0-48cc-4f6d-81e0-cf8830fc7a14-attachment.txt", "type": "text/plain"}], "start": 1761631852387, "stop": 1761631852388}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "dd0fb21a-5bc4-46e8-baee-696eb4978e50-attachment.txt", "type": "text/plain"}], "start": 1761631852388, "stop": 1761631852388}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "666d25b5-4a72-4a67-9b0a-d5cdb59a5cb3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c7e02c06-6c52-460f-91ab-55d128419331-attachment.txt", "type": "text/plain"}], "start": 1761631854448, "stop": 1761631854497}], "attachments": [{"name": "查询条件", "source": "88e47a3b-4b0b-4711-8809-949d354cbc7b-attachment.txt", "type": "text/plain"}], "start": 1761631854447, "stop": 1761631854497}, {"name": "轮询中（已等待23.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cf6fbca0-e7b3-4eb8-bf17-ab7cf0daa881-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "52a4945c-1848-4be4-8562-60fc8d026ca6-attachment.txt", "type": "text/plain"}], "start": 1761631854497, "stop": 1761631854498}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b64e2949-5dc4-4a1a-9f08-1f3d55122f59-attachment.txt", "type": "text/plain"}], "start": 1761631854498, "stop": 1761631854498}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2007b01f-85de-4106-a432-cbeabbf04256-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "845e4fc8-2763-408d-93ac-ebcaec15bfe7-attachment.txt", "type": "text/plain"}], "start": 1761631856555, "stop": 1761631856781}], "attachments": [{"name": "查询条件", "source": "704adcc7-3785-4fc5-800e-69dd4fd415a8-attachment.txt", "type": "text/plain"}], "start": 1761631856554, "stop": 1761631856781}, {"name": "轮询中（已等待26.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5644cea5-1eca-47e9-9f2e-39be0296912a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e9e5f5b7-35b3-426b-b060-fcf20cea1f10-attachment.txt", "type": "text/plain"}], "start": 1761631856781, "stop": 1761631856782}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "66b55c7f-6de0-4592-b86a-698ee3758a18-attachment.txt", "type": "text/plain"}], "start": 1761631856782, "stop": 1761631856782}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5e48a698-fcde-4265-9e74-6ae042a2f274-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0e90e564-de6f-452e-87bb-c17122d2a9fd-attachment.txt", "type": "text/plain"}], "start": 1761631858836, "stop": 1761631858885}], "attachments": [{"name": "查询条件", "source": "c3c6cea4-a72e-452b-b78a-5e1abbaddbd5-attachment.txt", "type": "text/plain"}], "start": 1761631858836, "stop": 1761631858885}, {"name": "轮询中（已等待28.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1a29cb92-de06-44f9-a4f3-e98e502d189c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7b35ec2a-f847-4e19-868e-aed7edbebfde-attachment.txt", "type": "text/plain"}], "start": 1761631858885, "stop": 1761631858886}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "355503f8-61b2-4786-964d-b21fa0dde12b-attachment.txt", "type": "text/plain"}], "start": 1761631858886, "stop": 1761631858886}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "1008e154-f424-4477-9f19-6cc973129420-attachment.txt", "type": "text/plain"}], "start": 1761631860892, "stop": 1761631860892}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "4c79e329-7360-4cee-9555-75e4b6b145fa-attachment.json", "type": "application/json"}], "start": 1761631860942, "stop": 1761631860942}], "attachments": [{"name": "执行SQL", "source": "e7533e8f-5c90-49da-9408-6d48976b7c3a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e6766a2d-8d9f-4c8d-b7d8-453ab410cdd6-attachment.txt", "type": "text/plain"}], "start": 1761631860893, "stop": 1761631860942}], "attachments": [{"name": "查询条件", "source": "881641e3-8c2c-4faf-a12e-617c5ad1a3af-attachment.txt", "type": "text/plain"}], "start": 1761631860892, "stop": 1761631860942}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "ccc591f1-9224-41b4-ab6b-576efd60302b-attachment.json", "type": "application/json"}], "start": 1761631860942, "stop": 1761631860943}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "bc4b0608-cf7f-4ccd-ba7d-48996181747a-attachment.txt", "type": "text/plain"}], "start": 1761631860943, "stop": 1761631860943}], "attachments": [{"name": "执行SQL", "source": "e1ba6620-f179-4f39-9dc2-27d705127049-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1cc3c8a1-7cd9-40d5-a88e-52762d238974-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "99049b8c-cdf7-41dd-8ea9-e8794bffe1c1-attachment.txt", "type": "text/plain"}], "start": 1761631830778, "stop": 1761631860943}], "start": 1761631830777, "stop": 1761631860944}], "attachments": [{"name": "log", "source": "ccf0e4a7-bc8d-4b9f-912c-d540690bdc8f-attachment.txt", "type": "text/plain"}], "start": 1761631830777, "stop": 1761631860944, "uuid": "863e4f86-48ed-4ed3-a805-af9148aca4ec", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "64072-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}