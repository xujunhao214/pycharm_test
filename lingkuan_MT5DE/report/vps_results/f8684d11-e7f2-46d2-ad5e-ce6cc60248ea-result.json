{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend11 object at 0x0000024D50401280>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000024D503C7670>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5059E250>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing11\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:4161: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend11 object at 0x0000024D50401280>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5059E250>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing11'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_vps_ordersend.py\", line 4161, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c4f5eeb5-2307-45fd-8028-3872a4f1051c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2c3a7564-3b6c-4159-8ea2-47092d46248a-attachment.txt", "type": "text/plain"}], "start": 1761615405829, "stop": 1761615405877}], "attachments": [{"name": "时区处理", "source": "8d50d259-333e-4ede-a8dc-697080ead8ae-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6883c469-3df8-4b2c-8a99-1cde73fae4e8-attachment.txt", "type": "text/plain"}], "start": 1761615405828, "stop": 1761615405877}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "68c06e56-dc16-42ff-b5c4-2efae8e98b7c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8038e036-80f1-4d95-a2b7-54facbbce4dd-attachment.txt", "type": "text/plain"}], "start": 1761615405877, "stop": 1761615405878}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "62ba3fed-26f4-4021-8b29-1f28b8c73898-attachment.txt", "type": "text/plain"}], "start": 1761615405878, "stop": 1761615405878}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "40950709-7d26-4062-8f33-f0ee827e4a68-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "967db7e6-1e43-4137-b79f-5febcadfb77c-attachment.txt", "type": "text/plain"}], "start": 1761615407937, "stop": 1761615407984}], "attachments": [{"name": "时区处理", "source": "9a9c6be5-7630-4e61-a29d-35e1640d6f59-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b5809f9d-51e3-42f5-9c65-f3c17f80aca4-attachment.txt", "type": "text/plain"}], "start": 1761615407937, "stop": 1761615407984}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fbe90f9a-30af-4751-b960-5f34129969fc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e7410244-ac48-41de-ab9b-221581ad4e82-attachment.txt", "type": "text/plain"}], "start": 1761615407984, "stop": 1761615407985}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "58c8f2d0-00d4-4c0b-804c-f63f81b2e257-attachment.txt", "type": "text/plain"}], "start": 1761615407985, "stop": 1761615407986}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2fb1574a-7181-4250-bcbf-5e6b09d58015-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "003535d2-e765-4c97-b5bf-54536949d7fe-attachment.txt", "type": "text/plain"}], "start": 1761615410039, "stop": 1761615410087}], "attachments": [{"name": "时区处理", "source": "ccb394a1-7bad-43bc-804a-461dea15523b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b86ec63e-e8b9-484a-b537-4dc83dcfdaeb-attachment.txt", "type": "text/plain"}], "start": 1761615410038, "stop": 1761615410087}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dae1c2ab-52f7-4fec-8cfb-0aacde0e8f29-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ee32c252-1bfc-4273-9517-bc97667310da-attachment.txt", "type": "text/plain"}], "start": 1761615410087, "stop": 1761615410088}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1caea239-6e84-40b7-88ad-ffc1fd885c52-attachment.txt", "type": "text/plain"}], "start": 1761615410088, "stop": 1761615410088}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "597b1dea-f6b6-466b-aaef-e3a6716b57cf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a001a0c3-c33f-4cd1-a206-6366eb09ecc3-attachment.txt", "type": "text/plain"}], "start": 1761615412137, "stop": 1761615412202}], "attachments": [{"name": "时区处理", "source": "6c0ee481-0c11-4956-b28a-b3123726550b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "18b0be9c-6760-4cae-9010-f7c9a60adcee-attachment.txt", "type": "text/plain"}], "start": 1761615412136, "stop": 1761615412202}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ea180210-f8dc-4f93-94a3-998a3da14b5d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ee0bc75a-ae47-4770-8bcc-e5ab75fdedbb-attachment.txt", "type": "text/plain"}], "start": 1761615412202, "stop": 1761615412203}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "20b3fdb1-68e7-49be-a026-a1778a936a73-attachment.txt", "type": "text/plain"}], "start": 1761615412203, "stop": 1761615412204}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "118d37e2-0e98-4a33-8216-424928fe4baf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "896e099f-9ff4-46c6-b391-08f23f046358-attachment.txt", "type": "text/plain"}], "start": 1761615414250, "stop": 1761615414299}], "attachments": [{"name": "时区处理", "source": "d4ddd76a-41f1-4e35-955b-e8a40b0c758c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c7454671-8ccd-47d6-b569-a86f702662bf-attachment.txt", "type": "text/plain"}], "start": 1761615414250, "stop": 1761615414299}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a90f3597-3514-4628-b0fd-aff07ab99aa9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3129960e-9e18-4beb-98f2-812784ef56c4-attachment.txt", "type": "text/plain"}], "start": 1761615414299, "stop": 1761615414300}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "64cbbe7c-a682-4e93-9445-b7173f70db4d-attachment.txt", "type": "text/plain"}], "start": 1761615414300, "stop": 1761615414301}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4f9298b5-bf1b-4a3b-a110-b7b2972e49f9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "15b322c3-bf50-4e03-8f4b-2b9cc59a4055-attachment.txt", "type": "text/plain"}], "start": 1761615416350, "stop": 1761615416399}], "attachments": [{"name": "时区处理", "source": "a6635956-ed29-43b5-84aa-978bd32fb921-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f08affc2-6dba-49d2-a393-b463495aea3d-attachment.txt", "type": "text/plain"}], "start": 1761615416349, "stop": 1761615416399}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "246e8253-9a7f-4780-a1e9-2ee6fc896fde-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e95cb408-fee9-4154-98cf-b1bef56a5420-attachment.txt", "type": "text/plain"}], "start": 1761615416399, "stop": 1761615416400}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4bfca8e6-f88d-4ac0-94d3-69fe0c4f7652-attachment.txt", "type": "text/plain"}], "start": 1761615416400, "stop": 1761615416400}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a79434cd-f0e3-4365-917c-a39ed266bab2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3837b16b-aac7-4004-9d75-71843124a71d-attachment.txt", "type": "text/plain"}], "start": 1761615418447, "stop": 1761615418495}], "attachments": [{"name": "时区处理", "source": "8035a047-e002-4ed3-b625-8fd0caf17f22-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "dd20f7c2-18f0-4592-aef4-97b740f97593-attachment.txt", "type": "text/plain"}], "start": 1761615418446, "stop": 1761615418495}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cfd9747c-10d3-4658-91ad-af53ec23361b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5315902f-15f8-4ea6-98db-5ed5ec0a5b35-attachment.txt", "type": "text/plain"}], "start": 1761615418495, "stop": 1761615418496}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a1c77725-ed08-4579-9f2b-e2f638cb5f4b-attachment.txt", "type": "text/plain"}], "start": 1761615418496, "stop": 1761615418496}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "50e678fb-ab0e-4f1d-b05e-5dab4da5c704-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "857e9d91-2226-435e-b90c-fb0278a13da6-attachment.txt", "type": "text/plain"}], "start": 1761615420550, "stop": 1761615420598}], "attachments": [{"name": "时区处理", "source": "54091d9b-f386-4835-a61f-947b94b06f35-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "316dc59d-ee57-40a8-b0a6-dbf588ba11a2-attachment.txt", "type": "text/plain"}], "start": 1761615420549, "stop": 1761615420598}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "badf80c8-1f88-4b80-8fd9-6d503c2c1d90-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2eff1c27-6b32-4d94-8ece-7cce01e90389-attachment.txt", "type": "text/plain"}], "start": 1761615420598, "stop": 1761615420599}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1ddeec84-32ed-4d70-903b-043011f3d84e-attachment.txt", "type": "text/plain"}], "start": 1761615420599, "stop": 1761615420599}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bc062be1-8580-4507-a3e6-21e7afb8e42d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "56d0e9e4-b51d-4d50-b9e1-49c966fe1c1e-attachment.txt", "type": "text/plain"}], "start": 1761615422649, "stop": 1761615422696}], "attachments": [{"name": "时区处理", "source": "41f7320c-c0ad-401b-a96c-91917c53d196-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2f54c46b-b9d4-4f65-9281-a79034f7af53-attachment.txt", "type": "text/plain"}], "start": 1761615422648, "stop": 1761615422696}, {"name": "轮询中（已等待16.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a0e797fd-1bfe-4bd5-9608-f812242c5db4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8ea02b79-8eb3-4628-a2f5-642b70b63993-attachment.txt", "type": "text/plain"}], "start": 1761615422696, "stop": 1761615422698}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "aa766055-4119-494f-b931-ebcd58c290df-attachment.txt", "type": "text/plain"}], "start": 1761615422698, "stop": 1761615422698}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5c595b83-37ea-4da7-ab4d-692944eb1f14-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d1350cfb-af82-4df2-8d8d-5bff8ac8cfcb-attachment.txt", "type": "text/plain"}], "start": 1761615424748, "stop": 1761615424800}], "attachments": [{"name": "时区处理", "source": "6fd0cc0b-59cb-453d-bf12-d54ff96b5ca5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "97b32af2-731d-4fa6-a7a3-841193c4d595-attachment.txt", "type": "text/plain"}], "start": 1761615424747, "stop": 1761615424800}, {"name": "轮询中（已等待19.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "60f1301f-d44b-4134-9264-45bb5b9175bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6d18e913-5575-4d6a-864d-775ce34e0967-attachment.txt", "type": "text/plain"}], "start": 1761615424800, "stop": 1761615424801}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "813e8981-f830-4f43-b839-e8ad65a04796-attachment.txt", "type": "text/plain"}], "start": 1761615424801, "stop": 1761615424801}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "95616034-01bb-4f8e-8191-07464dbc0ed0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7cfc977a-aade-4a22-8c8d-09a776856600-attachment.txt", "type": "text/plain"}], "start": 1761615426863, "stop": 1761615426909}], "attachments": [{"name": "时区处理", "source": "7e7fb4cf-33d5-4554-932e-289f1e3975be-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fcd34081-8d18-446f-aac9-753ffed1e3df-attachment.txt", "type": "text/plain"}], "start": 1761615426861, "stop": 1761615426909}, {"name": "轮询中（已等待21.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c23ea554-5b0c-42d9-804c-fa373840d0b4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5cf899ac-e3a9-4965-92d2-7c371483f228-attachment.txt", "type": "text/plain"}], "start": 1761615426909, "stop": 1761615426910}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3a738160-0ac8-4387-b80e-29e5047078cb-attachment.txt", "type": "text/plain"}], "start": 1761615426910, "stop": 1761615426911}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9af21ff9-2ef4-436b-ac48-99bff430d8d3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5af43669-babf-4ffb-afee-ea32b1bc2cd0-attachment.txt", "type": "text/plain"}], "start": 1761615428967, "stop": 1761615429014}], "attachments": [{"name": "时区处理", "source": "97853fe1-d2d4-4cab-98b7-88d5ca26fd2e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "80ee960a-b727-43ee-bc97-7e4da430a1f8-attachment.txt", "type": "text/plain"}], "start": 1761615428966, "stop": 1761615429014}, {"name": "轮询中（已等待23.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7647c705-1e27-4069-a021-f391a694ba3f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d557acf4-e052-46c8-bea0-c8584b84adf5-attachment.txt", "type": "text/plain"}], "start": 1761615429014, "stop": 1761615429015}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d7eea037-5f71-49a7-809c-cd754f23e51e-attachment.txt", "type": "text/plain"}], "start": 1761615429015, "stop": 1761615429016}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a1102432-4625-4b86-a411-ef87dcc47d57-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d871cd07-1515-40da-b1e4-f79fc9509422-attachment.txt", "type": "text/plain"}], "start": 1761615431075, "stop": 1761615431123}], "attachments": [{"name": "时区处理", "source": "0581386b-cd22-41e0-8c0b-172da28ed8df-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "58102ae5-25fd-4da5-a470-029168e15610-attachment.txt", "type": "text/plain"}], "start": 1761615431074, "stop": 1761615431123}, {"name": "轮询中（已等待25.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d8dd7190-2692-41e9-8d94-cf9c220fe2cd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1503522c-9689-4abb-b36a-5150f0755c1c-attachment.txt", "type": "text/plain"}], "start": 1761615431123, "stop": 1761615431124}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "79cbd99f-4b2b-4b86-9966-614f3cc24ae3-attachment.txt", "type": "text/plain"}], "start": 1761615431124, "stop": 1761615431124}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e2405456-ed27-4415-89f2-fdb4ba84227e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2c8ffb20-5e80-4e16-b5e9-3b78ac8cd7f4-attachment.txt", "type": "text/plain"}], "start": 1761615433196, "stop": 1761615433243}], "attachments": [{"name": "时区处理", "source": "24e86fc6-8945-4e88-abd2-4eed85c94396-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8d35099e-0867-4169-9b6a-8c6506f44122-attachment.txt", "type": "text/plain"}], "start": 1761615433195, "stop": 1761615433243}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7381fcf3-afcd-4436-b0fa-795a4a63fb0a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4649a4dd-162f-47f1-b34e-9e5cc417f3ac-attachment.txt", "type": "text/plain"}], "start": 1761615433243, "stop": 1761615433244}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c0cdbb16-253a-44e6-82c0-1f5caae024f8-attachment.txt", "type": "text/plain"}], "start": 1761615433244, "stop": 1761615433245}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d29b89fb-407a-4353-8647-eecc53f09ee6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1484f764-f6da-4df0-962d-1b31e60586af-attachment.txt", "type": "text/plain"}], "start": 1761615435293, "stop": 1761615435340}], "attachments": [{"name": "时区处理", "source": "248958e2-d785-45ae-b876-7c8947b69998-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d83a54a6-64e8-40bb-bd48-463464c86057-attachment.txt", "type": "text/plain"}], "start": 1761615435292, "stop": 1761615435340}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f6841689-f48d-41d8-9841-d41b25ac6f4f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7884b423-242d-4b21-a58d-402e5b50c5c3-attachment.txt", "type": "text/plain"}], "start": 1761615435340, "stop": 1761615435340}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9e3ffe4e-638b-4b98-a8b6-030ebe660bbe-attachment.txt", "type": "text/plain"}], "start": 1761615435340, "stop": 1761615435341}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "0fb3d31d-623f-4f30-bf11-4a5558c74f53-attachment.txt", "type": "text/plain"}], "start": 1761615437347, "stop": 1761615437348}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "03c04fbf-61e8-4e69-983b-8ac9a3599d33-attachment.json", "type": "application/json"}], "start": 1761615437397, "stop": 1761615437398}], "attachments": [{"name": "执行SQL", "source": "389eb134-b5aa-4158-877a-8601f89996da-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2772da2e-502a-486f-baed-a2e431ca0824-attachment.txt", "type": "text/plain"}], "start": 1761615437348, "stop": 1761615437398}], "attachments": [{"name": "时区处理", "source": "f1227247-4d54-488e-82fa-820cd32ec50b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c6913479-b33d-45e5-bc8a-516c1f43c097-attachment.txt", "type": "text/plain"}], "start": 1761615437348, "stop": 1761615437398}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "a27228d4-0e85-4e8a-b9d7-21f07ec32da1-attachment.txt", "type": "text/plain"}], "start": 1761615437398, "stop": 1761615437398}], "attachments": [{"name": "执行SQL", "source": "17cf6548-1e58-47af-a5ed-bf528a37fb48-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7aed52fb-9874-4120-8906-2a6ae683d36a-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "0160143f-8811-4c18-80a0-21032707642b-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "50df28a7-0124-4510-9b5d-0e3254d524ca-attachment.txt", "type": "text/plain"}], "start": 1761615405780, "stop": 1761615437398}], "start": 1761615405780, "stop": 1761615437398}], "attachments": [{"name": "log", "source": "16215edc-b227-49c0-93f9-03e31d6fca85-attachment.txt", "type": "text/plain"}], "start": 1761615405780, "stop": 1761615437398, "uuid": "c399558c-4d64-463f-9d4b-3a6592a3ffa3", "historyId": "bba93db5526023ea0b0d9537c928c9d4", "testCaseId": "bba93db5526023ea0b0d9537c928c9d4", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend11#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}