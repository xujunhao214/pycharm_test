{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend10 object at 0x0000024D503ED2E0>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000024D503C7670>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5065EA30>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing10\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:3700: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend10 object at 0x0000024D503ED2E0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5065EA30>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing10'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_vps_ordersend.py\", line 3700, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1e3e8a00-92ab-43a2-b3a0-2b024fd8b247-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3c1da720-1e84-419d-93ed-a02d44420116-attachment.txt", "type": "text/plain"}], "start": 1761615354233, "stop": 1761615354283}], "attachments": [{"name": "时区处理", "source": "c9f16fc3-098d-4c49-96bf-1da00ec8e438-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9a5e4f4c-5bfb-4eb2-88ac-e9fd0bb43819-attachment.txt", "type": "text/plain"}], "start": 1761615354232, "stop": 1761615354283}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ccc6e931-e238-4c85-a090-0a0013ae2e14-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "59b2b2d6-30d8-4a88-97f1-634bfb027e99-attachment.txt", "type": "text/plain"}], "start": 1761615354283, "stop": 1761615354284}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e80400ed-3102-438b-bfcc-d775fe170ff8-attachment.txt", "type": "text/plain"}], "start": 1761615354284, "stop": 1761615354285}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c0bbc6bc-2f91-4ee8-bce4-9c32590e42f3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a6506dd5-f491-42ab-91cf-8d05e26b2847-attachment.txt", "type": "text/plain"}], "start": 1761615356337, "stop": 1761615356385}], "attachments": [{"name": "时区处理", "source": "1a93574c-5d0f-47ab-b889-c528e585436f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0e26ec15-1325-4b67-adc2-79284d1f33ed-attachment.txt", "type": "text/plain"}], "start": 1761615356337, "stop": 1761615356385}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a0728f8b-4a38-4fd6-9de9-437742a2fda3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5c80fad0-e522-435d-a2b3-d79cbc954190-attachment.txt", "type": "text/plain"}], "start": 1761615356385, "stop": 1761615356386}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "02615be7-5b74-4690-98d5-1fb0a2bc37ed-attachment.txt", "type": "text/plain"}], "start": 1761615356386, "stop": 1761615356387}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fe94a32d-0f22-49dd-9233-12d3e566e431-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1703a369-a1b6-405f-bf80-decde7369862-attachment.txt", "type": "text/plain"}], "start": 1761615358447, "stop": 1761615358494}], "attachments": [{"name": "时区处理", "source": "ba4e0e6e-fe03-4d62-8832-4f415ba8426d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b5205598-54cc-4c79-a744-222254b8e3ba-attachment.txt", "type": "text/plain"}], "start": 1761615358445, "stop": 1761615358494}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "090a72ab-535e-424e-b312-5573d8d6dd77-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "58caa3ef-ed61-4cb9-b7cc-211c0c3289c8-attachment.txt", "type": "text/plain"}], "start": 1761615358494, "stop": 1761615358495}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "dda24831-a7dc-4c70-8f12-dc1550b1ed7c-attachment.txt", "type": "text/plain"}], "start": 1761615358495, "stop": 1761615358495}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e717348c-56a9-40de-b3f5-314ae0ef4413-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7984f71f-f553-41c3-951f-5d49c67e23d6-attachment.txt", "type": "text/plain"}], "start": 1761615360546, "stop": 1761615360594}], "attachments": [{"name": "时区处理", "source": "3ea764ed-2f00-4a35-b490-fc45ee6f1ae2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "06cc2f94-701c-45db-8e79-9f888cc5abbe-attachment.txt", "type": "text/plain"}], "start": 1761615360545, "stop": 1761615360594}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "27df710c-905c-4b0c-8a39-60a99e1f45a9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d57b36ee-b8b9-447a-827f-3cd1fd113c73-attachment.txt", "type": "text/plain"}], "start": 1761615360594, "stop": 1761615360595}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "20ee8c41-cbc1-4a86-9b65-ac29978dc0da-attachment.txt", "type": "text/plain"}], "start": 1761615360595, "stop": 1761615360595}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3f6c9c77-d0b2-476c-9b08-8d4415c7c5d1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "09e60a86-d90f-4336-b1bf-89b63222a900-attachment.txt", "type": "text/plain"}], "start": 1761615362652, "stop": 1761615362702}], "attachments": [{"name": "时区处理", "source": "ad704ce0-7f54-410c-9d94-90284b8fe641-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b38a6453-7ed6-4256-b09a-3ec67c36ca07-attachment.txt", "type": "text/plain"}], "start": 1761615362651, "stop": 1761615362702}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "64b7e21b-7b4d-4ff7-bcea-aabf0ce583dd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1cce64fd-50ab-40a8-9cdd-fe6c86bd8498-attachment.txt", "type": "text/plain"}], "start": 1761615362702, "stop": 1761615362702}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b731b90e-3322-4877-ad7a-1a4935878324-attachment.txt", "type": "text/plain"}], "start": 1761615362702, "stop": 1761615362702}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "232d9e1c-7763-4c16-9ac5-a8301aa04498-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2d1df385-155c-4a26-9cc1-c7f896820691-attachment.txt", "type": "text/plain"}], "start": 1761615364760, "stop": 1761615364807}], "attachments": [{"name": "时区处理", "source": "c7830caa-8f67-43ed-8349-28f44785b4b8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "21a626bc-c8b7-4880-8345-07a00a8d90a4-attachment.txt", "type": "text/plain"}], "start": 1761615364759, "stop": 1761615364807}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a9423e1f-6ae2-4357-9895-2046907a6af1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "055f6727-2b41-4670-b621-4ba7da9196f5-attachment.txt", "type": "text/plain"}], "start": 1761615364807, "stop": 1761615364808}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "de22de8a-7504-45e9-86b2-38449c098de7-attachment.txt", "type": "text/plain"}], "start": 1761615364808, "stop": 1761615364808}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0cdb03b0-401d-48d2-b410-df872313811d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "560417b8-0375-43c1-838c-0f26bb455fd1-attachment.txt", "type": "text/plain"}], "start": 1761615366863, "stop": 1761615366914}], "attachments": [{"name": "时区处理", "source": "b0799db2-6153-48b1-a470-635509dc0c2a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f6e70098-3dbc-4c85-acb7-b71e41fb2c07-attachment.txt", "type": "text/plain"}], "start": 1761615366862, "stop": 1761615366914}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ad56566e-8dc0-4a9e-bfa1-428008faa92a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "196381f1-41b7-4b02-974a-1aa88439bcbd-attachment.txt", "type": "text/plain"}], "start": 1761615366914, "stop": 1761615366915}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ea8bc86c-4ec5-4860-a258-1b4d637d8d27-attachment.txt", "type": "text/plain"}], "start": 1761615366915, "stop": 1761615366915}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "38f3a65f-ee3d-4e4b-99e5-a4f716e06e54-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "05ac54e3-3b5d-44e3-8aaa-58cd4e41925d-attachment.txt", "type": "text/plain"}], "start": 1761615368985, "stop": 1761615369031}], "attachments": [{"name": "时区处理", "source": "552dd0d8-8d93-43d3-93db-b494434386d1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "20e1cf8b-c0fd-472c-823f-6bfa54e136b6-attachment.txt", "type": "text/plain"}], "start": 1761615368984, "stop": 1761615369031}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b7cac0f5-2a7f-4fa6-a122-ace443bde72d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3d45fed7-adf6-4a38-8931-161bd9ae461a-attachment.txt", "type": "text/plain"}], "start": 1761615369031, "stop": 1761615369032}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8770ff15-da7a-4106-96e4-92a69252e1fe-attachment.txt", "type": "text/plain"}], "start": 1761615369032, "stop": 1761615369032}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a765e918-6929-4b4d-87ec-629d34c03e2a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0db65926-ca19-4966-85ea-359ea66cfbae-attachment.txt", "type": "text/plain"}], "start": 1761615371145, "stop": 1761615371197}], "attachments": [{"name": "时区处理", "source": "3440c5df-d821-45ed-8c60-94f41a51e173-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "20799876-fd52-4ec1-9f4e-fc197919c9f2-attachment.txt", "type": "text/plain"}], "start": 1761615371144, "stop": 1761615371197}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9afa8dc6-6314-41c4-a335-07849001ccf4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "142e1eb2-00f6-4589-9bd1-700f44b91fd6-attachment.txt", "type": "text/plain"}], "start": 1761615371197, "stop": 1761615371198}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c3ccb32e-026e-4d8c-9d96-4a62ee1db6bb-attachment.txt", "type": "text/plain"}], "start": 1761615371198, "stop": 1761615371198}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a609bc2f-d127-4719-9ae0-5b1b56d99884-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "959ca9ed-e636-4270-bdf3-839cd8bb246b-attachment.txt", "type": "text/plain"}], "start": 1761615373247, "stop": 1761615373296}], "attachments": [{"name": "时区处理", "source": "bcf08c87-aba9-4190-a368-9b75e5ea6bfd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "72a14bfb-9027-47c6-ab8f-b56a6076ba21-attachment.txt", "type": "text/plain"}], "start": 1761615373247, "stop": 1761615373296}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9a09bd0a-d96a-4a09-ac56-78ca7b8f71b8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6c35668a-8cf5-4203-b921-d3f00dde672a-attachment.txt", "type": "text/plain"}], "start": 1761615373296, "stop": 1761615373297}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f934dcf2-608f-4775-9bf0-b247d73ef2b5-attachment.txt", "type": "text/plain"}], "start": 1761615373297, "stop": 1761615373297}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "be4a1f15-7109-470a-a5a7-e57442149d94-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fbc1d3f3-358b-4c83-b252-f46e6a6911f3-attachment.txt", "type": "text/plain"}], "start": 1761615375358, "stop": 1761615375407}], "attachments": [{"name": "时区处理", "source": "aaa639f0-ce44-4abd-bda7-6f3c618ccbe2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "980f5fa5-32b3-458d-b430-e699b2bf7fb5-attachment.txt", "type": "text/plain"}], "start": 1761615375358, "stop": 1761615375407}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b6308f15-e84a-4ef4-8443-207e06311fc8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "09b9a3de-29c6-4991-8ca3-690a06fca332-attachment.txt", "type": "text/plain"}], "start": 1761615375407, "stop": 1761615375408}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b2750b08-5c6b-40e2-9009-3dd351a17a13-attachment.txt", "type": "text/plain"}], "start": 1761615375408, "stop": 1761615375408}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "00e1c073-148a-4c25-a727-d1b791266e92-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1729b9ae-9871-4f72-8e10-1e87448ea16e-attachment.txt", "type": "text/plain"}], "start": 1761615377467, "stop": 1761615377518}], "attachments": [{"name": "时区处理", "source": "0fdcf8d6-9535-4454-b602-891452d58762-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f9c2ec1a-a938-4ebf-a0c7-0438dfa190b5-attachment.txt", "type": "text/plain"}], "start": 1761615377466, "stop": 1761615377518}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "79f8c99a-606f-4664-84ec-51b192778b2f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bec4845e-b229-4eba-a578-65e8c769dd54-attachment.txt", "type": "text/plain"}], "start": 1761615377518, "stop": 1761615377518}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3ba862e3-08ad-48ef-a485-7b489513e5ff-attachment.txt", "type": "text/plain"}], "start": 1761615377518, "stop": 1761615377518}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d0ce35ac-616f-4524-ae6d-e24773a0df5b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1f8ba667-462f-407f-a34d-d3279721b260-attachment.txt", "type": "text/plain"}], "start": 1761615379578, "stop": 1761615379627}], "attachments": [{"name": "时区处理", "source": "198116f3-fa06-4038-9170-160723c81b44-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "49d13024-e189-47f0-b441-7b2fc8cc469d-attachment.txt", "type": "text/plain"}], "start": 1761615379578, "stop": 1761615379627}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c294b8ce-fc4c-4926-9666-9da7558a0618-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "87725bc1-6b21-4bc4-a55e-7828459546c9-attachment.txt", "type": "text/plain"}], "start": 1761615379627, "stop": 1761615379628}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "601ffaf5-f212-42d4-b530-319515ce570c-attachment.txt", "type": "text/plain"}], "start": 1761615379628, "stop": 1761615379628}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "15fbfce0-3e4d-4f59-8e1c-d37981f70955-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d5d4e6ac-b1b5-4612-bc9c-f1f512b141d3-attachment.txt", "type": "text/plain"}], "start": 1761615381682, "stop": 1761615381741}], "attachments": [{"name": "时区处理", "source": "cd7e5414-4741-4462-949f-231dcb3f1aa1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1acaae4f-3a33-4ee5-997a-183450e091a9-attachment.txt", "type": "text/plain"}], "start": 1761615381681, "stop": 1761615381741}, {"name": "轮询中（已等待27.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cafcd4c0-a841-46d2-9567-4788889f67c3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0c7bfc3a-ac1d-4a1b-bb81-4d788d525585-attachment.txt", "type": "text/plain"}], "start": 1761615381742, "stop": 1761615381742}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6fb83dba-7f6b-4c75-9da2-93dc6c9b7adb-attachment.txt", "type": "text/plain"}], "start": 1761615381742, "stop": 1761615381743}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8e0f5406-a1fd-4b30-b09e-7aacf6e4ee12-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e2a79056-72c3-4f5b-9113-3c95448d70ba-attachment.txt", "type": "text/plain"}], "start": 1761615383798, "stop": 1761615383847}], "attachments": [{"name": "时区处理", "source": "64ba0822-49da-496c-bcdf-96cbd2810780-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5716898c-2bca-4411-9829-e9b576217e62-attachment.txt", "type": "text/plain"}], "start": 1761615383797, "stop": 1761615383847}, {"name": "轮询中（已等待29.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "66b401df-c2c7-4a2a-b85d-2e69393df0ba-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "54087ac1-b30a-44f9-83d0-ef1286857900-attachment.txt", "type": "text/plain"}], "start": 1761615383847, "stop": 1761615383848}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e97a9958-223d-4b70-96f8-525fad1d35e3-attachment.txt", "type": "text/plain"}], "start": 1761615383848, "stop": 1761615383848}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "32a7f678-e16a-450c-bc60-add19780a6fd-attachment.txt", "type": "text/plain"}], "start": 1761615385853, "stop": 1761615385853}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "28d4e063-01cf-4b84-b3e6-6a01cbdc205b-attachment.json", "type": "application/json"}], "start": 1761615385903, "stop": 1761615385903}], "attachments": [{"name": "执行SQL", "source": "c8439271-25cf-4e3a-9597-94d8818cb208-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "07070eb1-f18c-4481-9c98-e9f8da1dd9a0-attachment.txt", "type": "text/plain"}], "start": 1761615385854, "stop": 1761615385903}], "attachments": [{"name": "时区处理", "source": "221083d5-f79b-45d8-9f04-1e733bdc5bb1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "03afa477-d580-4c38-8b81-669deab49171-attachment.txt", "type": "text/plain"}], "start": 1761615385853, "stop": 1761615385903}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "a080959c-0468-40ad-a9e5-8a9910e5d414-attachment.txt", "type": "text/plain"}], "start": 1761615385903, "stop": 1761615385904}], "attachments": [{"name": "执行SQL", "source": "a11e481e-67a2-472f-ac49-d863f6241d1a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d2944281-c380-4220-b81d-ba06fcc2c1ab-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "fdbdae26-b1e5-430a-8ad4-fdd3edf40568-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "22ccd153-3379-4853-add6-53dcdfe66837-attachment.txt", "type": "text/plain"}], "start": 1761615354182, "stop": 1761615385904}], "start": 1761615354182, "stop": 1761615385904}], "attachments": [{"name": "log", "source": "eeb35ad0-720f-45ec-90cb-dda6efc65cdb-attachment.txt", "type": "text/plain"}], "start": 1761615354182, "stop": 1761615385904, "uuid": "60f5c109-7f43-4d2c-9e86-6eb6b9175a4c", "historyId": "352257c459d5ef599034fe333ead7b5c", "testCaseId": "352257c459d5ef599034fe333ead7b5c", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend10#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}