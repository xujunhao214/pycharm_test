{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend12 object at 0x0000024D50401D60>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000024D503C7670>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D50D5CFA0>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing12\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:4622: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend12 object at 0x0000024D50401D60>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D50D5CFA0>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing12'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.01\n      3. 校验账号的数据是否正确-下单手数是0.01*0.25*0.5=0.00125，最低下单手数是0.01\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_vps_ordersend.py\", line 4622, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "800a5ea2-418a-4b50-8be0-75f24e0974e8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "77912100-8fbe-4b47-b6cd-a66c2b365662-attachment.txt", "type": "text/plain"}], "start": 1761615457546, "stop": 1761615457594}], "attachments": [{"name": "时区处理", "source": "dcad92f2-06c5-44d0-9f94-8a04321e7f43-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "32da524a-83a4-4e3a-b05a-a45c9cee5f86-attachment.txt", "type": "text/plain"}], "start": 1761615457545, "stop": 1761615457594}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a6a4c04e-4b9e-41c2-9c55-aa6c6b0ecb4c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "21855a79-0fa0-4c5e-8031-57ff56bc3979-attachment.txt", "type": "text/plain"}], "start": 1761615457594, "stop": 1761615457595}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f7ab1106-8675-4dc6-865a-7926012238f2-attachment.txt", "type": "text/plain"}], "start": 1761615457595, "stop": 1761615457595}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2da65335-19d8-47e2-95b4-be6d3952edd1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2e135865-809c-4f3a-9bd4-c28be66ae8ae-attachment.txt", "type": "text/plain"}], "start": 1761615459653, "stop": 1761615459704}], "attachments": [{"name": "时区处理", "source": "a092fa30-f5d2-4d4d-a48d-b4fc6c74e8ce-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "736f9250-c0e2-4a96-ac24-e513d6a7f660-attachment.txt", "type": "text/plain"}], "start": 1761615459653, "stop": 1761615459704}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ef8dcbde-48a7-4131-aac5-4def1090de73-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ac2df5f0-4e65-4674-b2b0-39fced625587-attachment.txt", "type": "text/plain"}], "start": 1761615459704, "stop": 1761615459705}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bd564c89-2970-45df-b2cd-0e1480beafe8-attachment.txt", "type": "text/plain"}], "start": 1761615459705, "stop": 1761615459705}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "cc4f7728-12c7-4e56-a7e7-c359ab8e5396-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "47f21277-823f-4a54-a1d6-e19b01ac761c-attachment.txt", "type": "text/plain"}], "start": 1761615461840, "stop": 1761615461980}], "attachments": [{"name": "时区处理", "source": "0a86e12d-b3a3-4fb8-b5d9-f73374b95ff6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "16fb319b-7d88-4e22-bce1-d17de37a0444-attachment.txt", "type": "text/plain"}], "start": 1761615461839, "stop": 1761615461980}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f0453953-3319-4cb6-9534-a826c1ed92c4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ef5d8dc6-56ea-4224-9939-9e0b86b2e0e7-attachment.txt", "type": "text/plain"}], "start": 1761615461980, "stop": 1761615461981}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1dd14f09-b3f8-46a5-b85c-f847b7c25439-attachment.txt", "type": "text/plain"}], "start": 1761615461981, "stop": 1761615461981}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "22b54d1b-16e7-4986-bd11-b7035be6beed-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a2ba7f7e-03fb-443c-a2e9-efdab3a9f3a8-attachment.txt", "type": "text/plain"}], "start": 1761615464032, "stop": 1761615464080}], "attachments": [{"name": "时区处理", "source": "17933f57-3020-4d76-90c9-e65a821d31c5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "06daa517-0637-4224-8a3d-495cc230fd35-attachment.txt", "type": "text/plain"}], "start": 1761615464030, "stop": 1761615464080}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f2682f5a-39a4-41d8-950d-dec5231467d6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1c62870b-b860-4ca2-83e3-d2bcb06e8f7e-attachment.txt", "type": "text/plain"}], "start": 1761615464080, "stop": 1761615464081}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4f8a8457-8459-40bd-ae98-b07b9ddb1065-attachment.txt", "type": "text/plain"}], "start": 1761615464081, "stop": 1761615464081}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fdbeac80-68c8-44a0-acf1-252ad3ade54a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8b0700c1-697f-4f1f-84a6-2c89cb52d7af-attachment.txt", "type": "text/plain"}], "start": 1761615466169, "stop": 1761615466218}], "attachments": [{"name": "时区处理", "source": "ce830371-072a-42fb-901c-3659a70d1389-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "32c2464e-58c2-485b-abb5-ca8af2bebb3d-attachment.txt", "type": "text/plain"}], "start": 1761615466168, "stop": 1761615466218}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "75143cdb-0191-4f7d-a6a1-a1765ce1c71c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a0fe6ef4-7bc6-47a9-ba8c-06442bd59b20-attachment.txt", "type": "text/plain"}], "start": 1761615466218, "stop": 1761615466220}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6e9be0bf-4a55-4465-be0f-2af9bdcc34cd-attachment.txt", "type": "text/plain"}], "start": 1761615466220, "stop": 1761615466221}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1113d0e3-d185-42f1-8a99-062eb5a26c7b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2e87a237-a592-4a28-9689-8dee70c5d956-attachment.txt", "type": "text/plain"}], "start": 1761615468286, "stop": 1761615468334}], "attachments": [{"name": "时区处理", "source": "970d5cbe-22b2-49f2-b86e-1a81df184447-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "71e83c9f-6600-485e-9d9e-d2502e586884-attachment.txt", "type": "text/plain"}], "start": 1761615468284, "stop": 1761615468334}, {"name": "轮询中（已等待10.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e1ff6782-2953-4ada-aef6-ca3d003b6e25-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9e0d9f80-5b21-429b-99d0-1c8dbd9af82e-attachment.txt", "type": "text/plain"}], "start": 1761615468334, "stop": 1761615468335}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ae9c28e3-e47b-4bde-8a74-7ad9a20532c5-attachment.txt", "type": "text/plain"}], "start": 1761615468335, "stop": 1761615468335}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "757a6dae-b62d-49df-99e3-f7c7b3c301ec-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "819c7475-4e63-4f44-8140-8cf52f7e1059-attachment.txt", "type": "text/plain"}], "start": 1761615470389, "stop": 1761615470437}], "attachments": [{"name": "时区处理", "source": "59f31df4-b699-47d3-9a26-888677f325f3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d0c7f2b1-860f-422b-bfef-9cd26ba60a73-attachment.txt", "type": "text/plain"}], "start": 1761615470389, "stop": 1761615470437}, {"name": "轮询中（已等待12.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "895e064f-2665-44d5-adea-36dbdcd5cbe7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "39b24524-8554-4959-b13e-118bebb2315b-attachment.txt", "type": "text/plain"}], "start": 1761615470437, "stop": 1761615470438}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d1169f02-f6ae-4163-bbe6-f9287a286caa-attachment.txt", "type": "text/plain"}], "start": 1761615470438, "stop": 1761615470438}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bbe180e2-8f6b-4e34-a4ac-105984be36e6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "43367876-7bf1-4b5f-8a5e-a08e0d1d91c0-attachment.txt", "type": "text/plain"}], "start": 1761615472491, "stop": 1761615472539}], "attachments": [{"name": "时区处理", "source": "ca76c3c6-1c1f-4ad4-985e-b9e729169380-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cf585923-18e8-42d8-9cf0-dc4da8c1bb07-attachment.txt", "type": "text/plain"}], "start": 1761615472490, "stop": 1761615472539}, {"name": "轮询中（已等待15.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7936b6ff-8711-4ce1-a7d6-d5ca64f33602-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "94106cec-a56c-4722-8aae-5a97231090d9-attachment.txt", "type": "text/plain"}], "start": 1761615472539, "stop": 1761615472540}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "64efe184-b752-4649-a4be-92154e1d770a-attachment.txt", "type": "text/plain"}], "start": 1761615472540, "stop": 1761615472540}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "883ac74a-56ca-4742-b65b-cd4de83efef4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "567a9424-f52e-4a2a-92e7-6287237392bb-attachment.txt", "type": "text/plain"}], "start": 1761615474590, "stop": 1761615474637}], "attachments": [{"name": "时区处理", "source": "b81de2dd-eebd-495b-aa9d-aef01049e736-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ea88646f-8df9-4a63-a489-235984968832-attachment.txt", "type": "text/plain"}], "start": 1761615474589, "stop": 1761615474637}, {"name": "轮询中（已等待17.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "662ae8eb-7053-4b77-8fb3-2e1726a3008c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ff7162ea-2296-44b8-9701-48f706ab1ef1-attachment.txt", "type": "text/plain"}], "start": 1761615474637, "stop": 1761615474638}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c796b12c-8ba1-4323-b107-4527c22f51ec-attachment.txt", "type": "text/plain"}], "start": 1761615474638, "stop": 1761615474638}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2aa0af0c-b113-484e-b949-4ae4f446e8c0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "52e7900d-49af-4e58-bf50-3d95ea10e2ca-attachment.txt", "type": "text/plain"}], "start": 1761615476700, "stop": 1761615476748}], "attachments": [{"name": "时区处理", "source": "4f5f3699-cc3b-457f-a6bd-dfffe50ef565-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5133d265-566f-41f3-8b3e-9e1bc0abe1c4-attachment.txt", "type": "text/plain"}], "start": 1761615476699, "stop": 1761615476748}, {"name": "轮询中（已等待19.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a49fc044-2f13-4b91-8bed-3959f2afe71a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b5d7b105-8339-4e8d-8d80-8907c92c030d-attachment.txt", "type": "text/plain"}], "start": 1761615476748, "stop": 1761615476749}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ad1a513c-e419-476a-99e3-be238c872d2a-attachment.txt", "type": "text/plain"}], "start": 1761615476749, "stop": 1761615476749}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ce05fce6-8347-42a1-8a6b-f16ef541465f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fad90037-350b-4b1f-b987-62eac77ad219-attachment.txt", "type": "text/plain"}], "start": 1761615478796, "stop": 1761615478843}], "attachments": [{"name": "时区处理", "source": "a1a3d9eb-3bc3-4610-bf62-a6685930f8bb-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "612b7007-aa93-42f5-a601-14a65294cfaf-attachment.txt", "type": "text/plain"}], "start": 1761615478795, "stop": 1761615478843}, {"name": "轮询中（已等待21.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e464a843-56e3-450a-ba37-667359c5d27c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "94510c2b-677b-412d-9637-70cfe703bae0-attachment.txt", "type": "text/plain"}], "start": 1761615478843, "stop": 1761615478844}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3cfea447-8d46-4a17-b91b-7823a8cbe2a4-attachment.txt", "type": "text/plain"}], "start": 1761615478844, "stop": 1761615478844}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bdd7d018-2d00-4e80-bfde-357ec125a263-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "884b8aad-6b5a-4748-90fd-053b7b001f9c-attachment.txt", "type": "text/plain"}], "start": 1761615480898, "stop": 1761615480945}], "attachments": [{"name": "时区处理", "source": "04f9283f-1b73-4404-af60-b56faae6260b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cc870b02-0e33-4096-9124-365176bdb46e-attachment.txt", "type": "text/plain"}], "start": 1761615480897, "stop": 1761615480945}, {"name": "轮询中（已等待23.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "77d9d901-e946-431e-974e-3189b35be724-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "14dc342d-20b0-42c2-ad67-8c31dcd0e029-attachment.txt", "type": "text/plain"}], "start": 1761615480945, "stop": 1761615480946}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "44b1bb1d-8da4-492f-bbf2-4b9349bffd1e-attachment.txt", "type": "text/plain"}], "start": 1761615480946, "stop": 1761615480946}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eaf4c553-dedd-466f-a7cc-f661548b8482-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cba39e63-cd61-4eaa-89ab-b53f918d2d95-attachment.txt", "type": "text/plain"}], "start": 1761615482999, "stop": 1761615483052}], "attachments": [{"name": "时区处理", "source": "da6962b1-261e-4b12-a6bd-fc500bd1089f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "61bd2c45-4736-4a49-b2f1-154d0a062662-attachment.txt", "type": "text/plain"}], "start": 1761615482998, "stop": 1761615483052}, {"name": "轮询中（已等待25.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1fb37d2a-3a75-4c91-9c36-a0e1b5826c6f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2af95bf0-7117-46e7-8c84-a3916ba8f982-attachment.txt", "type": "text/plain"}], "start": 1761615483052, "stop": 1761615483053}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fda7c57d-8215-4a1a-a9b5-e1205bbe1ba0-attachment.txt", "type": "text/plain"}], "start": 1761615483053, "stop": 1761615483053}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ed408fdb-a5c9-4302-83f7-c4cbea8fd431-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "338ab89b-0317-456c-81d0-a7edddf48718-attachment.txt", "type": "text/plain"}], "start": 1761615485107, "stop": 1761615485154}], "attachments": [{"name": "时区处理", "source": "8c3baeb3-ece5-43c0-aacb-b2093c08cb72-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7e490d45-b0c3-4d0d-b7a1-64b0179f61de-attachment.txt", "type": "text/plain"}], "start": 1761615485106, "stop": 1761615485154}, {"name": "轮询中（已等待27.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0fd21648-3e0d-4f85-9861-79f5011cbdcd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5e69cd17-1227-4929-89b3-878d680c4842-attachment.txt", "type": "text/plain"}], "start": 1761615485154, "stop": 1761615485155}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b1647d30-1639-45dc-bf01-1dffde966133-attachment.txt", "type": "text/plain"}], "start": 1761615485155, "stop": 1761615485155}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bdd490ef-5e63-44da-ac02-9b8e8209518f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e309dd53-dc04-4fd9-b20e-b3abe23547bf-attachment.txt", "type": "text/plain"}], "start": 1761615487211, "stop": 1761615487263}], "attachments": [{"name": "时区处理", "source": "8c6083d1-a91c-4f95-8dc0-8c5227a33fff-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5eed802d-f052-4e7b-9163-86163925b1ff-attachment.txt", "type": "text/plain"}], "start": 1761615487210, "stop": 1761615487263}, {"name": "轮询中（已等待29.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "44998bbd-1ae1-4275-ab82-4ee72a46b48e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3b65c09a-2f31-4000-bfee-5f81cedfcf44-attachment.txt", "type": "text/plain"}], "start": 1761615487263, "stop": 1761615487264}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a4d4bef9-8536-4551-9097-e785f8414555-attachment.txt", "type": "text/plain"}], "start": 1761615487264, "stop": 1761615487264}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "b8fdec01-6298-43ba-bc0c-731f606d2d93-attachment.txt", "type": "text/plain"}], "start": 1761615489271, "stop": 1761615489272}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "88ac1a40-7f4d-4f10-9d67-1b348002a7f9-attachment.json", "type": "application/json"}], "start": 1761615489320, "stop": 1761615489321}], "attachments": [{"name": "执行SQL", "source": "1ac814f2-087d-4163-87a2-ed7a98090931-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ebe70b82-15d8-40da-86f4-e8ae6a6eb65c-attachment.txt", "type": "text/plain"}], "start": 1761615489272, "stop": 1761615489321}], "attachments": [{"name": "时区处理", "source": "5288f0d8-bc84-4479-9c2e-3685a52b6a7b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "aaa8685c-fa69-44a2-8e9d-ea8fdd9c5657-attachment.txt", "type": "text/plain"}], "start": 1761615489272, "stop": 1761615489321}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "91f20fb8-58c0-4991-bed3-03c762ec9dce-attachment.txt", "type": "text/plain"}], "start": 1761615489321, "stop": 1761615489321}], "attachments": [{"name": "执行SQL", "source": "345c97ee-2a23-426d-9b33-7e95af740fd4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "086d5ac8-8215-4059-991d-5b25dfb98ea9-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "dc5ff6ab-f3a7-42c1-8f49-5195f2775d46-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "51fa02de-185d-4ec0-b6ca-f5510a5b4141-attachment.txt", "type": "text/plain"}], "start": 1761615457494, "stop": 1761615489321}], "start": 1761615457493, "stop": 1761615489321}], "attachments": [{"name": "log", "source": "40c8f1d9-44c8-46e6-a453-fd14b52dcb08-attachment.txt", "type": "text/plain"}], "start": 1761615457493, "stop": 1761615489322, "uuid": "904f8ba1-4c61-41ba-8923-93dd45a420c8", "historyId": "47a953360637783934c2fd84ceeb618d", "testCaseId": "47a953360637783934c2fd84ceeb618d", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend12#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景12：复制下单-手数范围0.01-1，总手数0.01"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}