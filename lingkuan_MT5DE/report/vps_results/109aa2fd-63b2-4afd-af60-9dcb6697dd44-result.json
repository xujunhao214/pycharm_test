{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9af7660d-0564-4195-9fc4-9cd5578cb2c2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8c3eed8e-2408-467d-ac35-85826d519425-attachment.txt", "type": "text/plain"}], "start": 1761615386235, "stop": 1761615386285}], "attachments": [{"name": "时区处理", "source": "7dad6ea8-df5c-4395-bd69-465c72a45216-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d1ea56fa-3b15-47cc-b6a4-c0980c22d47a-attachment.txt", "type": "text/plain"}], "start": 1761615386234, "stop": 1761615386285}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cbc1b622-51d6-4289-8aa0-d2c43026846b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d8fa0c7c-e9f6-4b73-8a45-fc8338d40c2e-attachment.txt", "type": "text/plain"}], "start": 1761615386285, "stop": 1761615386285}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "5bd53ba1-23a6-4401-b88b-d92899bb3c5a-attachment.txt", "type": "text/plain"}], "start": 1761615386285, "stop": 1761615386285}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "904a2377-25e1-40d7-8f4d-0c4ab67f07fc-attachment.txt", "type": "text/plain"}], "start": 1761615386285, "stop": 1761615386286}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "dbdbc8a8-1dee-471b-a716-2e6be0c8d009-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1a9708df-b13e-48ca-883e-bec1dce7a60c-attachment.txt", "type": "text/plain"}], "start": 1761615388343, "stop": 1761615388391}], "attachments": [{"name": "时区处理", "source": "b235b0f9-975e-4ad8-bda0-0f07b0e1d1c3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3f1af61c-f072-4c5b-bcf4-23a3257367d4-attachment.txt", "type": "text/plain"}], "start": 1761615388342, "stop": 1761615388391}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f21ed803-eaf7-427d-bf8f-0479ebfc65d0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "da08d388-c868-449a-a083-d46a8b8fd830-attachment.txt", "type": "text/plain"}], "start": 1761615388391, "stop": 1761615388392}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ff36fc97-f492-4af1-a7f3-cf1cba27475b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4a69398e-8247-4da0-9aac-83eb027ab36e-attachment.txt", "type": "text/plain"}], "start": 1761615388392, "stop": 1761615388393}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "04953bec-b089-4015-8795-9ae89fa37e5c-attachment.txt", "type": "text/plain"}], "start": 1761615388393, "stop": 1761615388393}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b9d0f1ac-cf6b-4955-9be3-cb9dba8ac7ab-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ca03e5dc-0923-4691-8353-8f419a6c9b2e-attachment.txt", "type": "text/plain"}], "start": 1761615390443, "stop": 1761615390494}], "attachments": [{"name": "时区处理", "source": "6f9ff20b-a859-4eca-9a37-eb00fd06dd12-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a62a42c8-5bad-4ec4-9da0-5ccd98233f00-attachment.txt", "type": "text/plain"}], "start": 1761615390442, "stop": 1761615390494}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6325480d-121c-4223-a04e-a2d6b023f75d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9a365def-249d-45b3-b847-e16b193b8a14-attachment.txt", "type": "text/plain"}], "start": 1761615390494, "stop": 1761615390495}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "8987cc23-1149-4133-ab53-5fce57d72fb6-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b754d1f7-5971-4421-a682-6d15195f8725-attachment.txt", "type": "text/plain"}], "start": 1761615390495, "stop": 1761615390495}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f6bf868d-245e-4d57-9f7f-a7c865dfd264-attachment.txt", "type": "text/plain"}], "start": 1761615390496, "stop": 1761615390496}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "78ae4410-b55b-473f-a096-e8bd2058d9f9-attachment.json", "type": "application/json"}], "start": 1761615390496, "stop": 1761615390496}], "attachments": [{"name": "执行SQL", "source": "a878b296-ebcc-4f09-be48-6e81f7e58de5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3fd0610c-6f2b-4138-8292-3b39ec941341-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "0bc684ba-914d-4bca-a03b-7e9febad4512-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "69d9754d-1177-4ff7-a453-8a9714b7a989-attachment.txt", "type": "text/plain"}], "start": 1761615386186, "stop": 1761615390496}], "start": 1761615386186, "stop": 1761615390496}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "e9225e89-ec8a-4ad7-8575-5daf12d14f63-attachment.attach", "type": "text/plain"}], "start": 1761615390496, "stop": 1761615390497}], "start": 1761615390496, "stop": 1761615390497}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "65f2b657-3497-45aa-943d-650da4404ae1-attachment.attach", "type": "text/plain"}], "start": 1761615390497, "stop": 1761615390497}], "start": 1761615390497, "stop": 1761615390497}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "43e804ac-0d09-4e0f-9e86-53fad094f736-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "6aef375a-8459-4285-b59a-04d03e7efadb-attachment.attach", "type": "text/plain"}], "start": 1761615390497, "stop": 1761615390498}], "start": 1761615390497, "stop": 1761615390498}], "start": 1761615390496, "stop": 1761615390498}], "attachments": [{"name": "log", "source": "8c469f87-b8b6-4cc6-8f7f-1ff8cb700577-attachment.txt", "type": "text/plain"}], "start": 1761615386186, "stop": 1761615390498, "uuid": "2771b2b2-e3da-4617-8578-f6e700beef81", "historyId": "73e05f0d8f176cd67d8e2a244515b391", "testCaseId": "73e05f0d8f176cd67d8e2a244515b391", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend10#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}