{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x000001DD0EBDFF10>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x000001DD0EC07E20>\ndb_transaction = <pymysql.connections.Connection object at 0x000001DD0EC3D160>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        MT5vps_user_count = var_manager.get_variable(\"MT5vps_user_count\", 0)\n        if MT5vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{MT5vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应MT5vps_user_accounts_2到MT5vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"MT5vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：MT5vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        MT5vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x000001DD0EBDFF10>\ndb_transaction = <pymysql.connections.Connection object at 0x000001DD0EC3D160>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('66938914',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（66938914）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6fcd870b-9ffa-47f8-b1f5-5461f176ca35-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "aa949901-c231-45a9-8abd-8842fe5d67b2-attachment.txt", "type": "text/plain"}], "start": 1761895621609, "stop": 1761895621661}], "attachments": [{"name": "查询条件", "source": "4c68eb13-7875-4c96-a893-23bc78b8d4ef-attachment.txt", "type": "text/plain"}], "start": 1761895621608, "stop": 1761895621661}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4e30b3f7-b2ee-41cd-ad66-2252b2e7a679-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c1d015a1-24e9-4f26-a204-0b64a1e99db7-attachment.txt", "type": "text/plain"}], "start": 1761895621661, "stop": 1761895621663}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0818d0c8-1b50-430f-8bf0-41dedfe95300-attachment.txt", "type": "text/plain"}], "start": 1761895621663, "stop": 1761895621664}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "75213328-9338-4e08-b46b-41e70f42cd2f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "17c2fd5c-b1bf-4a48-84af-42f9c23eea98-attachment.txt", "type": "text/plain"}], "start": 1761895623712, "stop": 1761895623761}], "attachments": [{"name": "查询条件", "source": "5810f9eb-dbdc-4115-b669-cb4de85dfb4e-attachment.txt", "type": "text/plain"}], "start": 1761895623711, "stop": 1761895623761}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c3a43dcd-02e5-425b-968c-7d8c892e4269-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "47635412-c205-4da6-91ba-48a2cb925d2d-attachment.txt", "type": "text/plain"}], "start": 1761895623761, "stop": 1761895623763}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "99e15ac2-3a46-49db-b5d5-0820c5e63529-attachment.txt", "type": "text/plain"}], "start": 1761895623763, "stop": 1761895623763}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9b6a578f-8514-4caf-a24e-f2202844cc3f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "57700ed6-ea91-4503-b7d3-bbb07e1f382d-attachment.txt", "type": "text/plain"}], "start": 1761895625812, "stop": 1761895625861}], "attachments": [{"name": "查询条件", "source": "69d37e27-08fe-4b03-9f0d-3bf35936194f-attachment.txt", "type": "text/plain"}], "start": 1761895625811, "stop": 1761895625861}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "db5567eb-33f6-4e1e-b312-b5bae4519745-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7c8dc82d-4dec-4a1f-beef-ba9d49709853-attachment.txt", "type": "text/plain"}], "start": 1761895625861, "stop": 1761895625862}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c8046934-7469-4e8a-b084-475756c8014e-attachment.txt", "type": "text/plain"}], "start": 1761895625862, "stop": 1761895625862}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d8225a85-6d4a-4033-a0ab-da7504224139-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5ce65c38-5f30-4cc6-b8d4-789ea75d1af2-attachment.txt", "type": "text/plain"}], "start": 1761895627923, "stop": 1761895627971}], "attachments": [{"name": "查询条件", "source": "8f81c697-774d-4dc9-9a0e-bcadeebf0d5c-attachment.txt", "type": "text/plain"}], "start": 1761895627923, "stop": 1761895627971}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4ef05adf-5c2e-4838-a4cc-a70da0aac448-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "dc844a6b-a6d0-4d50-a6e7-b6ec3c4d2a37-attachment.txt", "type": "text/plain"}], "start": 1761895627971, "stop": 1761895627972}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "50437445-ec17-4e87-818c-2d84b5905a71-attachment.txt", "type": "text/plain"}], "start": 1761895627972, "stop": 1761895627973}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c9337c4b-91ed-4b5e-9878-224069a5e607-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ea4b58f1-49bc-4140-bacc-3ebe050c2749-attachment.txt", "type": "text/plain"}], "start": 1761895630027, "stop": 1761895630074}], "attachments": [{"name": "查询条件", "source": "6ab97762-7fef-436e-a18c-9c4c2abd31f0-attachment.txt", "type": "text/plain"}], "start": 1761895630025, "stop": 1761895630074}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "37b6c4c4-7d25-4142-af5e-d4811ba3a562-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "68d700f8-443a-415e-b4d9-e2f75fc869a0-attachment.txt", "type": "text/plain"}], "start": 1761895630074, "stop": 1761895630075}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "113e6d50-d137-443c-8b7a-5826bf5dcc6b-attachment.txt", "type": "text/plain"}], "start": 1761895630075, "stop": 1761895630075}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "53e835ca-3c33-4978-8829-aa3241a1c108-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "812ac42c-ddba-4f36-a9d1-364828c8f97c-attachment.txt", "type": "text/plain"}], "start": 1761895632136, "stop": 1761895632185}], "attachments": [{"name": "查询条件", "source": "a02406ac-efb4-4c99-9d5d-0ec6bd74becd-attachment.txt", "type": "text/plain"}], "start": 1761895632135, "stop": 1761895632185}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "42b6b1a9-c0c6-4098-a9f1-d377dfa06d02-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f70c94c1-1125-4078-9953-dfa40d81b38c-attachment.txt", "type": "text/plain"}], "start": 1761895632185, "stop": 1761895632186}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b402cfff-0618-48e4-82c4-29285a161cad-attachment.txt", "type": "text/plain"}], "start": 1761895632186, "stop": 1761895632186}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1026168e-c10e-4ca6-89bc-fc25c4745a67-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fb0222e0-a415-4e44-9354-05c1bf403310-attachment.txt", "type": "text/plain"}], "start": 1761895634237, "stop": 1761895634286}], "attachments": [{"name": "查询条件", "source": "273a2527-0fda-469a-895e-df6dfcb9742c-attachment.txt", "type": "text/plain"}], "start": 1761895634237, "stop": 1761895634286}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "517fa017-d4e2-48d8-9ccb-661be863e0c0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "dd3c3712-6f8c-43a6-a8d5-1ef7550d6dae-attachment.txt", "type": "text/plain"}], "start": 1761895634286, "stop": 1761895634287}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "08ee3835-07e1-4213-9be4-37aae5d02f09-attachment.txt", "type": "text/plain"}], "start": 1761895634287, "stop": 1761895634287}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6ae92d34-0e4e-4081-9262-3b82a269b379-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "51b94a8e-4866-4eaf-97d4-2838297c242d-attachment.txt", "type": "text/plain"}], "start": 1761895636597, "stop": 1761895636646}], "attachments": [{"name": "查询条件", "source": "04d0aab5-d3dc-4817-bc4b-ceff6f7e5b6e-attachment.txt", "type": "text/plain"}], "start": 1761895636596, "stop": 1761895636646}, {"name": "轮询中（已等待15.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bfecf896-a370-4d5f-9eb1-865d4b6fe3c7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "82a10cc4-e27d-4c83-a14c-3370b74bc23b-attachment.txt", "type": "text/plain"}], "start": 1761895636646, "stop": 1761895636649}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d96c6c83-8ed1-4877-9848-09f0d7c6ae52-attachment.txt", "type": "text/plain"}], "start": 1761895636649, "stop": 1761895636649}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5186f49d-ee7d-4bb4-9721-f590575d7b9f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "66e4d00f-68c1-44be-98f8-f9ac1e7666fb-attachment.txt", "type": "text/plain"}], "start": 1761895638715, "stop": 1761895638957}], "attachments": [{"name": "查询条件", "source": "970a15b5-6c61-4f7b-8ca0-46e7d08770ec-attachment.txt", "type": "text/plain"}], "start": 1761895638714, "stop": 1761895638957}, {"name": "轮询中（已等待17.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "12d1acaf-ce19-453f-b8a1-215bd9734d5f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2aeefb57-9b45-49e9-9883-8d9662e2a71d-attachment.txt", "type": "text/plain"}], "start": 1761895638957, "stop": 1761895638958}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "977bf6d0-ad83-40fd-881e-187da6ce9aa0-attachment.txt", "type": "text/plain"}], "start": 1761895638958, "stop": 1761895638959}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "35f71575-da4c-44c7-88a8-eb8c025c33d0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "674e42fb-fffe-440e-8bf6-531903b24197-attachment.txt", "type": "text/plain"}], "start": 1761895641015, "stop": 1761895641633}], "attachments": [{"name": "查询条件", "source": "6b089ffb-df14-4533-bd21-17595e87cf61-attachment.txt", "type": "text/plain"}], "start": 1761895641014, "stop": 1761895641633}, {"name": "轮询中（已等待20.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "61c74a8c-6062-4e3d-8b33-a7e8064717fd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "413b22ad-6394-44ef-ac80-7126419a5da3-attachment.txt", "type": "text/plain"}], "start": 1761895641633, "stop": 1761895641634}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "f0f3ab63-78d4-47b7-a472-1c4fb6c457a2-attachment.txt", "type": "text/plain"}], "start": 1761895641635, "stop": 1761895641635}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "13df8bdb-ce1f-49fb-983e-48bf95a998ee-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5cf4dd4c-20c1-4007-9034-88b1698f682e-attachment.txt", "type": "text/plain"}], "start": 1761895643693, "stop": 1761895644494}], "attachments": [{"name": "查询条件", "source": "8f93bc6e-e527-4287-82ac-91a98722f9f9-attachment.txt", "type": "text/plain"}], "start": 1761895643691, "stop": 1761895644494}, {"name": "轮询中（已等待22.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9d4be0b5-9893-43af-acfe-ff9e3cd23870-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8a2fd998-f9b0-4b14-8b38-6519ce1fc880-attachment.txt", "type": "text/plain"}], "start": 1761895644494, "stop": 1761895644495}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "510a26e1-af67-4555-a357-e9921d1e6040-attachment.txt", "type": "text/plain"}], "start": 1761895644495, "stop": 1761895644495}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "04d318af-d916-4562-b091-fea249e2f831-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f6a13a81-8334-4376-8edf-1622de4b94af-attachment.txt", "type": "text/plain"}], "start": 1761895646552, "stop": 1761895646618}], "attachments": [{"name": "查询条件", "source": "3314db0f-30d9-4280-be04-f161c7ad09ff-attachment.txt", "type": "text/plain"}], "start": 1761895646551, "stop": 1761895646618}, {"name": "轮询中（已等待25.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2e33b9a5-927b-434e-8bba-9c4cc20fd239-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "77a5cbf3-cc1a-4b8d-9f57-20a243c32cd1-attachment.txt", "type": "text/plain"}], "start": 1761895646619, "stop": 1761895646620}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "212d0abb-592a-4596-a5b2-fe3736c25765-attachment.txt", "type": "text/plain"}], "start": 1761895646620, "stop": 1761895646621}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d155840c-a97a-4a49-aad6-9443fa4cff7c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "aae4a87f-1f0a-4dec-a943-34a803d95631-attachment.txt", "type": "text/plain"}], "start": 1761895648670, "stop": 1761895648724}], "attachments": [{"name": "查询条件", "source": "86dc55c7-3258-4af7-ad29-350a9f5bafad-attachment.txt", "type": "text/plain"}], "start": 1761895648669, "stop": 1761895648724}, {"name": "轮询中（已等待27.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0e73e253-4122-42a9-86db-f4dd02e22317-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "38cf24ca-951d-465c-a4f0-b708b1767b2d-attachment.txt", "type": "text/plain"}], "start": 1761895648724, "stop": 1761895648724}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "135d1265-ce7c-4dcf-b7cb-dd0abaa7fd12-attachment.txt", "type": "text/plain"}], "start": 1761895648725, "stop": 1761895648725}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3648cabb-90e6-4c77-bbbb-f21d90f1b5b8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6f60afd6-502f-47f7-9d92-63783f942bb5-attachment.txt", "type": "text/plain"}], "start": 1761895650782, "stop": 1761895650832}], "attachments": [{"name": "查询条件", "source": "0af0a5ea-030a-4320-8246-663a20f0b108-attachment.txt", "type": "text/plain"}], "start": 1761895650782, "stop": 1761895650832}, {"name": "轮询中（已等待29.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dec08b72-39ff-4267-a18a-64eedf18ad56-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0054e4b3-f70b-4635-b0ed-5d03f53380e3-attachment.txt", "type": "text/plain"}], "start": 1761895650832, "stop": 1761895650834}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "bae3c5ce-4570-4635-8999-64d1f788203f-attachment.txt", "type": "text/plain"}], "start": 1761895650834, "stop": 1761895650834}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "d4e677a8-faa8-40f0-bee7-0c860a9ae5fe-attachment.txt", "type": "text/plain"}], "start": 1761895652835, "stop": 1761895652835}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "d7cd00b6-b7cb-443e-b74a-5b37f15c4302-attachment.json", "type": "application/json"}], "start": 1761895652887, "stop": 1761895652888}], "attachments": [{"name": "执行SQL", "source": "21c4053b-b1d4-4dac-80c1-f43ed937d143-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "62b37428-c1c7-4849-a5b6-dd58db2df925-attachment.txt", "type": "text/plain"}], "start": 1761895652836, "stop": 1761895652888}], "attachments": [{"name": "查询条件", "source": "c4b33237-ba78-491d-9312-8c79a49d614c-attachment.txt", "type": "text/plain"}], "start": 1761895652835, "stop": 1761895652888}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "0b88ed5a-6a11-4612-9519-3de067f3dc5a-attachment.json", "type": "application/json"}], "start": 1761895652888, "stop": 1761895652888}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "82a4efc1-ba02-46fd-8d7c-82da86c13b6c-attachment.txt", "type": "text/plain"}], "start": 1761895652889, "stop": 1761895652889}], "attachments": [{"name": "执行SQL", "source": "e1ac412b-0dad-4adc-a328-c7054aec5c29-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c664ede7-e491-465d-9bfb-182aea1c9d0b-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "ddaccdff-90a8-436e-9b5a-ddc08ca70d8a-attachment.txt", "type": "text/plain"}], "start": 1761895621558, "stop": 1761895652889}], "start": 1761895621558, "stop": 1761895652890}], "attachments": [{"name": "log", "source": "fa34b00d-b8ad-453f-b3b4-89f721031c46-attachment.txt", "type": "text/plain"}], "start": 1761895621558, "stop": 1761895652891, "uuid": "86d1fdb7-8ec0-46e2-aa29-3b1b7e4d21ca", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "66172-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}