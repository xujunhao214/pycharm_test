{"name": "数据库校验-VPS数据-批量新增跟单账号", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x00000280F0063400>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x00000280F0018430>\ndb_transaction = <pymysql.connections.Connection object at 0x00000280F0153730>\n\n    @allure.title(\"数据库校验-VPS数据-批量新增跟单账号\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 校验总用户数（需至少7个，才能取后6个）\n        MT5vps_user_count = var_manager.get_variable(\"MT5vps_user_count\", 0)\n        if MT5vps_user_count < 7:\n            pytest.fail(f\"用户总数需至少为7，当前为{MT5vps_user_count}，无法提取后6个数据进行校验\")\n    \n        # 2. 提取后6个账号（对应MT5vps_user_accounts_2到MT5vps_user_accounts_7）\n        all_accounts = []\n        for i in range(2, 8):  # 直接指定取第2到第7个账号（共6个）\n            account = var_manager.get_variable(f\"MT5vps_user_accounts_{i}\")\n            if not account:\n                pytest.fail(f\"未找到第{i}个账号（变量：MT5vps_user_accounts_{i}）\")\n            all_accounts.append(account)\n        print(f\"将校验的后6个账号：{all_accounts}\")\n    \n        # 3. 初始化ID列表和计数器\n        all_ids = []\n        MT5vps_addslave_count = 0\n    \n        # 4. 逐个校验后6个账号的数据库记录\n        for idx, account in enumerate(all_accounts, 1):  # idx从1开始（1-6，对应6个账号）\n            with allure.step(f\"验证第{idx}个账号（{account}）的数据库记录\"):\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (account,)\n    \n                # 调用轮询等待方法（带时间范围过滤）\n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n\ntest_vps\\test_create_scene.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_create_scene.TestCreate_Scene object at 0x00000280F0063400>\ndb_transaction = <pymysql.connections.Connection object at 0x00000280F0153730>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('66938914',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（66938914）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_create_scene.py\", line 172, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2154c889-721c-476b-8328-8e18e930e407-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8196ef38-5ba8-49ce-998a-884283752094-attachment.txt", "type": "text/plain"}], "start": 1762333298955, "stop": 1762333299008}], "attachments": [{"name": "查询条件", "source": "59af8611-7023-45fa-835a-5cfd61dab650-attachment.txt", "type": "text/plain"}], "start": 1762333298955, "stop": 1762333299008}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4a79cc9b-6a8b-4d8b-a9c0-128dc2367603-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "80844d96-fee4-4bb5-8ab7-31154a87286a-attachment.txt", "type": "text/plain"}], "start": 1762333299008, "stop": 1762333299009}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c203260b-f0b4-4fea-a05b-384b53845da0-attachment.txt", "type": "text/plain"}], "start": 1762333299009, "stop": 1762333299009}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "26c9fe5c-651a-477d-9eb1-390050f9d494-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ba547532-27e0-4d54-8259-99e659fc09d4-attachment.txt", "type": "text/plain"}], "start": 1762333301057, "stop": 1762333301111}], "attachments": [{"name": "查询条件", "source": "540101b8-9a68-4fa2-9b93-f5f3cc2acea9-attachment.txt", "type": "text/plain"}], "start": 1762333301057, "stop": 1762333301111}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "84e5fa4e-0fb7-4e37-b241-847b98433360-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6790a68d-73e3-40d6-85e3-7fac1ba1610b-attachment.txt", "type": "text/plain"}], "start": 1762333301111, "stop": 1762333301111}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "20a39d2e-6c6d-47ea-8b2a-ee3f4b629d04-attachment.txt", "type": "text/plain"}], "start": 1762333301112, "stop": 1762333301112}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "09348b6c-963d-4c0e-95ee-72ca014e7307-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e0b5d29c-50ae-4f64-ab80-a92b93d83b3e-attachment.txt", "type": "text/plain"}], "start": 1762333303161, "stop": 1762333303211}], "attachments": [{"name": "查询条件", "source": "5bb81ad5-aec8-45f0-941c-dae6cfb77985-attachment.txt", "type": "text/plain"}], "start": 1762333303161, "stop": 1762333303211}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "00f1c410-101f-4261-b1aa-1d08f889d5d0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8fbbad35-eff9-4777-a9b5-73e02946d521-attachment.txt", "type": "text/plain"}], "start": 1762333303211, "stop": 1762333303212}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "cb641225-d8ad-4c47-bb7b-07123bebb4df-attachment.txt", "type": "text/plain"}], "start": 1762333303212, "stop": 1762333303212}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6d06eb3b-3980-4302-b633-c13d5409e833-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d90ceb7e-00e5-4c43-8c74-313be4e0e63a-attachment.txt", "type": "text/plain"}], "start": 1762333305278, "stop": 1762333305329}], "attachments": [{"name": "查询条件", "source": "8188cf33-1246-4a4d-b2b4-99c4a16c26a1-attachment.txt", "type": "text/plain"}], "start": 1762333305277, "stop": 1762333305329}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "05129c6d-424f-43f4-a2f2-4973316a8785-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "16fdbbc2-380b-465b-ae1e-ca4b2578108f-attachment.txt", "type": "text/plain"}], "start": 1762333305329, "stop": 1762333305330}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "01ba4ae8-6ad2-4257-9725-da11f3b14f26-attachment.txt", "type": "text/plain"}], "start": 1762333305330, "stop": 1762333305331}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "93b74d43-8f23-4347-accf-d9334eaed056-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "45178939-01ef-4c85-bb6e-024ead1636b2-attachment.txt", "type": "text/plain"}], "start": 1762333307397, "stop": 1762333307455}], "attachments": [{"name": "查询条件", "source": "58a1f915-043f-4575-bcc4-896715a1457f-attachment.txt", "type": "text/plain"}], "start": 1762333307397, "stop": 1762333307455}, {"name": "轮询中（已等待8.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fcd47299-b8dc-411d-b66f-b47e970537ac-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bc91eadc-1b02-41df-bc45-84858b6529d6-attachment.txt", "type": "text/plain"}], "start": 1762333307455, "stop": 1762333307456}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1d10e0b0-16bd-497b-86e4-5576dd7af4e9-attachment.txt", "type": "text/plain"}], "start": 1762333307456, "stop": 1762333307456}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "749e143f-c67c-473d-aa2d-4adc45ffb1e1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "dfaf66d3-c1c5-49c7-8dd7-8b1678e29eae-attachment.txt", "type": "text/plain"}], "start": 1762333309512, "stop": 1762333309565}], "attachments": [{"name": "查询条件", "source": "20ef76b0-e08c-4eed-b84b-3bb494bcfd66-attachment.txt", "type": "text/plain"}], "start": 1762333309512, "stop": 1762333309565}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "54ad2e99-790f-4f42-a4c4-7e57195269b6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e2a4843b-3d9e-450f-bdd2-67ea17bdb54e-attachment.txt", "type": "text/plain"}], "start": 1762333309565, "stop": 1762333309565}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "7e612fc6-3284-4b81-9a7c-e3c80192c106-attachment.txt", "type": "text/plain"}], "start": 1762333309565, "stop": 1762333309566}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "11f89560-35a9-42db-a74b-a2c686621e7e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "dc98c1fc-c441-4cdc-b0bd-01653edc4b18-attachment.txt", "type": "text/plain"}], "start": 1762333311628, "stop": 1762333311678}], "attachments": [{"name": "查询条件", "source": "c3ae877f-e4a4-462b-b595-5f29546711a1-attachment.txt", "type": "text/plain"}], "start": 1762333311627, "stop": 1762333311678}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4831715f-4401-4876-bbd3-55211410a0e5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6abfef85-965c-40c4-be2a-a5b2cf6e123d-attachment.txt", "type": "text/plain"}], "start": 1762333311678, "stop": 1762333311680}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "cad55c1c-7cc4-45cf-af73-284498eba7fe-attachment.txt", "type": "text/plain"}], "start": 1762333311680, "stop": 1762333311680}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "cd3f7490-ab34-4494-a761-b92c9d6abd8b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b22f901f-3c32-478c-ae01-e46e244599a4-attachment.txt", "type": "text/plain"}], "start": 1762333313728, "stop": 1762333313778}], "attachments": [{"name": "查询条件", "source": "b5c07e92-9fd5-4281-9414-61dea8cbcc31-attachment.txt", "type": "text/plain"}], "start": 1762333313728, "stop": 1762333313778}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2113d7de-59c1-4978-a4c4-ac677cf0e00c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "12ac35ca-8450-4207-90ff-80cdcab11398-attachment.txt", "type": "text/plain"}], "start": 1762333313778, "stop": 1762333313779}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0079e9d2-4be8-4dc0-9934-1a8b9583fee4-attachment.txt", "type": "text/plain"}], "start": 1762333313779, "stop": 1762333313779}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a3b3f046-ebc1-43b0-a8dc-5e953c5978bc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "98d68111-ca5f-4ec7-a729-a7d741c621fd-attachment.txt", "type": "text/plain"}], "start": 1762333315832, "stop": 1762333315881}], "attachments": [{"name": "查询条件", "source": "288a12cb-1c72-4fbe-ae47-81cd67e578c7-attachment.txt", "type": "text/plain"}], "start": 1762333315831, "stop": 1762333315881}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2c0a1aa0-cd1e-4335-ad5d-3be730210590-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "238a5011-8900-4a89-91e0-1eafe3c22b55-attachment.txt", "type": "text/plain"}], "start": 1762333315881, "stop": 1762333315882}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "acc6b508-9fb1-4c63-a44f-d959a619e534-attachment.txt", "type": "text/plain"}], "start": 1762333315882, "stop": 1762333315882}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b1c4842c-aa24-4bc0-aa00-c89bfdfb1b4b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4cc49abe-d16b-4c28-af0f-51c68274175b-attachment.txt", "type": "text/plain"}], "start": 1762333317939, "stop": 1762333317990}], "attachments": [{"name": "查询条件", "source": "986786a5-9a6a-4a1d-8ed3-8929c866fd3e-attachment.txt", "type": "text/plain"}], "start": 1762333317938, "stop": 1762333317990}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ac24c111-9008-4de2-a2ff-f166eeac11b3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4fb16e0e-3ee7-42ca-a0c1-b61998a5377e-attachment.txt", "type": "text/plain"}], "start": 1762333317990, "stop": 1762333317991}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2b9935c6-d353-4971-a043-a59869e97856-attachment.txt", "type": "text/plain"}], "start": 1762333317991, "stop": 1762333317991}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "127418b9-806a-4521-a229-1c2419631db8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "13223912-0700-402c-b84a-308d91937e58-attachment.txt", "type": "text/plain"}], "start": 1762333320042, "stop": 1762333320093}], "attachments": [{"name": "查询条件", "source": "c1de93e2-f906-46fc-8eec-a34771e69b6d-attachment.txt", "type": "text/plain"}], "start": 1762333320042, "stop": 1762333320093}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "872d9952-21c4-4616-a482-b21913cb67cc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d0806836-1ef8-46f3-ab40-3ea61e903a8c-attachment.txt", "type": "text/plain"}], "start": 1762333320093, "stop": 1762333320094}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "384c604f-1b21-4885-b3a8-b677219bd280-attachment.txt", "type": "text/plain"}], "start": 1762333320094, "stop": 1762333320094}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7a7cf402-1a73-46cb-9918-3381da839aed-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "466806fe-7dda-4b03-8c27-0e9ab45213fe-attachment.txt", "type": "text/plain"}], "start": 1762333322148, "stop": 1762333322200}], "attachments": [{"name": "查询条件", "source": "f1aba3f9-ee35-4138-af31-53357109c45d-attachment.txt", "type": "text/plain"}], "start": 1762333322148, "stop": 1762333322200}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c9656823-002f-4f20-b453-41b491f5d918-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5ef83983-cb58-4364-9e25-1ffab9f752a1-attachment.txt", "type": "text/plain"}], "start": 1762333322200, "stop": 1762333322201}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ccb98263-cf6a-4db8-8a8f-b103266fa5b3-attachment.txt", "type": "text/plain"}], "start": 1762333322201, "stop": 1762333322201}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "03c91734-d71d-4cf7-bc64-ea8eed966c4f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2e5e6a2a-4c5b-4f4f-8b37-b3fbae7d706d-attachment.txt", "type": "text/plain"}], "start": 1762333324265, "stop": 1762333324322}], "attachments": [{"name": "查询条件", "source": "0cae0238-58ce-4c9b-ae34-d6e7b4f15b42-attachment.txt", "type": "text/plain"}], "start": 1762333324265, "stop": 1762333324322}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e05b8ef5-3393-4de4-a6c4-a55f10342ce1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "16968874-1844-4ca1-9524-f3ffc1cbe2b3-attachment.txt", "type": "text/plain"}], "start": 1762333324322, "stop": 1762333324323}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b01d99b0-35a2-4ce3-8160-0ec90f801aef-attachment.txt", "type": "text/plain"}], "start": 1762333324323, "stop": 1762333324323}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a01b3bf4-74e9-4ece-977c-e23b37ab257e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "61bee0e1-c11e-470f-b758-6e053bfb8f90-attachment.txt", "type": "text/plain"}], "start": 1762333326385, "stop": 1762333326436}], "attachments": [{"name": "查询条件", "source": "587dd620-3efb-44f3-bd33-1c8ca8340bad-attachment.txt", "type": "text/plain"}], "start": 1762333326385, "stop": 1762333326436}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "429a8657-aa83-4b4e-a337-a16d4b3fae2e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "835a01b0-edca-4de3-9ae5-0dc7caa2f90f-attachment.txt", "type": "text/plain"}], "start": 1762333326436, "stop": 1762333326437}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1fb194ee-a04c-454c-82bf-52f286b0e30b-attachment.txt", "type": "text/plain"}], "start": 1762333326437, "stop": 1762333326437}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4ca10171-eff5-432d-8557-bc5a938c7105-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "16914283-2c50-4f0c-b096-859f9b99ef9b-attachment.txt", "type": "text/plain"}], "start": 1762333328495, "stop": 1762333328544}], "attachments": [{"name": "查询条件", "source": "71682790-0352-491f-a74a-5e50c5331a27-attachment.txt", "type": "text/plain"}], "start": 1762333328494, "stop": 1762333328544}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1ac4a1f0-c6ec-411a-8b9c-bff816433007-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "37103bf9-1ee3-4dc3-b31f-71678418efa8-attachment.txt", "type": "text/plain"}], "start": 1762333328544, "stop": 1762333328545}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "46cc680e-0404-4e24-9ac8-3be3e8ac7f3e-attachment.txt", "type": "text/plain"}], "start": 1762333328545, "stop": 1762333328545}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "f6b6fa57-abc0-4147-a936-ac13b6ca926d-attachment.txt", "type": "text/plain"}], "start": 1762333330551, "stop": 1762333330551}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "aae6fe30-2e1d-4b21-8532-1325013a16db-attachment.json", "type": "application/json"}], "start": 1762333330604, "stop": 1762333330605}], "attachments": [{"name": "执行SQL", "source": "bc359c36-3094-4165-9bb8-90c1358540d3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d82ecdf8-4fa1-41f3-967b-eb6032703a0c-attachment.txt", "type": "text/plain"}], "start": 1762333330552, "stop": 1762333330605}], "attachments": [{"name": "查询条件", "source": "61e2c216-3237-4aa0-baf5-6b0b92739100-attachment.txt", "type": "text/plain"}], "start": 1762333330551, "stop": 1762333330605}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "5ab371a8-8888-4b28-88a5-df2cc8f9ff49-attachment.json", "type": "application/json"}], "start": 1762333330605, "stop": 1762333330605}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "2a9f7fa1-ca6b-4530-8191-d519a284eef5-attachment.txt", "type": "text/plain"}], "start": 1762333330605, "stop": 1762333330605}], "attachments": [{"name": "执行SQL", "source": "ab608a0d-bfaf-4033-b366-a4b1f0a41257-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "930d3f5e-6cf6-420b-9735-15e6c75b6f46-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "2b0255a5-387d-4aff-bbfc-a4fd9055109b-attachment.txt", "type": "text/plain"}], "start": 1762333298903, "stop": 1762333330605}], "start": 1762333298903, "stop": 1762333330606}], "attachments": [{"name": "log", "source": "30612cd0-9ee5-4d57-a6f2-fa21a99d36c1-attachment.txt", "type": "text/plain"}], "start": 1762333298903, "stop": 1762333330607, "uuid": "704580d1-8a96-49dc-ab1f-12f766a034d2", "historyId": "5b943886b5c4f05887f323b30339137a", "testCaseId": "5b943886b5c4f05887f323b30339137a", "fullName": "test_vps.test_create_scene.TestCreate_Scene#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "跟单软件看板-VPS数据-批量新增VPS跟单"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_create_scene"}, {"name": "subSuite", "value": "TestCreate_Scene"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "35184-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_create_scene"}]}