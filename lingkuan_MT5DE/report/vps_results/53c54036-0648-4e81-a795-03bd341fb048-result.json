{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend3 object at 0x0000024D508CE610>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x0000024D503C7670>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5042CAF0>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing3\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:1305: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend3 object at 0x0000024D508CE610>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D5042CAF0>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing3'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.01-1，总订单数10\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_vps\\test_vps_ordersend.py\", line 1305, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eef53dff-2da4-421f-9328-fab9116a6013-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1e9c68cc-0823-40f7-802e-0665df386d22-attachment.txt", "type": "text/plain"}], "start": 1761615093422, "stop": 1761615093468}], "attachments": [{"name": "时区处理", "source": "c3642aec-6655-48af-8633-86b0862ce518-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "de756a67-5dbb-44eb-9f0c-611b6d2b8c21-attachment.txt", "type": "text/plain"}], "start": 1761615093421, "stop": 1761615093468}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7b760387-3b93-470c-ac28-6b17d28f9e9f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "beefded6-8ca2-45fb-ae2d-422d1357d86d-attachment.txt", "type": "text/plain"}], "start": 1761615093468, "stop": 1761615093469}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cbdd8173-891e-47f3-8e9c-7f3bdce9b4c3-attachment.txt", "type": "text/plain"}], "start": 1761615093469, "stop": 1761615093469}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4a9a4a01-d37d-4bb8-95ec-6ce12361eea4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "79cdb227-c7cd-4087-bd8d-573ab3e14a54-attachment.txt", "type": "text/plain"}], "start": 1761615095519, "stop": 1761615095567}], "attachments": [{"name": "时区处理", "source": "bb69aa07-d3ff-4ddc-8fb6-1d07224b9f7e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d96e08dd-e863-44d7-bc5e-f320e81b8930-attachment.txt", "type": "text/plain"}], "start": 1761615095518, "stop": 1761615095567}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d8a6a644-8f06-4601-96e3-875ebb75f5a0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "79cd4813-114d-40f8-938c-db263bf5876a-attachment.txt", "type": "text/plain"}], "start": 1761615095567, "stop": 1761615095567}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2ba8adc0-7155-49fd-9e9b-959cecf8c24e-attachment.txt", "type": "text/plain"}], "start": 1761615095567, "stop": 1761615095568}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9ddf46f8-ba63-4003-b498-ea1c5c58fe10-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0e192238-d053-4f70-8696-c4da294aa151-attachment.txt", "type": "text/plain"}], "start": 1761615097621, "stop": 1761615097670}], "attachments": [{"name": "时区处理", "source": "2c7ac164-5b79-4eaa-ac19-b9f7960836ca-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b3eb03fd-1fa1-43b4-985e-583f61483af8-attachment.txt", "type": "text/plain"}], "start": 1761615097620, "stop": 1761615097670}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bacb9425-49dc-4437-8f65-cec75a23413c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b6f6cd21-7c12-458b-b2f0-6930667f3e60-attachment.txt", "type": "text/plain"}], "start": 1761615097670, "stop": 1761615097671}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5723dcb2-c7a8-4a1f-b934-c3d983c8972b-attachment.txt", "type": "text/plain"}], "start": 1761615097671, "stop": 1761615097672}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "023265d7-358b-45ff-87ac-36dd7cc062ce-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2c4dff83-db7a-42f4-8620-634140b8c86d-attachment.txt", "type": "text/plain"}], "start": 1761615099727, "stop": 1761615099777}], "attachments": [{"name": "时区处理", "source": "ecb5e841-b26d-4554-bbf1-7f66988635e9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9c89116a-d2aa-4867-aea2-429388c20f4f-attachment.txt", "type": "text/plain"}], "start": 1761615099726, "stop": 1761615099777}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "431e44bc-ec30-470f-825e-067351b9c9b2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fc9f5051-db33-4d08-9da0-20d7430614eb-attachment.txt", "type": "text/plain"}], "start": 1761615099777, "stop": 1761615099778}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8b039fae-e09e-43fb-acd6-02373fceceb2-attachment.txt", "type": "text/plain"}], "start": 1761615099778, "stop": 1761615099779}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f70cc4ed-bdd8-4513-bdab-f41553283083-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7fd8eb42-596e-4205-b4de-1bfc18d82eaa-attachment.txt", "type": "text/plain"}], "start": 1761615101838, "stop": 1761615101887}], "attachments": [{"name": "时区处理", "source": "6c3fac4a-219e-4f98-af93-ba37e79fb4fc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ec6002ac-6df2-4150-91e0-61ba68883a39-attachment.txt", "type": "text/plain"}], "start": 1761615101837, "stop": 1761615101887}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cc574048-8f46-4f21-bc8d-af5cf5b73145-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f38caa6c-e7b3-4d43-9ca7-c690fad0cce7-attachment.txt", "type": "text/plain"}], "start": 1761615101887, "stop": 1761615101887}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5ca31db3-aed5-4a23-b880-583eaa35c4e7-attachment.txt", "type": "text/plain"}], "start": 1761615101887, "stop": 1761615101888}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "168991cd-2efc-4e0f-95fd-b32b693ab683-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "da91090c-b54f-472e-aa8a-c8fe48395148-attachment.txt", "type": "text/plain"}], "start": 1761615103949, "stop": 1761615103995}], "attachments": [{"name": "时区处理", "source": "3652ce91-99d9-4d5a-a496-eca788ae7a91-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "790ab4ba-b347-47c0-b788-97e29a9c303f-attachment.txt", "type": "text/plain"}], "start": 1761615103948, "stop": 1761615103995}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "de426525-dc3f-4f43-9dd6-b693cd30dfb5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1f23368a-e7fb-4527-8515-0443201eda30-attachment.txt", "type": "text/plain"}], "start": 1761615103995, "stop": 1761615103996}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c61fade0-ef69-4ec5-b382-0213cfbc58ad-attachment.txt", "type": "text/plain"}], "start": 1761615103996, "stop": 1761615103996}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c3b30938-23c7-425c-9c36-9fa952a84944-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5105783d-6516-488b-8f81-e17aefeaf1a9-attachment.txt", "type": "text/plain"}], "start": 1761615106050, "stop": 1761615106115}], "attachments": [{"name": "时区处理", "source": "86deac7f-369e-4c19-a973-5310b0c36355-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f50d761e-220a-44c4-a0dc-555df539a359-attachment.txt", "type": "text/plain"}], "start": 1761615106049, "stop": 1761615106116}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e7eca0fc-27cd-4b22-b43c-ccdc8060ca81-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "db669b96-1126-44fc-8578-6cb6db90a90d-attachment.txt", "type": "text/plain"}], "start": 1761615106116, "stop": 1761615106117}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1d802b86-2bde-418e-a8d4-f350979f60c5-attachment.txt", "type": "text/plain"}], "start": 1761615106117, "stop": 1761615106117}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c5e7b9fc-4de6-4170-9680-919765c0b2ef-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "eef1d016-df8d-4c8e-bf4b-7dcf2e8f6711-attachment.txt", "type": "text/plain"}], "start": 1761615108175, "stop": 1761615108222}], "attachments": [{"name": "时区处理", "source": "3f3adeac-d318-4433-b8c3-d9c9f74a2da6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "775d384d-272d-4c35-8c6e-d8aa3a6de1c4-attachment.txt", "type": "text/plain"}], "start": 1761615108174, "stop": 1761615108222}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "05429b94-da9d-43df-9624-72779ff2e6c7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "85b2a333-9f86-47d7-8f7f-04049d9ef72a-attachment.txt", "type": "text/plain"}], "start": 1761615108222, "stop": 1761615108223}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "150669be-b17a-4160-918f-6006d977c319-attachment.txt", "type": "text/plain"}], "start": 1761615108223, "stop": 1761615108223}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f93b276b-42b6-472b-b219-88b39472a17e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f9acece6-9bf4-4a39-9175-e05f1b542dde-attachment.txt", "type": "text/plain"}], "start": 1761615110282, "stop": 1761615110329}], "attachments": [{"name": "时区处理", "source": "11964fc0-d430-4a17-bccc-9d9f60853f98-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c55e7236-14a0-43e3-a58b-0953d07faf1a-attachment.txt", "type": "text/plain"}], "start": 1761615110281, "stop": 1761615110329}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dcca9715-7035-4df3-8f4b-a14b7eeaafd5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "76286146-2cda-4202-94b1-231960a69c66-attachment.txt", "type": "text/plain"}], "start": 1761615110329, "stop": 1761615110330}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e455d3cd-4099-4044-9d2b-8812145e3993-attachment.txt", "type": "text/plain"}], "start": 1761615110330, "stop": 1761615110331}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "65c02b0e-2a2b-4cd3-87a9-baccabbd8dea-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "802bcebf-9bfc-4b46-b1b2-3cb201c8e9ed-attachment.txt", "type": "text/plain"}], "start": 1761615112381, "stop": 1761615112430}], "attachments": [{"name": "时区处理", "source": "e9d3e160-3898-4172-9246-f7d7bb031eb0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5e4692f7-00c3-48b0-a8c9-1b526cd02659-attachment.txt", "type": "text/plain"}], "start": 1761615112380, "stop": 1761615112430}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2fb79480-b6d3-4003-b0ea-02cdcf361c03-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "38148c2a-4722-44cd-a94d-78b55ec86c08-attachment.txt", "type": "text/plain"}], "start": 1761615112430, "stop": 1761615112431}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "05925559-232a-4106-bb56-3909d142678b-attachment.txt", "type": "text/plain"}], "start": 1761615112431, "stop": 1761615112431}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ffcc7899-5d68-42b6-97a3-695e722867dd-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "60cd596d-66fa-4871-b41f-1f0fa0cbe2b2-attachment.txt", "type": "text/plain"}], "start": 1761615114492, "stop": 1761615114541}], "attachments": [{"name": "时区处理", "source": "98bef07f-0235-43a6-a92a-038288acfe51-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b8a0fd5e-c9aa-411a-8793-3ada1ca7870d-attachment.txt", "type": "text/plain"}], "start": 1761615114491, "stop": 1761615114541}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "61a8e74a-5d10-4317-b55c-7aa7beeeaff1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5f5a868f-e0e9-4f56-b25b-257b8c4d2d7b-attachment.txt", "type": "text/plain"}], "start": 1761615114541, "stop": 1761615114542}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "501bffbe-72a3-4f75-842b-d8adf2ac3424-attachment.txt", "type": "text/plain"}], "start": 1761615114542, "stop": 1761615114543}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f96d6d2b-d808-43a7-9074-8b67b1b8392f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9d26f7f8-54b2-4be8-9864-e8746f4864fd-attachment.txt", "type": "text/plain"}], "start": 1761615116590, "stop": 1761615116639}], "attachments": [{"name": "时区处理", "source": "6c5bac3e-8759-4907-995f-b195a693b21f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "404c2490-b0f7-4de5-8ae4-2a00ee9f7208-attachment.txt", "type": "text/plain"}], "start": 1761615116589, "stop": 1761615116639}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "49677b2a-9f87-4f9a-8226-6d419b77621f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "36c4abfc-36ce-4c0b-98cf-500d356ea809-attachment.txt", "type": "text/plain"}], "start": 1761615116639, "stop": 1761615116640}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "373158b9-12cf-49cb-b5b5-bcded6c73745-attachment.txt", "type": "text/plain"}], "start": 1761615116640, "stop": 1761615116640}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7e811a73-b68c-4f08-a40a-7ca491fa1799-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c19b4e14-7ad3-488c-988e-7ae85ec8908c-attachment.txt", "type": "text/plain"}], "start": 1761615118689, "stop": 1761615118737}], "attachments": [{"name": "时区处理", "source": "0edb641f-ccf8-4822-9cdf-ead6fff4a3f0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f46658c0-9f64-4b8d-82c5-d19acdcfbc1c-attachment.txt", "type": "text/plain"}], "start": 1761615118688, "stop": 1761615118737}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e3a1307f-4a7e-4caa-acae-555cc9a3a518-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "64ebb27c-d7e0-4696-a5c3-71a05564c5a7-attachment.txt", "type": "text/plain"}], "start": 1761615118737, "stop": 1761615118738}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3e52b8ff-e27d-4e96-9f73-914403dbc789-attachment.txt", "type": "text/plain"}], "start": 1761615118738, "stop": 1761615118739}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bd66127b-471b-465f-9546-c029f62f7c88-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7a90f479-a292-44eb-971c-47689235db59-attachment.txt", "type": "text/plain"}], "start": 1761615120797, "stop": 1761615120847}], "attachments": [{"name": "时区处理", "source": "5433cdca-8e23-469b-a625-ba954c12eccc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ba1b8baa-8cc0-41e1-9d94-e7e6912b9be5-attachment.txt", "type": "text/plain"}], "start": 1761615120796, "stop": 1761615120847}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "220a2f62-3d06-4c75-a8e7-ba190782d7c6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b6aa5d87-f40c-4824-a7df-5055231d8079-attachment.txt", "type": "text/plain"}], "start": 1761615120847, "stop": 1761615120847}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "245495ef-b89f-485e-bb94-54b0bd661f4c-attachment.txt", "type": "text/plain"}], "start": 1761615120847, "stop": 1761615120848}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "602ecf54-f82b-4bc5-8a79-a99fd65c13d3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4868acf0-855b-4dbf-afe0-849ff9e1628e-attachment.txt", "type": "text/plain"}], "start": 1761615122904, "stop": 1761615122950}], "attachments": [{"name": "时区处理", "source": "c7999e17-7c78-4590-97ee-64454187c823-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5283267e-02e6-4cad-801b-07fbb174c44f-attachment.txt", "type": "text/plain"}], "start": 1761615122903, "stop": 1761615122950}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "84f74b8e-f3a8-486c-ae24-63eabf76e117-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "86bbec4a-2641-4427-9a62-7cfa06ec2368-attachment.txt", "type": "text/plain"}], "start": 1761615122950, "stop": 1761615122951}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c42abb55-4815-47c9-b39e-262fbb4dcc2e-attachment.txt", "type": "text/plain"}], "start": 1761615122951, "stop": 1761615122952}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "3d1bf7fa-8c44-4f81-b635-4730282af769-attachment.txt", "type": "text/plain"}], "start": 1761615124952, "stop": 1761615124953}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "3a2d12ca-86c7-4855-825c-336bf7f47fb0-attachment.json", "type": "application/json"}], "start": 1761615125000, "stop": 1761615125001}], "attachments": [{"name": "执行SQL", "source": "3ca2c9d4-6e80-4bba-976d-757b3eae7433-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "48bc93e1-8fed-4f6d-af9b-588188ae20c4-attachment.txt", "type": "text/plain"}], "start": 1761615124954, "stop": 1761615125001}], "attachments": [{"name": "时区处理", "source": "8cece09e-f21e-41c0-ae3b-8888f4189ec2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "63e98f65-a863-46b5-9f11-0d3f452005c7-attachment.txt", "type": "text/plain"}], "start": 1761615124953, "stop": 1761615125001}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "be0bdf53-957f-445e-9374-8d44dc73a610-attachment.txt", "type": "text/plain"}], "start": 1761615125001, "stop": 1761615125001}], "attachments": [{"name": "执行SQL", "source": "9bc8d44a-3a09-4ac8-aa0a-a2cb3cc60ee3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "207ee914-6913-44af-9ed6-bb4abb0e84a5-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "addc369f-baf1-498e-99ca-2499e8ee0a4b-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "7a88e862-e39a-40b9-97fe-0d721656ee7a-attachment.txt", "type": "text/plain"}], "start": 1761615093374, "stop": 1761615125001}], "start": 1761615093374, "stop": 1761615125002}], "attachments": [{"name": "log", "source": "d5430a1e-2732-45b0-ac34-a557ef1482c0-attachment.txt", "type": "text/plain"}], "start": 1761615093374, "stop": 1761615125003, "uuid": "584e1598-b0ee-40bc-b0ab-8b965e309965", "historyId": "ed48ba76717c4e8f482ada93e3b0270e", "testCaseId": "ed48ba76717c4e8f482ada93e3b0270e", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend3#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景3：复制下单-手数范围0.01-1，总订单数10"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}