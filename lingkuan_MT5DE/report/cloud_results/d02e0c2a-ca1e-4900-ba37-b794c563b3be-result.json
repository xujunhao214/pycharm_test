{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_MT5DE.test_cloudTrader.test_create.TestCreate_MT5cloudTrader object at 0x00000168AF179220>\nvar_manager = <lingkuan_MT5DE.commons.variable_manager.VariableManager object at 0x00000168AF1A97C0>\ndb_transaction = <pymysql.connections.Connection object at 0x00000168AF28B640>\n\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_MT5cloudTrader = []\n        MT5cloudTrader_user_count = var_manager.get_variable(\"MT5cloudTrader_user_count\")\n        for i in range(2, MT5cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            MT5cloudTrader_account_var_name = f\"MT5cloudTrader_user_accounts_{i}\"\n            MT5cloudTrader_account = var_manager.get_variable(MT5cloudTrader_account_var_name)\n            if not MT5cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{MT5cloudTrader_account_var_name}）\")\n            all_accounts_MT5cloudTrader.append(MT5cloudTrader_account)\n        print(f\"将校验的后9个账号：{all_accounts_MT5cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_MT5cloudTrader = []\n        for idx, MT5cloudTrader_account in enumerate(all_accounts_MT5cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{MT5cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (MT5cloudTrader_account,)\n    \n>               db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n    \n                )\n\ntest_cloudTrader\\test_create.py:268: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5DE.test_cloudTrader.test_create.TestCreate_MT5cloudTrader object at 0x00000168AF179220>\ndb_transaction = <pymysql.connections.Connection object at 0x00000168AF28B640>\nsql = 'SELECT * FROM follow_trader WHERE account = %s', params = ('66938831',)\ntime_field = None, time_range = 1, order_by = 'account ASC', timeout = 30\npoll_interval = 2, stable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:655: TimeoutError"}, "steps": [{"name": "验证第1个账号（66938831）的数据库记录", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\test_cloudTrader\\test_create.py\", line 268, in test_dbimport_addSlave\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5DE\\commons\\api_base.py\", line 655, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d76e5741-c143-419b-b69f-48d6c74c30d6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "445d2459-9e51-462d-a71a-85509e85d657-attachment.txt", "type": "text/plain"}], "start": 1761631926948, "stop": 1761631926996}], "attachments": [{"name": "查询条件", "source": "5f54f835-e95d-4ba0-bbec-e959c2494efb-attachment.txt", "type": "text/plain"}], "start": 1761631926947, "stop": 1761631926996}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ef5f588c-da80-409e-ab36-3f0c10d08e6e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fc221333-098e-48c2-b464-6684f54f2a5e-attachment.txt", "type": "text/plain"}], "start": 1761631926996, "stop": 1761631926997}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "325e30d0-219c-4cb4-b983-25f7f6344533-attachment.txt", "type": "text/plain"}], "start": 1761631926997, "stop": 1761631926997}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1e065915-ec75-4147-8f03-e5f0b7a4f75d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "402dada5-c598-40f5-b333-2fe2e96719d3-attachment.txt", "type": "text/plain"}], "start": 1761631929058, "stop": 1761631929104}], "attachments": [{"name": "查询条件", "source": "ca26ac22-31d3-4d48-9dad-e1f4d94e0c49-attachment.txt", "type": "text/plain"}], "start": 1761631929057, "stop": 1761631929104}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0c3a66fe-2a60-43d6-b96f-51b0f467066e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "87943c11-a43f-4232-a710-15ad6749177b-attachment.txt", "type": "text/plain"}], "start": 1761631929104, "stop": 1761631929105}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "846e70f4-61ea-46d0-a7f1-716260db21b0-attachment.txt", "type": "text/plain"}], "start": 1761631929105, "stop": 1761631929106}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "92708b5d-d2c1-4e97-9daa-0517f5bcc91f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ed788bff-34ef-4cb5-b6f1-55e5382abda9-attachment.txt", "type": "text/plain"}], "start": 1761631931158, "stop": 1761631931206}], "attachments": [{"name": "查询条件", "source": "8a918509-c577-4579-9656-70c2bf87f037-attachment.txt", "type": "text/plain"}], "start": 1761631931157, "stop": 1761631931206}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ff25b51d-b2d3-474c-aea9-cce51fbf76a0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "18f3c8be-f951-4097-9ba0-f172bb3c0e70-attachment.txt", "type": "text/plain"}], "start": 1761631931206, "stop": 1761631931207}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "09a95ebc-4f54-4cf2-a691-a9260cfacd96-attachment.txt", "type": "text/plain"}], "start": 1761631931207, "stop": 1761631931207}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eb67b0b5-c603-4ff4-be7d-8e108246d8cb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ba427799-385e-48d7-a1fe-dd1d103b78a4-attachment.txt", "type": "text/plain"}], "start": 1761631933260, "stop": 1761631933308}], "attachments": [{"name": "查询条件", "source": "cb877555-36e2-4398-b691-278e428568ef-attachment.txt", "type": "text/plain"}], "start": 1761631933260, "stop": 1761631933308}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "051bbcef-97eb-41bd-bf4a-093742527207-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "311a7ce2-528a-41e2-8f76-e05a6aebc247-attachment.txt", "type": "text/plain"}], "start": 1761631933308, "stop": 1761631933308}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e510aaaa-254d-4146-a99a-50ce7f1612bc-attachment.txt", "type": "text/plain"}], "start": 1761631933308, "stop": 1761631933309}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2d776f08-cce5-4f6c-8977-e57150e0fbd4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e8bd338c-471b-43e2-ac30-82a6c894e2ce-attachment.txt", "type": "text/plain"}], "start": 1761631935368, "stop": 1761631935414}], "attachments": [{"name": "查询条件", "source": "3d7fcffc-7b7e-49be-8386-8a57492ef476-attachment.txt", "type": "text/plain"}], "start": 1761631935367, "stop": 1761631935414}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bb937254-db13-48d3-abd5-f54882fa52f7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "52872165-6c0b-4837-abc9-22c81b196a14-attachment.txt", "type": "text/plain"}], "start": 1761631935414, "stop": 1761631935415}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ee600d3b-8adf-4289-ac19-7a15efa7dc5d-attachment.txt", "type": "text/plain"}], "start": 1761631935415, "stop": 1761631935415}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d10f89f9-98a6-4522-a1cd-c5d14ede4831-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b797b90f-faab-4677-ab7a-22aba4e64cc0-attachment.txt", "type": "text/plain"}], "start": 1761631937469, "stop": 1761631937668}], "attachments": [{"name": "查询条件", "source": "6b1cb879-bbce-4040-852d-de3a44e6b450-attachment.txt", "type": "text/plain"}], "start": 1761631937468, "stop": 1761631937668}, {"name": "轮询中（已等待10.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a7f73ad0-308e-4901-9f1e-fcdfe52acfd7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a51fd4bb-814b-4202-a38c-5dcee2595275-attachment.txt", "type": "text/plain"}], "start": 1761631937668, "stop": 1761631937669}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8d5a10c7-176d-4202-b5ab-f4ee37eadfd0-attachment.txt", "type": "text/plain"}], "start": 1761631937669, "stop": 1761631937669}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6be3bde2-b6c0-4710-a5c8-b2be52bad9d5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "495f543b-0a28-4fc9-bb46-e980809ba352-attachment.txt", "type": "text/plain"}], "start": 1761631939720, "stop": 1761631939767}], "attachments": [{"name": "查询条件", "source": "f1919c06-62fb-4975-af30-024db2ebe1b6-attachment.txt", "type": "text/plain"}], "start": 1761631939719, "stop": 1761631939767}, {"name": "轮询中（已等待12.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6e42efa1-d340-4181-9a0a-c92f00320bdf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a91b4611-1b27-43ce-ab35-cfae8374bce0-attachment.txt", "type": "text/plain"}], "start": 1761631939767, "stop": 1761631939768}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "5d61ad3b-5a59-492c-8a42-cc028be4fc22-attachment.txt", "type": "text/plain"}], "start": 1761631939768, "stop": 1761631939768}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4cebf17f-2f98-4493-a8b7-cb3443533bc7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "78f5edc8-500f-4aed-90d9-d6e38652b8ae-attachment.txt", "type": "text/plain"}], "start": 1761631941819, "stop": 1761631941879}], "attachments": [{"name": "查询条件", "source": "ba0a39de-c2b4-4157-bedf-8493943d57fb-attachment.txt", "type": "text/plain"}], "start": 1761631941818, "stop": 1761631941879}, {"name": "轮询中（已等待15.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "debf6895-2962-4386-bb58-83208ced0db6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fb8a37ad-578c-4409-a828-6dabbf98e4dd-attachment.txt", "type": "text/plain"}], "start": 1761631941879, "stop": 1761631941880}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "2998eec6-0a46-4f21-bb6a-5b3ef7171488-attachment.txt", "type": "text/plain"}], "start": 1761631941880, "stop": 1761631941881}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1393d48b-2e68-414b-b6fe-8eabdff874cb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cb3843b7-1bc9-43b8-bb4a-6ca50b561b03-attachment.txt", "type": "text/plain"}], "start": 1761631943938, "stop": 1761631944141}], "attachments": [{"name": "查询条件", "source": "e9ddcabe-c147-4f09-928b-6dd47e748540-attachment.txt", "type": "text/plain"}], "start": 1761631943938, "stop": 1761631944141}, {"name": "轮询中（已等待17.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "aa2c9130-650e-4473-979c-8a2ae7b1c69b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1a19077c-aa3d-4316-90f2-c0b528b98bf6-attachment.txt", "type": "text/plain"}], "start": 1761631944141, "stop": 1761631944141}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "89e13f25-6994-4f94-b660-2867b64ace65-attachment.txt", "type": "text/plain"}], "start": 1761631944141, "stop": 1761631944141}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b28da631-c5a0-4f3d-a073-575c1ea5313a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "51640702-1bf6-4853-bf51-5ff7778f0faa-attachment.txt", "type": "text/plain"}], "start": 1761631946197, "stop": 1761631946244}], "attachments": [{"name": "查询条件", "source": "9ce29527-61e5-41c1-9c7c-f6f995f9f5a8-attachment.txt", "type": "text/plain"}], "start": 1761631946197, "stop": 1761631946244}, {"name": "轮询中（已等待19.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b1e9e84b-de3e-4960-af04-950970bbfebc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d54092dd-c0c7-4cc7-aa15-efe2f9e3dc5c-attachment.txt", "type": "text/plain"}], "start": 1761631946244, "stop": 1761631946245}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "bc71285f-00a6-4ba6-84f5-5c4905d5bfeb-attachment.txt", "type": "text/plain"}], "start": 1761631946245, "stop": 1761631946245}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d381f05d-7bde-40a7-b54f-fd75e7720b7b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9ce07338-22d6-4978-a54d-4de558c05029-attachment.txt", "type": "text/plain"}], "start": 1761631948303, "stop": 1761631948349}], "attachments": [{"name": "查询条件", "source": "2634505b-1c99-4f6c-b4ee-6df898379c52-attachment.txt", "type": "text/plain"}], "start": 1761631948302, "stop": 1761631948349}, {"name": "轮询中（已等待21.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1eb378f8-16c2-4dde-9da9-97c02ad326ce-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e9558168-1b87-4779-8f5f-e07952b6b860-attachment.txt", "type": "text/plain"}], "start": 1761631948349, "stop": 1761631948350}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9b78eec3-ef3e-4a8a-b62f-0fb9c6b4f746-attachment.txt", "type": "text/plain"}], "start": 1761631948350, "stop": 1761631948350}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c8d3e875-91d5-49b8-8198-b0a222824814-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "60decad9-5d8b-4555-a002-5b9be271e553-attachment.txt", "type": "text/plain"}], "start": 1761631950406, "stop": 1761631950453}], "attachments": [{"name": "查询条件", "source": "34c244f0-bf02-49d0-809b-8915ca0fbc24-attachment.txt", "type": "text/plain"}], "start": 1761631950406, "stop": 1761631950453}, {"name": "轮询中（已等待23.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f8dc0abd-efa2-43d7-8e6e-90b4cc0de667-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "697ff1a4-fd79-4058-89eb-206bf8cfd655-attachment.txt", "type": "text/plain"}], "start": 1761631950453, "stop": 1761631950454}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d52ba626-c170-4016-963e-10fdee739047-attachment.txt", "type": "text/plain"}], "start": 1761631950454, "stop": 1761631950454}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f832c88d-5ba3-4542-9871-d637ba1069e6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3fb3f253-07b2-44db-928c-16e41afe3c6b-attachment.txt", "type": "text/plain"}], "start": 1761631952502, "stop": 1761631952550}], "attachments": [{"name": "查询条件", "source": "8343e898-fb3b-4745-958f-0f770ed6440a-attachment.txt", "type": "text/plain"}], "start": 1761631952502, "stop": 1761631952551}, {"name": "轮询中（已等待25.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0e3cf682-3523-47ab-be69-6b5b6f338a9f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fbafc996-251a-462e-a01d-b90ceb3a6a1a-attachment.txt", "type": "text/plain"}], "start": 1761631952551, "stop": 1761631952551}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "9c60fd7a-3e0e-4993-b3c4-a12c13a7f910-attachment.txt", "type": "text/plain"}], "start": 1761631952551, "stop": 1761631952552}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "66cb1dd6-cce6-467f-b861-ea6a834a10ec-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4ec389b2-ce30-4db3-b45f-64a5ad666394-attachment.txt", "type": "text/plain"}], "start": 1761631954606, "stop": 1761631954653}], "attachments": [{"name": "查询条件", "source": "8113575a-42f2-4bdb-8225-f0620e0cee32-attachment.txt", "type": "text/plain"}], "start": 1761631954606, "stop": 1761631954653}, {"name": "轮询中（已等待27.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d6dc086c-fc61-4e9d-81c9-d71afd7cbf61-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "18a06234-b5bf-4051-8073-70ca78b7487e-attachment.txt", "type": "text/plain"}], "start": 1761631954653, "stop": 1761631954654}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4251330d-0d58-4fe7-8d52-f28c82389808-attachment.txt", "type": "text/plain"}], "start": 1761631954654, "stop": 1761631954654}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "44428bdd-f52c-4ab5-a972-759cc690e021-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f0a90f8d-1594-4e45-9dd1-332b698a4801-attachment.txt", "type": "text/plain"}], "start": 1761631956707, "stop": 1761631956755}], "attachments": [{"name": "查询条件", "source": "520768ec-626c-4b07-858e-d817a82bc2c0-attachment.txt", "type": "text/plain"}], "start": 1761631956706, "stop": 1761631956755}, {"name": "轮询中（已等待29.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4316904e-3155-48bd-ae67-168b290f9b28-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0889439b-a206-408f-8429-849feca97090-attachment.txt", "type": "text/plain"}], "start": 1761631956755, "stop": 1761631956756}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "fc4b5048-a3c6-491d-8d42-8a23278073fd-attachment.txt", "type": "text/plain"}], "start": 1761631956756, "stop": 1761631956756}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "873ff498-0a4a-40c0-880c-ce90b8df2510-attachment.txt", "type": "text/plain"}], "start": 1761631958771, "stop": 1761631958771}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "e6206cc0-1a6b-4d40-8ee4-0feea20b9941-attachment.json", "type": "application/json"}], "start": 1761631958830, "stop": 1761631958830}], "attachments": [{"name": "执行SQL", "source": "70b03739-faeb-497e-a46b-3355d85daf45-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a451b487-9acd-4174-bb0c-389ebc038154-attachment.txt", "type": "text/plain"}], "start": 1761631958772, "stop": 1761631958830}], "attachments": [{"name": "查询条件", "source": "40ce953f-781f-4797-b13c-3225a6d1c54e-attachment.txt", "type": "text/plain"}], "start": 1761631958771, "stop": 1761631958830}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "72e65dff-be27-4383-9f41-1275cae5a469-attachment.json", "type": "application/json"}], "start": 1761631958830, "stop": 1761631958831}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "ecd982a1-73d0-4736-b7fb-895833365862-attachment.txt", "type": "text/plain"}], "start": 1761631958831, "stop": 1761631958831}], "attachments": [{"name": "执行SQL", "source": "66c4a78b-0744-4d08-85f4-0281c4bf54ff-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f8ffe95a-52d0-485b-90e8-8294808692b5-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "c9ce5be8-5b2c-4c86-8be3-276670616c14-attachment.txt", "type": "text/plain"}], "start": 1761631926901, "stop": 1761631958831}], "start": 1761631926901, "stop": 1761631958831}], "attachments": [{"name": "log", "source": "171216e6-a390-445b-823c-2ba3126fc0d9-attachment.txt", "type": "text/plain"}], "start": 1761631926901, "stop": 1761631958832, "uuid": "b6b31831-cb53-4efc-8412-e0051be3d3bc", "historyId": "2f6eca20410cff5a72059646b4674ee4", "testCaseId": "2f6eca20410cff5a72059646b4674ee4", "fullName": "test_cloudTrader.test_create.TestCreate_MT5cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_MT5cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54364-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}