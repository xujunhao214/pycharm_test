{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_1028.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x00000249891EC370>\nclass_random_str = 'orli9530'\nvar_manager = <lingkuan_1028.commons.variable_manager.VariableManager object at 0x0000024989064910>\ndb_transaction = <pymysql.connections.Connection object at 0x000002498914E8B0>\n\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, class_random_str, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_cloudTrader = []\n        cloudTrader_user_count = var_manager.get_variable(\"cloudTrader_user_count\")\n        for i in range(2, cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            cloudTrader_account_var_name = f\"cloudTrader_user_accounts_{i}\"\n            cloudTrader_account = var_manager.get_variable(cloudTrader_account_var_name)\n            if not cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{cloudTrader_account_var_name}）\")\n            all_accounts_cloudTrader.append(cloudTrader_account)\n        print(f\"将校验的后9个账号：{all_accounts_cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_cloudTrader = []\n        for idx, cloudTrader_account in enumerate(all_accounts_cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (cloudTrader_account,)\n    \n                db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n    \n                )\n                print(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\")\n    \n                if not db_data:\n                    pytest.fail(f\"账号 {cloudTrader_account} 在主表中未找到记录\")\n    \n                # 保存账号ID并校验状态/净值/订阅表（代码与之前一致）\n                cloudTrader_vps_id = db_data[0][\"id\"]\n                all_ids_cloudTrader.append(cloudTrader_vps_id)\n                var_manager.set_runtime_variable(f\"cloudTrader_vps_ids_{idx}\", cloudTrader_vps_id)\n                print(\n                    f\"账号 {cloudTrader_account} 的ID为：{cloudTrader_vps_id}，已保存到变量 cloudTrader_vps_ids_{idx}\")\n    \n            with allure.step(\"校验账号状态和净值\"):\n                status = db_data[0][\"status\"]\n                assert status == 0, f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\"\n                logging.info(f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\")\n    \n                # euqit = db_data[0][\"euqit\"]\n                # assert euqit > 0, f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\"\n                # logging.info(f\"账号 {cloudTrader_account} 净值异常：预期euqit≠0，实际={euqit}\")\n    \n                # 校验订阅表记录（代码与之前一致）\n                sql = f\"SELECT * FROM follow_trader_subscribe WHERE slave_account = %s\"\n                params = (cloudTrader_account,)\n>               db_sub_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"slave_account ASC\"\n                )\n\ntest_cloudTrader\\test_create.py:299: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_1028.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x00000249891EC370>\ndb_transaction = <pymysql.connections.Connection object at 0x000002498914E8B0>\nsql = 'SELECT * FROM follow_trader_subscribe WHERE slave_account = %s'\nparams = ('300160',), time_field = None, time_range = 3\norder_by = 'slave_account ASC', timeout = 30, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:654: TimeoutError"}, "steps": [{"name": "验证第1个账号（300160）的数据库记录", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3943638f-22e0-43f8-8a29-3d1dae636ee1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d2b1b60d-155d-4f23-b1b7-5b23756fd20a-attachment.txt", "type": "text/plain"}], "start": 1761729543248, "stop": 1761729543299}], "attachments": [{"name": "查询条件", "source": "6033f6e9-0c90-42bb-a295-99cbcc0d069a-attachment.txt", "type": "text/plain"}], "start": 1761729543248, "stop": 1761729543299}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e1341a72-2199-4087-a1d3-b79fbb5f7313-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2839320a-bc0f-441d-8b83-4f0e1ba5ae55-attachment.txt", "type": "text/plain"}], "start": 1761729543299, "stop": 1761729543300}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ae2c9cf1-7996-4b14-92a6-7ddb8ff9cb05-attachment.txt", "type": "text/plain"}], "start": 1761729543300, "stop": 1761729543300}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3fda17bb-33f6-4776-87d1-1925257fa788-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d4a742cb-877d-4a52-9c41-f2f69424e381-attachment.txt", "type": "text/plain"}], "start": 1761729545362, "stop": 1761729545411}], "attachments": [{"name": "查询条件", "source": "e732e62c-0a1a-4d22-ac54-0dedd42090fe-attachment.txt", "type": "text/plain"}], "start": 1761729545361, "stop": 1761729545411}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "22bdcbd7-8d1a-48e9-995c-e0362c724e50-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ca4f7e99-6a03-49e7-9315-78b325e73179-attachment.txt", "type": "text/plain"}], "start": 1761729545411, "stop": 1761729545411}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "23efb596-38f6-470b-a4d8-7a90329f0b45-attachment.txt", "type": "text/plain"}], "start": 1761729545412, "stop": 1761729545412}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "abeb077b-bfce-402a-9b28-21f74b0b3287-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d337ce09-8418-42f9-bb0d-b92100c168ad-attachment.txt", "type": "text/plain"}], "start": 1761729547465, "stop": 1761729547674}], "attachments": [{"name": "查询条件", "source": "bc578a05-9a1b-48d4-9d45-97b9a358e2f3-attachment.txt", "type": "text/plain"}], "start": 1761729547464, "stop": 1761729547674}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3475872b-b37b-445b-b830-00c5bf1fc31c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8c11c8bc-e408-4770-9b22-88bb1284ec42-attachment.txt", "type": "text/plain"}], "start": 1761729547674, "stop": 1761729547675}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "341483f1-a132-4f8a-9fa4-6e3b9927335c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4e1f0796-bd87-4288-aef6-56c81a4910b8-attachment.txt", "type": "text/plain"}], "start": 1761729547675, "stop": 1761729547675}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "af3f24f9-a804-4f6e-983e-94a5adb8f4f7-attachment.txt", "type": "text/plain"}], "start": 1761729547676, "stop": 1761729547676}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "84293d5e-d992-4e78-8847-b1f29ff1ec5c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f32768a1-a49d-45e4-a654-07865724afd4-attachment.txt", "type": "text/plain"}], "start": 1761729549745, "stop": 1761729549794}], "attachments": [{"name": "查询条件", "source": "07d2a33c-783b-4656-b1e2-3afea1c1b961-attachment.txt", "type": "text/plain"}], "start": 1761729549744, "stop": 1761729549794}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bc9204ae-76c6-4daa-89c6-c29b6acf3ad5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "76503708-ecf9-40ca-b474-48108be82ee7-attachment.txt", "type": "text/plain"}], "start": 1761729549794, "stop": 1761729549795}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "124900cd-c860-4035-b610-1e38d12b09a1-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8ffae1fe-a27d-4e6b-b6e8-46429f325f21-attachment.txt", "type": "text/plain"}], "start": 1761729549795, "stop": 1761729549796}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "b619aebc-8aff-4713-af1f-b1ca1c136caf-attachment.txt", "type": "text/plain"}], "start": 1761729549796, "stop": 1761729549796}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1204ddd1-edf2-4f64-84aa-6b905813eca2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "352de5a5-338f-49b1-8945-95a95a78db5a-attachment.txt", "type": "text/plain"}], "start": 1761729551858, "stop": 1761729551907}], "attachments": [{"name": "查询条件", "source": "151feecc-b7df-4539-957e-9a7459c8af8f-attachment.txt", "type": "text/plain"}], "start": 1761729551857, "stop": 1761729551907}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cfc3a9a2-3a45-47c2-ad67-6ac204d6ec60-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b45a18db-a62f-44d4-b05c-bedae186050e-attachment.txt", "type": "text/plain"}], "start": 1761729551908, "stop": 1761729551908}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ad9db02c-c94f-4432-a88d-e2f12b35c206-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "10ad5bf8-62e3-4a0b-af56-50deafc81482-attachment.txt", "type": "text/plain"}], "start": 1761729551909, "stop": 1761729551909}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "a33a89cf-faf4-4a49-9773-93637fd060b7-attachment.txt", "type": "text/plain"}], "start": 1761729551909, "stop": 1761729551910}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "03515715-c5b7-4a43-a480-ff623c57a608-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "55c860f5-8c56-4aba-b2d8-733e078f60c5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "82386f06-0c82-4869-8da5-8adad03ac790-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "617ee2b5-8fda-45bb-813e-cfcc898523a1-attachment.txt", "type": "text/plain"}], "start": 1761729551910, "stop": 1761729551911}], "start": 1761729543201, "stop": 1761729551911}], "start": 1761729543201, "stop": 1761729551912}, {"name": "校验账号状态和净值", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1028\\test_cloudTrader\\test_create.py\", line 299, in test_dbimport_addSlave\n    db_sub_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_1028\\commons\\api_base.py\", line 654, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1028\\commons\\api_base.py\", line 654, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "50608ee8-38ff-4a9e-8148-fa483809b5a1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4aa48eb9-bd9a-4836-b394-d00f447a5bdd-attachment.txt", "type": "text/plain"}], "start": 1761729551960, "stop": 1761729552010}], "attachments": [{"name": "查询条件", "source": "24f1e047-4606-42ec-93a5-8649799b0a04-attachment.txt", "type": "text/plain"}], "start": 1761729551960, "stop": 1761729552010}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5bee4674-fbfb-4a45-976a-bbdd5583ab54-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b2864950-1dce-4522-a9b9-27ad0081daf7-attachment.txt", "type": "text/plain"}], "start": 1761729552010, "stop": 1761729552010}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "caea11b3-eee2-46ad-9173-85a5c462ba56-attachment.txt", "type": "text/plain"}], "start": 1761729552010, "stop": 1761729552011}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "cd1657a1-6ed5-4c04-a9b6-96a291da2f88-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0980ac67-d5ac-4311-b330-504f64f3fbdc-attachment.txt", "type": "text/plain"}], "start": 1761729554061, "stop": 1761729554111}], "attachments": [{"name": "查询条件", "source": "ba695755-9ed2-41c7-9ac1-75c9e480cd36-attachment.txt", "type": "text/plain"}], "start": 1761729554060, "stop": 1761729554111}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "40dccc5f-93d5-441e-a1a8-fb4cbbe479fb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0dab6efb-b98d-4c58-9ce4-e47cbf793d40-attachment.txt", "type": "text/plain"}], "start": 1761729554111, "stop": 1761729554112}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c9f9a565-8a4a-4ef9-a11f-cdc11d96271a-attachment.txt", "type": "text/plain"}], "start": 1761729554112, "stop": 1761729554113}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "73c4b5ee-ac86-42e7-b46f-576e5bee11bf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "403d195d-724e-473e-88bb-611967c2b53e-attachment.txt", "type": "text/plain"}], "start": 1761729556162, "stop": 1761729556210}], "attachments": [{"name": "查询条件", "source": "a6da3858-9a8d-42c4-9671-2c0380e417f8-attachment.txt", "type": "text/plain"}], "start": 1761729556160, "stop": 1761729556210}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0f38e769-7a86-4a96-bdd8-fe3baf3d50f4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5f4a04b0-d623-49ad-b094-c43fc2891897-attachment.txt", "type": "text/plain"}], "start": 1761729556210, "stop": 1761729556211}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "e7c951a9-a6b8-4877-9327-c8e580ef4394-attachment.txt", "type": "text/plain"}], "start": 1761729556211, "stop": 1761729556211}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2259c1d0-f727-4cda-88a6-48c6466947f9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "47f7c424-54ff-40fc-9afa-ea58842f89e9-attachment.txt", "type": "text/plain"}], "start": 1761729558272, "stop": 1761729558478}], "attachments": [{"name": "查询条件", "source": "20fd3967-3445-4bb8-995a-d9c1c99d676e-attachment.txt", "type": "text/plain"}], "start": 1761729558272, "stop": 1761729558478}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "081e5fc2-4925-4ec0-ab17-a5ca79ebea81-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6f3fb12f-85d8-40bf-8865-3e4f54d83990-attachment.txt", "type": "text/plain"}], "start": 1761729558478, "stop": 1761729558479}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ff1e6959-5cbe-456d-8525-c3bbad6a9567-attachment.txt", "type": "text/plain"}], "start": 1761729558479, "stop": 1761729558479}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "530f51a8-539b-4736-a093-c33fcbdb3dd5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "251c9ff3-0a99-4c67-8bf1-491ffa6395e9-attachment.txt", "type": "text/plain"}], "start": 1761729560541, "stop": 1761729560591}], "attachments": [{"name": "查询条件", "source": "adffaa8b-1332-42b5-8d67-ae1b09d5a51a-attachment.txt", "type": "text/plain"}], "start": 1761729560540, "stop": 1761729560591}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "15551e89-f5cc-404a-af4e-b8e0f670b1b2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "299730fb-c5f5-4fbc-80b8-425bd92cd5ad-attachment.txt", "type": "text/plain"}], "start": 1761729560591, "stop": 1761729560593}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "bf879b13-8a62-4e3e-8df7-93202df196bd-attachment.txt", "type": "text/plain"}], "start": 1761729560593, "stop": 1761729560593}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "77c34fe6-d09f-4e48-b6c5-9cadd29923f3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0849947e-97dc-409b-b29a-8b0b4b5b7a37-attachment.txt", "type": "text/plain"}], "start": 1761729562650, "stop": 1761729562697}], "attachments": [{"name": "查询条件", "source": "2ee493f9-2205-43cb-8894-7fa934a4fdf3-attachment.txt", "type": "text/plain"}], "start": 1761729562649, "stop": 1761729562697}, {"name": "轮询中（已等待10.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c28cc9ef-7d26-4ed1-9f1e-eb1d1d1c8de1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "158aecbf-6dcf-45fb-9d15-4e0391fb7618-attachment.txt", "type": "text/plain"}], "start": 1761729562697, "stop": 1761729562698}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "12852a52-6476-4867-ba5e-5027d7800a23-attachment.txt", "type": "text/plain"}], "start": 1761729562698, "stop": 1761729562698}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "894f62c7-5f04-4d66-8e49-9a5ad19e4972-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ac544ca0-ad1b-4812-94ee-0fcf0e627c41-attachment.txt", "type": "text/plain"}], "start": 1761729564775, "stop": 1761729564858}], "attachments": [{"name": "查询条件", "source": "3db55c2d-14df-47a1-97c6-8285793d23c6-attachment.txt", "type": "text/plain"}], "start": 1761729564773, "stop": 1761729564858}, {"name": "轮询中（已等待12.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b0f0bc2b-61e3-43b2-820f-67b8f78b9e2c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bb02e977-fa2d-4768-bf1a-fe8cf2a128d0-attachment.txt", "type": "text/plain"}], "start": 1761729564859, "stop": 1761729564861}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ee1ce18b-4db7-4152-a5eb-b8bba0054582-attachment.txt", "type": "text/plain"}], "start": 1761729564861, "stop": 1761729564862}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1e804b3a-c26c-4ac5-98af-78aa6b7ca5fe-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c19f257c-0879-4a8f-a60b-4bf2471e33f6-attachment.txt", "type": "text/plain"}], "start": 1761729566919, "stop": 1761729566969}], "attachments": [{"name": "查询条件", "source": "a15bf3da-50af-4f9c-bc05-9d33c081db7f-attachment.txt", "type": "text/plain"}], "start": 1761729566918, "stop": 1761729566969}, {"name": "轮询中（已等待15.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "79af3302-78c9-4fb5-9b7b-b6044e9700d6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "41fbd960-78eb-4f48-a05d-d6dffb148650-attachment.txt", "type": "text/plain"}], "start": 1761729566969, "stop": 1761729566970}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "93cab74b-a129-4aee-b79f-dcb4b580c70b-attachment.txt", "type": "text/plain"}], "start": 1761729566970, "stop": 1761729566971}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0f1d8ae9-494c-40b1-b0e6-77b0e909f1d6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a6d03190-8dcd-490d-869c-dc9a1027758f-attachment.txt", "type": "text/plain"}], "start": 1761729569029, "stop": 1761729569078}], "attachments": [{"name": "查询条件", "source": "506af117-f49d-4c50-8cd8-27673b00e265-attachment.txt", "type": "text/plain"}], "start": 1761729569028, "stop": 1761729569078}, {"name": "轮询中（已等待17.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "34876087-2419-478b-b573-558a68a6292a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "988726b4-3d60-457e-9ce8-20875247b5b0-attachment.txt", "type": "text/plain"}], "start": 1761729569078, "stop": 1761729569078}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "80cacdcd-921b-4030-bc82-8081d1ccdc41-attachment.txt", "type": "text/plain"}], "start": 1761729569078, "stop": 1761729569078}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "91155ac7-b9ad-41eb-8b4f-6954fae00ea2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d4db0078-b352-40cb-9b86-d031ed1f9bf3-attachment.txt", "type": "text/plain"}], "start": 1761729571138, "stop": 1761729571190}], "attachments": [{"name": "查询条件", "source": "ef657b8c-e6c3-4b31-bf3a-08ea8007d4e4-attachment.txt", "type": "text/plain"}], "start": 1761729571136, "stop": 1761729571190}, {"name": "轮询中（已等待19.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "598c26da-224f-4fa9-b332-dc2f0c4e44bf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9c4dc7d3-2dcf-4b28-b8b0-728dd634d9c3-attachment.txt", "type": "text/plain"}], "start": 1761729571190, "stop": 1761729571190}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "649952b9-3be7-440a-9b2b-093520856203-attachment.txt", "type": "text/plain"}], "start": 1761729571191, "stop": 1761729571191}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5bf0a4f8-2ea2-4761-a19a-e7e640748f4f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "eb26de91-6f99-4b8e-981d-8d3bb8f414e0-attachment.txt", "type": "text/plain"}], "start": 1761729573244, "stop": 1761729573293}], "attachments": [{"name": "查询条件", "source": "68a24c31-1764-4330-ad5a-96b182921bff-attachment.txt", "type": "text/plain"}], "start": 1761729573243, "stop": 1761729573293}, {"name": "轮询中（已等待21.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "49680c1c-f3e2-4076-bbe5-a9ede4cbb984-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "940273b2-3599-4528-918e-64459a0bcbc5-attachment.txt", "type": "text/plain"}], "start": 1761729573293, "stop": 1761729573293}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "c308599b-77e4-4c88-bd91-36c600c65828-attachment.txt", "type": "text/plain"}], "start": 1761729573294, "stop": 1761729573294}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ba8ff0a8-ca19-4375-8244-133b68eaf106-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c2aa4704-e1a5-4754-aa67-9bab8e3cc4f7-attachment.txt", "type": "text/plain"}], "start": 1761729575349, "stop": 1761729575398}], "attachments": [{"name": "查询条件", "source": "4ae0f68a-c191-41fe-8d21-8455a27215d4-attachment.txt", "type": "text/plain"}], "start": 1761729575349, "stop": 1761729575398}, {"name": "轮询中（已等待23.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9267d31b-d2af-4baf-930d-72c71db3e5e9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1f3f6a5d-8a20-40b9-b526-2055a1bc8ae9-attachment.txt", "type": "text/plain"}], "start": 1761729575398, "stop": 1761729575399}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0c14240e-217f-4725-a417-ce4453484362-attachment.txt", "type": "text/plain"}], "start": 1761729575399, "stop": 1761729575400}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fbe40404-4d85-4387-9650-8e32e42d969d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4f0f33ec-03bc-46aa-a39c-59953eaebfba-attachment.txt", "type": "text/plain"}], "start": 1761729577459, "stop": 1761729577506}], "attachments": [{"name": "查询条件", "source": "91961bee-8f53-4aee-9c87-e32d8c237177-attachment.txt", "type": "text/plain"}], "start": 1761729577458, "stop": 1761729577507}, {"name": "轮询中（已等待25.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a4a9a40d-171e-46af-b85e-07030c004cf6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9b25be2e-c214-4238-880c-2fbbbf4be734-attachment.txt", "type": "text/plain"}], "start": 1761729577507, "stop": 1761729577507}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "3e80eddf-885c-4279-8ce8-830c7d4c1fdb-attachment.txt", "type": "text/plain"}], "start": 1761729577508, "stop": 1761729577508}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "11b8b2c0-8d4e-4f66-b384-c0a2aeb85f54-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0c91673f-492e-4f14-9eb1-ebe5d8937147-attachment.txt", "type": "text/plain"}], "start": 1761729579566, "stop": 1761729579770}], "attachments": [{"name": "查询条件", "source": "700c3848-0e30-492e-9001-2c1755165c77-attachment.txt", "type": "text/plain"}], "start": 1761729579565, "stop": 1761729579770}, {"name": "轮询中（已等待27.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8103cf68-a212-4748-891a-05a14fe76b12-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "63c6aa35-308f-4306-a7bb-0292cd3e13da-attachment.txt", "type": "text/plain"}], "start": 1761729579770, "stop": 1761729579771}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b6f06dd8-359d-4477-b536-9c90e94579b6-attachment.txt", "type": "text/plain"}], "start": 1761729579771, "stop": 1761729579771}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "62639497-e0ea-415f-a284-1233546354a0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0b5e0cff-aea6-4a5f-a5c4-bcdb3067d59a-attachment.txt", "type": "text/plain"}], "start": 1761729581819, "stop": 1761729581867}], "attachments": [{"name": "查询条件", "source": "ab019b39-8f2f-4e5b-abcd-ae33b07302f3-attachment.txt", "type": "text/plain"}], "start": 1761729581818, "stop": 1761729581867}, {"name": "轮询中（已等待30.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "630a1efb-ed8b-4ba8-bae5-6d967fa077db-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "81a94bf4-3548-4ca5-a90e-0ce1ba86cd12-attachment.txt", "type": "text/plain"}], "start": 1761729581867, "stop": 1761729581867}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "46c16ff7-b5d2-47aa-81a5-67e44b913931-attachment.txt", "type": "text/plain"}], "start": 1761729581867, "stop": 1761729581868}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "68be5fe1-62b9-4d6d-8f23-6984e3d2af39-attachment.txt", "type": "text/plain"}], "start": 1761729583875, "stop": 1761729583875}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "630fbc51-8288-49ef-bebd-caba516f5070-attachment.json", "type": "application/json"}], "start": 1761729584083, "stop": 1761729584084}], "attachments": [{"name": "执行SQL", "source": "81a15045-0093-42f3-8178-e793c0c24816-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "94ea0014-f77b-44f2-a951-975248ef0e76-attachment.txt", "type": "text/plain"}], "start": 1761729583876, "stop": 1761729584084}], "attachments": [{"name": "查询条件", "source": "ed07b327-c59f-49e2-abd2-dead197434c5-attachment.txt", "type": "text/plain"}], "start": 1761729583876, "stop": 1761729584084}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "12f35091-15ad-4d38-a97d-1eadd5921880-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "24fe1cd3-6a49-4b1e-b53e-cebf262590b3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7c27cc02-a3a2-4be9-ba7c-239dd1e4837e-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "1a0afc44-7a76-4f7c-ab33-4b72dc2cfe02-attachment.txt", "type": "text/plain"}], "start": 1761729584084, "stop": 1761729584085}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "5cd646c0-6a73-4d55-a998-a4c0754e84b9-attachment.txt", "type": "text/plain"}], "start": 1761729584085, "stop": 1761729584086}], "start": 1761729551912, "stop": 1761729584086}], "start": 1761729551912, "stop": 1761729584086}], "attachments": [{"name": "log", "source": "084448a5-3929-458c-a190-d286b92a375c-attachment.txt", "type": "text/plain"}], "start": 1761729543201, "stop": 1761729584087, "uuid": "46a4abf6-f387-44db-85d8-6e6b8a7cefbc", "historyId": "9096540b4712077bc0bb74ca9894ee36", "testCaseId": "9096540b4712077bc0bb74ca9894ee36", "fullName": "test_cloudTrader.test_create.TestCreate_cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "80344-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}