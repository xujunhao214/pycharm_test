{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.6-1，总手数1\n      2. 校验手数范围限制是否生效，只有一个订单，订单手数大于等于0.6\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确，权重正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484355337, "stop": 1762484355389}], "attachments": [{"name": "时区处理", "source": "a3e2c683-d224-4082-b1f2-861cf1135407-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "106d9191-026a-4251-bd6c-724a7393abaf-attachment.txt", "type": "text/plain"}], "start": 1762484355336, "stop": 1762484355389}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d2995c1d-0e00-4f4d-bdb4-ba3d69f44db7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "33fe54b5-a913-4f68-a941-6e1b082a1b73-attachment.txt", "type": "text/plain"}], "start": 1762484355389, "stop": 1762484355390}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "58fa1d64-9761-4058-ac0a-f0156f7fe75a-attachment.txt", "type": "text/plain"}], "start": 1762484355390, "stop": 1762484355391}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fe393482-e390-4761-b519-81d78392628f-attachment.txt", "type": "text/plain"}], "start": 1762484355391, "stop": 1762484355392}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484357449, "stop": 1762484357502}], "attachments": [{"name": "时区处理", "source": "7015c88b-3e5b-4427-8703-ab09e42f6b15-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e2859f29-5aa6-4f18-a08f-e9abbe0aea14-attachment.txt", "type": "text/plain"}], "start": 1762484357448, "stop": 1762484357502}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d078ec14-9348-4091-b9ac-a48993b16a74-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e62a48e0-8f8b-4d6d-a9a9-f0cce6a6597a-attachment.txt", "type": "text/plain"}], "start": 1762484357502, "stop": 1762484357504}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "a92a0bdc-5266-427f-823a-4acab5d8566f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b1b59bf5-a971-4ab6-8740-43fe8e316f38-attachment.txt", "type": "text/plain"}], "start": 1762484357504, "stop": 1762484357505}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cc2433e8-df59-4ed3-bca5-3f876bdbdd61-attachment.txt", "type": "text/plain"}], "start": 1762484357505, "stop": 1762484357506}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484359561, "stop": 1762484359615}], "attachments": [{"name": "时区处理", "source": "3697b2bf-a54e-4b2a-8a6c-b5976606a449-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3ab23b61-279b-4058-b41e-dc7133a83908-attachment.txt", "type": "text/plain"}], "start": 1762484359560, "stop": 1762484359615}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2cdd7655-6b48-4767-9fcb-b872ffb962db-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e3e8affd-2d5a-484a-adcc-9e3a4934431b-attachment.txt", "type": "text/plain"}], "start": 1762484359615, "stop": 1762484359616}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c8500d81-bdfc-4914-9068-04591885a5c0-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "a553d96b-4d92-490e-a92c-612b3ca23a47-attachment.txt", "type": "text/plain"}], "start": 1762484359616, "stop": 1762484359617}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "7c868ab6-e1b8-427f-b696-767887c97e10-attachment.txt", "type": "text/plain"}], "start": 1762484359617, "stop": 1762484359618}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484361679, "stop": 1762484361731}], "attachments": [{"name": "时区处理", "source": "7fab9c3b-25a0-4841-b358-33916c804e04-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "08a73dc6-41d2-45d6-9cd7-873b1ce240d3-attachment.txt", "type": "text/plain"}], "start": 1762484361677, "stop": 1762484361731}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6113e405-4cc0-4996-a72b-34475ba6ed88-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1a0510b4-def8-4261-922c-fee381c956c1-attachment.txt", "type": "text/plain"}], "start": 1762484361731, "stop": 1762484361732}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "0517f52a-109e-4b9a-8d8d-a8db8945160c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "535f1d77-053b-4289-a738-436bf5fbec38-attachment.txt", "type": "text/plain"}], "start": 1762484361732, "stop": 1762484361732}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f94bbced-82cc-4618-baf9-6cc99ee7b747-attachment.txt", "type": "text/plain"}], "start": 1762484361733, "stop": 1762484361733}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "dc24d1a3-177f-4117-b52c-4135f9c7358d-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "2eae2b37-bce3-4e6f-bf4d-f950ed4b2ea9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "30e42753-b8c1-4459-abeb-a18c3f008ea1-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "e42a61da-f492-472d-ae62-0b051f99f4d7-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "fedf0627-f344-443b-9d26-e4324683df42-attachment.txt", "type": "text/plain"}], "start": 1762484361733, "stop": 1762484361734}], "start": 1762484355288, "stop": 1762484361734}], "start": 1762484355288, "stop": 1762484361734}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "370e46b1-6d7a-47ff-9f0a-aae8ce4b2508-attachment.attach", "type": "text/plain"}], "start": 1762484361734, "stop": 1762484361735}], "start": 1762484361734, "stop": 1762484361735}, {"name": "验证手数范围-开始手数", "status": "passed", "steps": [{"name": "校验: 开始手数应符合预期", "status": "passed", "attachments": [{"name": "开始手数详情", "source": "2de2d715-4a93-4fb8-8594-9c72a5e995f2-attachment.attach", "type": "text/plain"}], "start": 1762484361736, "stop": 1762484361736}], "start": 1762484361735, "stop": 1762484361736}, {"name": "验证手数范围-结束手数", "status": "passed", "steps": [{"name": "校验: 结束手数应符合预期", "status": "passed", "attachments": [{"name": "结束手数详情", "source": "7b00fb11-9c27-4d60-b59d-11198877b50e-attachment.attach", "type": "text/plain"}], "start": 1762484361736, "stop": 1762484361738}], "start": 1762484361736, "stop": 1762484361738}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "2d46a9f1-04d5-481d-9001-a70728087373-attachment.attach", "type": "text/plain"}], "start": 1762484361738, "stop": 1762484361740}], "start": 1762484361738, "stop": 1762484361740}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "84f17103-bf63-48c3-992e-dff8f62c94e4-attachment.attach", "type": "text/plain"}], "start": 1762484361740, "stop": 1762484361741}], "start": 1762484361740, "stop": 1762484361741}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "9b6b7dd7-5546-4a32-9703-fa0fd94c7b5b-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "ef04f691-4ed4-4982-be5d-57d495937903-attachment.attach", "type": "text/plain"}], "start": 1762484361741, "stop": 1762484361742}], "start": 1762484361741, "stop": 1762484361742}], "start": 1762484361734, "stop": 1762484361742}], "attachments": [{"name": "log", "source": "d0bf922a-60b7-4278-921a-1046d095c200-attachment.txt", "type": "text/plain"}], "start": 1762484355288, "stop": 1762484361743, "uuid": "9f9b2555-6068-4075-9fe5-53f74117f85c", "historyId": "d56498e34bd1e3f8ce0f20faf85b5a7a", "testCaseId": "d56498e34bd1e3f8ce0f20faf85b5a7a", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend6#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景6：VPS策略下单-手数范围0.6-1，总手数1"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}