{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484418017, "stop": 1762484418068}], "attachments": [{"name": "时区处理", "source": "64a6dffc-3d94-45ef-a94e-3c9cb9d39ed5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8c7b93b5-a93d-4509-9ac9-8813d6d43208-attachment.txt", "type": "text/plain"}], "start": 1762484418015, "stop": 1762484418068}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f6511a8b-b95f-4c81-ae46-366321984f34-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b62e97d7-87c3-412c-beb0-ff1600ac78ca-attachment.txt", "type": "text/plain"}], "start": 1762484418068, "stop": 1762484418069}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "6774faee-19ff-43c0-bbb5-6196501546e0-attachment.txt", "type": "text/plain"}], "start": 1762484418069, "stop": 1762484418070}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "352ffad3-2c12-41d0-adfb-27233945b3a1-attachment.txt", "type": "text/plain"}], "start": 1762484418070, "stop": 1762484418071}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484420129, "stop": 1762484420178}], "attachments": [{"name": "时区处理", "source": "db1de2cc-66b4-4f49-82f6-97929ca1d36f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b8b0f74a-80c5-4920-9c0e-a313e879e8ab-attachment.txt", "type": "text/plain"}], "start": 1762484420128, "stop": 1762484420178}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "95417a22-d2f1-4aec-8c90-593cab854d74-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b9f46ce8-dc1c-4d4b-9f7c-5ac4fb89dfac-attachment.txt", "type": "text/plain"}], "start": 1762484420178, "stop": 1762484420179}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "afe339ae-885c-4edc-aa25-39ab669c76d7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "e172c1f1-7384-4898-872d-7367b5a7426f-attachment.txt", "type": "text/plain"}], "start": 1762484420179, "stop": 1762484420181}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "819438bf-b5d9-440c-8074-a2aee59b7520-attachment.txt", "type": "text/plain"}], "start": 1762484420181, "stop": 1762484420181}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484422247, "stop": 1762484422301}], "attachments": [{"name": "时区处理", "source": "27757aa2-9756-4eee-8dde-1af0dc35b2d9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "67844880-da6b-48db-97d4-3a2545725d34-attachment.txt", "type": "text/plain"}], "start": 1762484422246, "stop": 1762484422301}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d6c26049-85d5-41a8-8b48-ce9f90ba9f2d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "27fdd7a1-89c8-4201-8885-e0880f1f4bdc-attachment.txt", "type": "text/plain"}], "start": 1762484422301, "stop": 1762484422302}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e8741d06-a15c-4e09-8fbd-cf1d6247c31d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "891adb30-c32f-4dac-a3d4-0f5b47839bc2-attachment.txt", "type": "text/plain"}], "start": 1762484422302, "stop": 1762484422304}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "07a2a555-56d4-439d-83f9-97342b376d20-attachment.txt", "type": "text/plain"}], "start": 1762484422304, "stop": 1762484422304}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "206ac56e-7956-41df-95c1-e32f296e458a-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "905f5dba-fafc-4ebd-842b-f6d0af0cd6c2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6f11f951-224b-426b-ba25-cb11bb6847de-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "78fa6102-f1fb-40ec-a30b-90a2313ea0bc-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "838340b1-32b9-4826-b18d-b5c91d035b8d-attachment.txt", "type": "text/plain"}], "start": 1762484422304, "stop": 1762484422308}], "start": 1762484417968, "stop": 1762484422308}], "start": 1762484417968, "stop": 1762484422308}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "a8fa2ad1-f4a1-4bcf-af03-1de562f4ced8-attachment.attach", "type": "text/plain"}], "start": 1762484422308, "stop": 1762484422309}], "start": 1762484422308, "stop": 1762484422309}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "bbd9ce42-4adb-4f3d-aac8-9aeee0f29b41-attachment.attach", "type": "text/plain"}], "start": 1762484422309, "stop": 1762484422310}], "start": 1762484422309, "stop": 1762484422310}], "start": 1762484422308, "stop": 1762484422310}], "attachments": [{"name": "log", "source": "7fe0fa02-b385-4917-bdc8-519a88db78f6-attachment.txt", "type": "text/plain"}], "start": 1762484417968, "stop": 1762484422310, "uuid": "021b3d6a-0b4f-47eb-8ad6-20564f5c72b6", "historyId": "27bcf97428c75e0f7d7c60198cff9390", "testCaseId": "27bcf97428c75e0f7d7c60198cff9390", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend10#test_dbquery_addsalve_orderSend", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}