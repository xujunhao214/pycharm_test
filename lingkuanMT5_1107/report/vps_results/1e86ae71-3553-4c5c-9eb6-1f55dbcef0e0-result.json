{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501822372, "stop": 1762501822424}], "attachments": [{"name": "时区处理", "source": "615c9031-bf20-4637-bdbc-b2791edd7a91-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "40d54ec6-1171-475e-bd4a-80a53ca7067a-attachment.txt", "type": "text/plain"}], "start": 1762501822371, "stop": 1762501822424}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "810be4dc-d8f1-40a1-8e32-16ab9bdb238c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5324e281-57b6-4884-bb60-edc57c5cd066-attachment.txt", "type": "text/plain"}], "start": 1762501822424, "stop": 1762501822424}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "3ee09c2c-2470-4dd8-872c-121af3590b05-attachment.txt", "type": "text/plain"}], "start": 1762501822424, "stop": 1762501822425}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c27ae26e-5af8-49ee-8564-f6a2573a9550-attachment.txt", "type": "text/plain"}], "start": 1762501822425, "stop": 1762501822425}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501824481, "stop": 1762501824534}], "attachments": [{"name": "时区处理", "source": "af1c3206-6aac-45ce-85c1-131715746613-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "33cde394-ad9e-4f24-bb6f-ba07856f632a-attachment.txt", "type": "text/plain"}], "start": 1762501824480, "stop": 1762501824534}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "53fda20c-85be-4f57-a510-a1327622953c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "88572799-33bd-42d0-8013-d6094f93e162-attachment.txt", "type": "text/plain"}], "start": 1762501824534, "stop": 1762501824535}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6e57a55f-445f-4284-b1e8-1cbe31ae9f5d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "98c84814-aa30-40fc-99a1-c424def37351-attachment.txt", "type": "text/plain"}], "start": 1762501824535, "stop": 1762501824535}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5dbac2f9-78ed-4697-8570-db278a569222-attachment.txt", "type": "text/plain"}], "start": 1762501824535, "stop": 1762501824536}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501826601, "stop": 1762501826686}], "attachments": [{"name": "时区处理", "source": "e62c9a11-b1b1-4817-99e7-4c6632c22dfa-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1c8c8ae6-d3d2-447b-9030-27939ff7b973-attachment.txt", "type": "text/plain"}], "start": 1762501826600, "stop": 1762501826686}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1e1701ba-c3da-484e-ab40-c09bf8cae0bf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1f92a579-f2a7-4cc0-980c-3f2334563717-attachment.txt", "type": "text/plain"}], "start": 1762501826686, "stop": 1762501826687}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ac49d508-6018-432e-8822-691b7d0a4d96-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b010d012-b778-4e60-aa5e-fa4a0f8b0e40-attachment.txt", "type": "text/plain"}], "start": 1762501826687, "stop": 1762501826688}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "e90b7602-027b-4cc6-8003-ed26f123a499-attachment.txt", "type": "text/plain"}], "start": 1762501826688, "stop": 1762501826688}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501828746, "stop": 1762501828800}], "attachments": [{"name": "时区处理", "source": "43eef144-7be9-451d-b24b-c15d518d0826-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d3b4faf4-7c8a-4834-97b3-34071c2e8ea2-attachment.txt", "type": "text/plain"}], "start": 1762501828746, "stop": 1762501828800}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cc012f97-5406-4f0a-866b-f508d41cc718-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "57d60bea-e1f6-423b-b0db-fdfeb74234e4-attachment.txt", "type": "text/plain"}], "start": 1762501828800, "stop": 1762501828801}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c48543ef-9571-4411-ad85-89254cafbb85-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "241ff86e-bd7c-4050-adf2-1445d83bd52d-attachment.txt", "type": "text/plain"}], "start": 1762501828801, "stop": 1762501828801}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "00041e4b-3812-4d97-ad6a-dcdab1060e50-attachment.txt", "type": "text/plain"}], "start": 1762501828801, "stop": 1762501828802}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "66cf5ccd-f34a-4130-b2e3-94a1713078da-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "faa25c47-54c9-4f7e-af75-bc9037a37b7b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2de696be-1edb-4a7c-b4ac-fa06eb85c243-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "11829f2e-6bff-40e2-9bd3-90fd5632a6c0-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "bcb32221-4a9a-46bf-967b-0335a55d5f6a-attachment.txt", "type": "text/plain"}], "start": 1762501828802, "stop": 1762501828802}], "start": 1762501822321, "stop": 1762501828802}], "start": 1762501822321, "stop": 1762501828802}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "678811e7-118f-4f06-87d5-ff6dad95e66b-attachment.attach", "type": "text/plain"}], "start": 1762501828802, "stop": 1762501828803}], "start": 1762501828802, "stop": 1762501828803}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "cd3e1ff9-c133-4f73-896b-843e85cb22e8-attachment.attach", "type": "text/plain"}], "start": 1762501828803, "stop": 1762501828803}], "start": 1762501828803, "stop": 1762501828803}], "start": 1762501828802, "stop": 1762501828803}], "attachments": [{"name": "log", "source": "f80ea654-5602-4184-ba60-6757f4d822fc-attachment.txt", "type": "text/plain"}], "start": 1762501822321, "stop": 1762501828803, "uuid": "327a1cfb-3bad-42f5-b869-3d832c367e94", "historyId": "f471c1983a25ad4070d3b2363a20ebf9", "testCaseId": "f471c1983a25ad4070d3b2363a20ebf9", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "76288-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}