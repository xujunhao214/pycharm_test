{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484430545, "stop": 1762484430595}], "attachments": [{"name": "时区处理", "source": "440f45b9-dde7-4230-a3aa-4a6782d65e64-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5a309c78-2403-49d7-95cc-fd2d632dc063-attachment.txt", "type": "text/plain"}], "start": 1762484430544, "stop": 1762484430595}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "54bbfdbe-ff36-42f6-98d2-261e7876ebb1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4026dc22-f067-46c5-bdcb-da218a1ae58e-attachment.txt", "type": "text/plain"}], "start": 1762484430595, "stop": 1762484430596}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "4ba56b08-0413-4d08-a953-ec7e19967c8d-attachment.txt", "type": "text/plain"}], "start": 1762484430596, "stop": 1762484430597}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ab60a3c6-cad6-427e-8074-e5adf3e90857-attachment.txt", "type": "text/plain"}], "start": 1762484430597, "stop": 1762484430597}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484432662, "stop": 1762484432714}], "attachments": [{"name": "时区处理", "source": "75828d95-2a9f-40b3-b307-9638f7f4b195-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3e45669d-6046-43d3-a555-fb3930f5077f-attachment.txt", "type": "text/plain"}], "start": 1762484432660, "stop": 1762484432714}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "468ad291-b0c5-496e-b4bb-53e3150d170b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c7a7a4ec-9592-4fcc-a431-1c4c05a3683c-attachment.txt", "type": "text/plain"}], "start": 1762484432714, "stop": 1762484432716}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "8897886c-d6d7-40b1-8934-800187c54143-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "625ec2ba-3cb5-48d0-aa8e-e439b4fe3285-attachment.txt", "type": "text/plain"}], "start": 1762484432716, "stop": 1762484432718}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "a2d13b3f-5ed8-4cc3-85ba-ec0ddc8f13ff-attachment.txt", "type": "text/plain"}], "start": 1762484432718, "stop": 1762484432719}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484434779, "stop": 1762484434830}], "attachments": [{"name": "时区处理", "source": "37da2253-e792-4da2-acde-c849f987138e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ec7d58f5-3340-4dae-8d89-024aa110cd70-attachment.txt", "type": "text/plain"}], "start": 1762484434777, "stop": 1762484434830}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "75b9f799-1d47-483c-bfad-3a8129819b26-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "67b7fa1d-4006-454e-ac47-02ccb61908e3-attachment.txt", "type": "text/plain"}], "start": 1762484434830, "stop": 1762484434831}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5ca2ab1c-2a1f-42d2-88bb-9cbe94164a2b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6a630113-6d70-456c-a540-5a07da7ef6c3-attachment.txt", "type": "text/plain"}], "start": 1762484434831, "stop": 1762484434833}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7f5903e4-aaba-4278-82ab-d468df87dedf-attachment.txt", "type": "text/plain"}], "start": 1762484434833, "stop": 1762484434833}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "032d30db-ecb9-4bcd-853c-98695d110ceb-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "a0f9b569-dfb6-4b83-b161-100415e4e504-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "75a49a48-799c-4e44-9c3f-cd42ad70ca2b-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "a9122420-5aed-4cff-86c4-dd5eab933bfd-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "60761747-30e0-4fec-9101-964f0bad0958-attachment.txt", "type": "text/plain"}], "start": 1762484434834, "stop": 1762484434837}], "start": 1762484430497, "stop": 1762484434837}], "start": 1762484430497, "stop": 1762484434837}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "88f9aba3-999d-4f08-8536-72c3ae9ce974-attachment.attach", "type": "text/plain"}], "start": 1762484434837, "stop": 1762484434838}], "start": 1762484434837, "stop": 1762484434838}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "83fb6999-5767-4f13-b805-bcb84125f27c-attachment.attach", "type": "text/plain"}], "start": 1762484434838, "stop": 1762484434839}], "start": 1762484434838, "stop": 1762484434840}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "0b2e7508-e5a2-4d7d-b957-b9f657623cde-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "e27b1bbc-3450-4344-b0cc-278b422b705c-attachment.attach", "type": "text/plain"}], "start": 1762484434840, "stop": 1762484434841}], "start": 1762484434840, "stop": 1762484434841}], "start": 1762484434837, "stop": 1762484434841}], "attachments": [{"name": "log", "source": "105e2034-76ad-4611-89c6-90b76397fcd8-attachment.txt", "type": "text/plain"}], "start": 1762484430497, "stop": 1762484434841, "uuid": "cbbfa40c-5979-4bfe-90e4-7605be498114", "historyId": "7bcdf3a2637ee6af201fe8587bd7976c", "testCaseId": "7bcdf3a2637ee6af201fe8587bd7976c", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend10#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}