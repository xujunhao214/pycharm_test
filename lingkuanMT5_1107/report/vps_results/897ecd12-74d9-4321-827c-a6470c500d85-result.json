{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484445169, "stop": 1762484445224}], "attachments": [{"name": "时区处理", "source": "0b40d5fa-3a52-4eeb-adca-2b4d6e576376-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1ec93f12-e191-4846-953f-c08cb223257a-attachment.txt", "type": "text/plain"}], "start": 1762484445169, "stop": 1762484445224}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "91f6414d-be41-4445-8cdb-b396342f209f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1d610330-bff5-40dc-b6c9-cf09574a1f44-attachment.txt", "type": "text/plain"}], "start": 1762484445224, "stop": 1762484445226}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "7998df32-73cd-4bf9-8389-9f6488f31a9f-attachment.txt", "type": "text/plain"}], "start": 1762484445226, "stop": 1762484445226}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8aec4328-9fab-4c67-93ff-05033c4c41ff-attachment.txt", "type": "text/plain"}], "start": 1762484445226, "stop": 1762484445226}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484447292, "stop": 1762484447343}], "attachments": [{"name": "时区处理", "source": "5f3410dd-4b42-4464-a48f-453ed49844a2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "61da5920-6c07-4b8c-a137-f61336d0c1b3-attachment.txt", "type": "text/plain"}], "start": 1762484447292, "stop": 1762484447343}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f5a624e8-e543-49a6-abb7-e7c31dbdab57-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c7181dc3-2885-46ef-a8c4-722222adf062-attachment.txt", "type": "text/plain"}], "start": 1762484447344, "stop": 1762484447344}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "b4ec4c98-27a8-44ed-be1e-dae12c2685c5-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "65d5e12c-3912-4ed8-b845-6707c908c594-attachment.txt", "type": "text/plain"}], "start": 1762484447344, "stop": 1762484447345}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "9fccf765-0e0b-4ad5-886c-8243db66a061-attachment.txt", "type": "text/plain"}], "start": 1762484447345, "stop": 1762484447346}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484449411, "stop": 1762484449466}], "attachments": [{"name": "时区处理", "source": "2ac435bc-5342-4fd8-aa68-78299eb11f3f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e0f1f9e8-0744-49de-98af-ca4821ab25d1-attachment.txt", "type": "text/plain"}], "start": 1762484449410, "stop": 1762484449466}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "92d4c0a7-9046-44bc-899c-cc0db042439e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e3e45095-213d-4239-abd8-f29295694342-attachment.txt", "type": "text/plain"}], "start": 1762484449466, "stop": 1762484449467}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c6bced0a-59de-4cb8-971a-0e5fd8f685c7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "bcaafddb-3085-4618-9f37-3bd81d3c72ad-attachment.txt", "type": "text/plain"}], "start": 1762484449467, "stop": 1762484449468}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "0e94a105-7a36-4477-bac2-31fc9314b4c7-attachment.txt", "type": "text/plain"}], "start": 1762484449468, "stop": 1762484449469}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "6bf6e707-6e29-4ba3-afd8-9b779fcf9434-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "4a14b3c7-e084-46a4-a996-3cbb896f84be-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1bf5768f-4b8c-4b70-a5a6-29f582228fa8-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "d9937e2a-48c3-492d-86c1-b969a629d44b-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "3bed5d12-844c-45a6-96e1-f696827b20c5-attachment.txt", "type": "text/plain"}], "start": 1762484449469, "stop": 1762484449470}], "start": 1762484445117, "stop": 1762484449470}], "start": 1762484445117, "stop": 1762484449470}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "f755a877-42fc-4100-80f3-5aa024c83aec-attachment.attach", "type": "text/plain"}], "start": 1762484449470, "stop": 1762484449471}], "start": 1762484449470, "stop": 1762484449471}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "5c4db543-3210-4e3d-a98a-0f4869559887-attachment.attach", "type": "text/plain"}], "start": 1762484449471, "stop": 1762484449471}], "start": 1762484449471, "stop": 1762484449471}], "start": 1762484449470, "stop": 1762484449471}], "attachments": [{"name": "log", "source": "76e59b93-b917-4022-bbbe-74f4ff6bca34-attachment.txt", "type": "text/plain"}], "start": 1762484445117, "stop": 1762484449472, "uuid": "3ddd1abc-4cab-4a45-a8f8-0d7f7c36f27b", "historyId": "8c42f92c6c7a0d150b5dc797515a4ef2", "testCaseId": "8c42f92c6c7a0d150b5dc797515a4ef2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend11#test_dbquery_addsalve_orderSend", "labels": [{"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}