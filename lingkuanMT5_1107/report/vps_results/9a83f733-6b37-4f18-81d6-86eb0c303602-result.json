{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484438467, "stop": 1762484438517}], "attachments": [{"name": "时区处理", "source": "3cdcab26-0643-499a-9e7c-e7ad4702ccf3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "45abe825-2bb9-4fbd-939b-88ffdfce63f3-attachment.txt", "type": "text/plain"}], "start": 1762484438466, "stop": 1762484438517}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f685bf6e-5077-49e1-a152-8b9bcd7dde00-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ea116e17-2e70-4839-9f83-8eea877fa360-attachment.txt", "type": "text/plain"}], "start": 1762484438517, "stop": 1762484438518}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "035ab917-c926-4d7d-8666-1e042c8d1117-attachment.txt", "type": "text/plain"}], "start": 1762484438518, "stop": 1762484438519}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ac3e764a-cb2b-4235-a5c2-93ac498ae2ef-attachment.txt", "type": "text/plain"}], "start": 1762484438519, "stop": 1762484438519}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484440581, "stop": 1762484440632}], "attachments": [{"name": "时区处理", "source": "099a3d03-13d2-4dbc-9fa6-ea40a00cbc9e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a75ae808-ecfe-4f17-94bc-ece10435c406-attachment.txt", "type": "text/plain"}], "start": 1762484440578, "stop": 1762484440632}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b9fc3365-54f9-41cd-b69c-6bb7ff4f21df-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "354296e1-dbfe-48a5-9d45-0d0b655c7467-attachment.txt", "type": "text/plain"}], "start": 1762484440633, "stop": 1762484440634}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "db8fc87e-9473-48b3-9c5f-337b2ff2b44d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "bac9fe48-c791-4c57-b272-0993b12c2513-attachment.txt", "type": "text/plain"}], "start": 1762484440634, "stop": 1762484440634}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "332613fa-7bf0-4316-b361-621535c55908-attachment.txt", "type": "text/plain"}], "start": 1762484440634, "stop": 1762484440635}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484442692, "stop": 1762484442743}], "attachments": [{"name": "时区处理", "source": "7d3503a1-5970-4d88-bf25-50cfc6b22e24-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "13ed5811-9117-4074-8370-2ef2e4c116ff-attachment.txt", "type": "text/plain"}], "start": 1762484442692, "stop": 1762484442743}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6625aab6-aee6-4f99-9f4d-3a3defe7bfb9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "95362574-d7ee-4487-8627-bf1fef306e61-attachment.txt", "type": "text/plain"}], "start": 1762484442743, "stop": 1762484442745}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "77b6d716-b6c5-4eff-90c0-c925cfee146a-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "35f1a52f-17f8-4d5a-a208-c318e3e4d106-attachment.txt", "type": "text/plain"}], "start": 1762484442745, "stop": 1762484442746}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "95d64082-973c-458d-9c6a-5e4e6996b199-attachment.txt", "type": "text/plain"}], "start": 1762484442746, "stop": 1762484442746}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484444812, "stop": 1762484444865}], "attachments": [{"name": "时区处理", "source": "ee8c1734-475e-450c-9eb2-4becf6b8665f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b4d1b16d-962f-4050-9444-db123fb84f7a-attachment.txt", "type": "text/plain"}], "start": 1762484444810, "stop": 1762484444865}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "578b07ea-5d59-49c5-b3e9-0cd858deea4f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "04fce024-5a69-449f-abda-ef6583a08138-attachment.txt", "type": "text/plain"}], "start": 1762484444865, "stop": 1762484444866}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5f78fdea-96d5-491c-8378-252278e1b406-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "977b5e89-f772-4922-8ac5-bad430d17e93-attachment.txt", "type": "text/plain"}], "start": 1762484444866, "stop": 1762484444867}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "27880fa6-9858-4818-aa4f-31c64fe6eece-attachment.txt", "type": "text/plain"}], "start": 1762484444867, "stop": 1762484444868}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "29e6f124-ba1f-4bd0-85d8-5a8d9c16deb8-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "a5bf730d-958e-471c-87d9-fd2499bbad8d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "166a283a-0a56-435b-9327-e0a1cde29600-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "915ce32a-15c0-4e02-97af-5c2cf2c08306-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "47794cdf-e4ae-474c-b8e2-78dd011061c8-attachment.txt", "type": "text/plain"}], "start": 1762484444868, "stop": 1762484444870}], "start": 1762484438414, "stop": 1762484444870}], "start": 1762484438414, "stop": 1762484444870}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "4436ada2-97e9-484b-b072-cba8af68c80f-attachment.attach", "type": "text/plain"}], "start": 1762484444870, "stop": 1762484444870}], "start": 1762484444870, "stop": 1762484444870}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "16429df0-e84b-43c5-9373-9e0d95e9388a-attachment.attach", "type": "text/plain"}], "start": 1762484444870, "stop": 1762484444871}], "start": 1762484444870, "stop": 1762484444871}], "start": 1762484444870, "stop": 1762484444871}], "attachments": [{"name": "log", "source": "66823c48-a4dc-44ed-92a5-91261cb79b0f-attachment.txt", "type": "text/plain"}], "start": 1762484438414, "stop": 1762484444871, "uuid": "1d3bdeb0-d162-4d4c-b315-5cc06fcdb1cf", "historyId": "0a78685f7291a4036be796935d74306c", "testCaseId": "0a78685f7291a4036be796935d74306c", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend11#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}