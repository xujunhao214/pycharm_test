{"name": "数据库校验-交易平仓-主指令及订单详情数据检查-有订单", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号，跟单方向-正向\n      2. 进行开仓，手数范围：0.1-1，总订单数量4\n      3. 交易下单-跟单账号自己平仓-sell\n      4. 校验平仓的订单数，应该不等于4\n      5. 交易下单-跟单账号自己平仓-buy\n      6. 校验平仓的订单数,等于4\n    - 预期结果：平仓的订单方向功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762928848953, "stop": 1762928849009}], "attachments": [{"name": "时区处理", "source": "f50b6397-615a-4584-8573-5737ee672d25-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d575833b-34f3-4613-a0d2-b5d61fda93ac-attachment.txt", "type": "text/plain"}], "start": 1762928848952, "stop": 1762928849009}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c300cc26-55d4-41a2-a42e-e1798de2c861-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "38177861-3767-471a-9491-ffe92a7dc62c-attachment.txt", "type": "text/plain"}], "start": 1762928849009, "stop": 1762928849011}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "45168ea4-dc41-448a-81ea-1713c9b64cb7-attachment.txt", "type": "text/plain"}], "start": 1762928849011, "stop": 1762928849011}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762928851065, "stop": 1762928851116}], "attachments": [{"name": "时区处理", "source": "764f3caf-ff25-4bfb-9076-bcc57a9834a3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "62e6f807-7b0c-42c7-9780-cf50009a34b5-attachment.txt", "type": "text/plain"}], "start": 1762928851064, "stop": 1762928851116}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "143823b7-e1f9-4121-a025-02df183ba272-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0592291d-c139-490a-8de7-73e47ef6c826-attachment.txt", "type": "text/plain"}], "start": 1762928851116, "stop": 1762928851116}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b55b60bc-ae41-4a32-a833-eb108a88b17c-attachment.txt", "type": "text/plain"}], "start": 1762928851116, "stop": 1762928851117}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762928853175, "stop": 1762928853407}], "attachments": [{"name": "时区处理", "source": "81b9b717-9852-44a1-b230-029256399f3a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4d63d463-76cb-4a2b-9f91-4a00da45b6e3-attachment.txt", "type": "text/plain"}], "start": 1762928853174, "stop": 1762928853407}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "224cff4f-650e-4d67-9d55-acaed53ef390-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a93499e1-36a0-4491-a0cc-9936623839a5-attachment.txt", "type": "text/plain"}], "start": 1762928853407, "stop": 1762928853407}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "928b262d-6ed3-4de2-9ba4-55521f7e1519-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b644af13-df50-4d96-b4fd-2c5a6ed097b0-attachment.txt", "type": "text/plain"}], "start": 1762928853407, "stop": 1762928853408}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "884094d3-8758-4cf8-946e-4bdda02ae05a-attachment.txt", "type": "text/plain"}], "start": 1762928853408, "stop": 1762928853408}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762928855465, "stop": 1762928855517}], "attachments": [{"name": "时区处理", "source": "fc78f164-e440-4bb2-8266-26c19a19979e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4fdd0d98-75a7-47f4-ba8e-ec87f09641a0-attachment.txt", "type": "text/plain"}], "start": 1762928855464, "stop": 1762928855517}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3d070e92-a37e-4418-8c97-dadec06cac9f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d4220baa-ddcc-4d17-b5ef-532f16502be2-attachment.txt", "type": "text/plain"}], "start": 1762928855517, "stop": 1762928855518}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e07a39a6-3b36-4a20-acd5-6f045a4fc81c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "987602f9-35f2-4d1d-9b1b-6f907fc60e67-attachment.txt", "type": "text/plain"}], "start": 1762928855518, "stop": 1762928855518}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9a13ccaf-3b66-4947-b3c9-ac9889c3d96b-attachment.txt", "type": "text/plain"}], "start": 1762928855518, "stop": 1762928855519}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762928857575, "stop": 1762928857627}], "attachments": [{"name": "时区处理", "source": "e51737f6-4084-42cc-aa55-954bb8740da8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6d30a5a2-de86-4fe6-8f29-fafba5fff218-attachment.txt", "type": "text/plain"}], "start": 1762928857574, "stop": 1762928857627}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "edc6a10f-339a-45aa-8b56-89cae7c380e4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "81f05c85-496c-416d-a2c1-19df1b9b047a-attachment.txt", "type": "text/plain"}], "start": 1762928857627, "stop": 1762928857628}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "60bd5091-47b8-4842-a50d-139d5e9e5c35-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4c16f005-a1f0-4d93-b1cf-2886fe6f8709-attachment.txt", "type": "text/plain"}], "start": 1762928857628, "stop": 1762928857629}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "097336bf-c14e-41ab-a045-477bf23e6d01-attachment.txt", "type": "text/plain"}], "start": 1762928857629, "stop": 1762928857630}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762928859686, "stop": 1762928859739}], "attachments": [{"name": "时区处理", "source": "e22fd972-9174-48f2-93ac-5ee88ac23fc2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f8c406f0-fadd-473d-b0d1-569c29f597b7-attachment.txt", "type": "text/plain"}], "start": 1762928859685, "stop": 1762928859739}, {"name": "轮询中（已等待10.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "efe980ed-be7e-41f6-99f6-5073d1fcc6fb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0346be12-161d-4f46-bbb3-45b28ddc48aa-attachment.txt", "type": "text/plain"}], "start": 1762928859739, "stop": 1762928859740}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c8c7f01f-28d1-469c-9d35-b9e13b1819d2-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "801d551f-4f83-41d3-8374-dd5082ecbb14-attachment.txt", "type": "text/plain"}], "start": 1762928859740, "stop": 1762928859740}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "5a74232e-447c-448b-b422-e948ecdcb7e0-attachment.txt", "type": "text/plain"}], "start": 1762928859740, "stop": 1762928859741}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共4条，显示前50条）", "source": "651ffa84-0940-4bae-89cf-3e3dcb26e474-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "3505305c-d243-46c4-a8f8-4e8ecdf31890-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ab4cb1c3-5539-4b3f-85c3-885b05b550bb-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "7d8fd5ba-86c9-43d6-b3f7-8b4ec40f1b91-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "35a60bf8-4741-4583-b8e4-cb637e9b806f-attachment.txt", "type": "text/plain"}], "start": 1762928859741, "stop": 1762928859743}], "start": 1762928848908, "stop": 1762928859743}], "start": 1762928848907, "stop": 1762928859743}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 正常平仓，应该有4个平仓订单", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "34f95cbd-4a26-410b-a4f4-2f7a7c408049-attachment.attach", "type": "text/plain"}], "start": 1762928859743, "stop": 1762928859743}], "start": 1762928859743, "stop": 1762928859743}], "start": 1762928859743, "stop": 1762928859743}], "attachments": [{"name": "log", "source": "7e02bc3c-daf7-4e5e-bc98-b8c85edeed63-attachment.txt", "type": "text/plain"}], "start": 1762928848907, "stop": 1762928859743, "uuid": "6b994a89-b716-47f1-bc6e-f85a8345bb5e", "historyId": "9589e85a3582554aacef922f6b55de6e", "testCaseId": "9589e85a3582554aacef922f6b55de6e", "fullName": "test_vps.test_vps_masOrderClose.TestVPStradingOrders5#test_dbquery_orderSendclose2", "labels": [{"name": "feature", "value": "VPS策略账号交易下单-平仓的功能校验"}, {"name": "story", "value": "场景5：平仓的订单方向功能校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_masOrderClose"}, {"name": "subSuite", "value": "TestVPSMasOrderclose"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "64996-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_masOrderClose"}]}