{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484411259, "stop": 1762484411319}], "attachments": [{"name": "时区处理", "source": "b7228e71-3d2f-4503-897f-4f5117be3f93-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1a0fc763-beea-4c25-b3d0-875821bdd105-attachment.txt", "type": "text/plain"}], "start": 1762484411258, "stop": 1762484411320}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1aa3d70d-9005-4224-982d-ebcf3ea3e901-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9349cc3d-5b41-4ee9-b1bf-5ed44fc0a296-attachment.txt", "type": "text/plain"}], "start": 1762484411320, "stop": 1762484411321}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "397dd6bc-a0fb-4b56-8b7d-471f0064aa94-attachment.txt", "type": "text/plain"}], "start": 1762484411321, "stop": 1762484411322}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7bf090a1-126c-4acd-b59f-c23495271357-attachment.txt", "type": "text/plain"}], "start": 1762484411322, "stop": 1762484411323}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484413379, "stop": 1762484413431}], "attachments": [{"name": "时区处理", "source": "9854f16f-ec52-448d-9127-2f4e16da6490-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7fa8e6e8-466c-4b56-bc34-3d7e88a548f1-attachment.txt", "type": "text/plain"}], "start": 1762484413378, "stop": 1762484413431}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b9cb9b68-c1a0-47da-b991-17c6adb2822d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eef5ef2d-1e99-4c70-8be1-21e36b680ed3-attachment.txt", "type": "text/plain"}], "start": 1762484413431, "stop": 1762484413432}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "7668da70-25ca-4e27-a7c2-5b6a4f083f44-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "7ab98730-0017-421a-8ce9-ef69eb4bc973-attachment.txt", "type": "text/plain"}], "start": 1762484413432, "stop": 1762484413432}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8641cc21-43a7-421e-a709-8dffc9e08eb5-attachment.txt", "type": "text/plain"}], "start": 1762484413432, "stop": 1762484413432}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484415503, "stop": 1762484415562}], "attachments": [{"name": "时区处理", "source": "e5561c50-edd6-428b-a9e4-a02283d5a12a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "49602ad2-8b02-43f4-9776-57bb302321b8-attachment.txt", "type": "text/plain"}], "start": 1762484415502, "stop": 1762484415562}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8d168332-e53c-4e0b-a34c-b41bdc91bd69-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6a72c73e-5caa-4b34-906d-0fa31bc587e0-attachment.txt", "type": "text/plain"}], "start": 1762484415562, "stop": 1762484415563}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ed9ac501-4ec4-4525-b8b9-9f57b25155ae-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "199c0dae-8e22-41f2-ad15-ff606ac80b43-attachment.txt", "type": "text/plain"}], "start": 1762484415563, "stop": 1762484415565}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "5afcd085-5c8f-45a6-9002-bc92492401e4-attachment.txt", "type": "text/plain"}], "start": 1762484415565, "stop": 1762484415565}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484417629, "stop": 1762484417685}], "attachments": [{"name": "时区处理", "source": "2a207c22-993c-4fa8-a74d-49f66cb4b144-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4832c30c-f0f0-4fd9-a7e2-1d38a575e579-attachment.txt", "type": "text/plain"}], "start": 1762484417627, "stop": 1762484417685}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e17421ce-df04-4860-ae76-2358fa7cad50-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2ad05e55-b083-4ad1-a0f9-9a38aba8c91c-attachment.txt", "type": "text/plain"}], "start": 1762484417685, "stop": 1762484417686}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c7144d4e-69e3-48c2-99d4-b660928367ff-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b9988d90-6059-4fb6-b741-f50c80972236-attachment.txt", "type": "text/plain"}], "start": 1762484417687, "stop": 1762484417688}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "22eeaf32-9caa-4023-8c77-257d3594d08d-attachment.txt", "type": "text/plain"}], "start": 1762484417688, "stop": 1762484417689}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "5ffe3f24-ed3e-4e49-aeb4-c9f90c2f6fb8-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "d42d19b2-e60e-47ea-b88d-fb98d30a9c24-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e35071a2-1e51-478a-95ee-8b841f33e98e-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "5a6209cc-6811-4fb0-add2-a9791b23ff01-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "f97753de-55cb-405a-b0da-4c95bd1ff89c-attachment.txt", "type": "text/plain"}], "start": 1762484417689, "stop": 1762484417692}], "start": 1762484411206, "stop": 1762484417692}], "start": 1762484411206, "stop": 1762484417692}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "9dd09657-a17a-404d-b506-8a384a263c80-attachment.attach", "type": "text/plain"}], "start": 1762484417692, "stop": 1762484417693}], "start": 1762484417692, "stop": 1762484417693}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "ccd95ddd-2999-48e3-8935-acab3bc52e9a-attachment.attach", "type": "text/plain"}], "start": 1762484417694, "stop": 1762484417694}], "start": 1762484417693, "stop": 1762484417694}], "start": 1762484417692, "stop": 1762484417694}], "attachments": [{"name": "log", "source": "1a7d3d0d-34dd-4870-9c56-d7e9f5283089-attachment.txt", "type": "text/plain"}], "start": 1762484411206, "stop": 1762484417695, "uuid": "8c85d88c-32b9-4fd7-9dae-440fb29e16b4", "historyId": "ddaea6d4d0b40b636d97751756b9c7a2", "testCaseId": "ddaea6d4d0b40b636d97751756b9c7a2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend10#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}