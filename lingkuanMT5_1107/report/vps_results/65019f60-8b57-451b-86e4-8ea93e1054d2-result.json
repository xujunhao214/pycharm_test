{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n        ### 测试说明\n        - 前置条件：有vps策略和vps跟单\n          1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n          2. 进行开仓，手数范围0.01-1，总手数0.3\n          3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n          4. 进行平仓\n          5. 校验账号的数据是否正确\n        - 预期结果：账号的数据正确\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762483563733, "stop": 1762483563784}], "attachments": [{"name": "时区处理", "source": "ada6626d-3661-4c42-bbfe-d5a931305a0f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7c49b75e-fa8e-4a62-8c36-48028daf3b93-attachment.txt", "type": "text/plain"}], "start": 1762483563732, "stop": 1762483563784}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1554c2e6-d08d-4f98-a893-789f472469f6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6a5d8792-844d-42fa-adfa-87e19d576de6-attachment.txt", "type": "text/plain"}], "start": 1762483563784, "stop": 1762483563785}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "d254e0de-98af-4434-aaf8-5e89ca08171d-attachment.txt", "type": "text/plain"}], "start": 1762483563785, "stop": 1762483563786}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "40de71fc-9222-4a54-adf6-58af2f246448-attachment.txt", "type": "text/plain"}], "start": 1762483563786, "stop": 1762483563786}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762483565838, "stop": 1762483565890}], "attachments": [{"name": "时区处理", "source": "5a963df1-7651-4993-8fed-ec6ea4d4033f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "725775f9-b8d4-43cf-9256-55973ee1a419-attachment.txt", "type": "text/plain"}], "start": 1762483565837, "stop": 1762483565890}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1259eaac-9073-4221-9383-12e00d1b0ab3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1d8f10ad-efdd-408e-a59e-671b292c4ea0-attachment.txt", "type": "text/plain"}], "start": 1762483565890, "stop": 1762483565891}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "4573c527-2348-4ffc-9bfe-2b964a5569b4-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "68afaf4d-3f18-4d56-9199-6f85f2ab1e4d-attachment.txt", "type": "text/plain"}], "start": 1762483565891, "stop": 1762483565891}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "95d573f6-04da-4a7a-a499-993aa71f86a8-attachment.txt", "type": "text/plain"}], "start": 1762483565891, "stop": 1762483565892}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762483567968, "stop": 1762483568022}], "attachments": [{"name": "时区处理", "source": "13da3efe-7eb3-4c56-9ff5-f0cdef461b96-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f09a431f-fefc-4f00-a1b1-d651001a09ad-attachment.txt", "type": "text/plain"}], "start": 1762483567968, "stop": 1762483568022}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a5617deb-4a48-40d3-8551-eb4069c2cc13-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "46165b71-9bd0-40e7-a3df-55396d7110e6-attachment.txt", "type": "text/plain"}], "start": 1762483568022, "stop": 1762483568023}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "65b8c8b2-190c-4d62-ac61-8e5aed465a7b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "ee3289df-4352-40af-9629-0c08174df2e2-attachment.txt", "type": "text/plain"}], "start": 1762483568023, "stop": 1762483568023}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "51af1400-2e83-4327-a497-c2ac52c8d728-attachment.txt", "type": "text/plain"}], "start": 1762483568023, "stop": 1762483568024}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762483570081, "stop": 1762483570132}], "attachments": [{"name": "时区处理", "source": "9ca67c13-3c47-4686-a2bd-1325885ce661-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6d89f493-039d-444a-8311-954b747ccb9e-attachment.txt", "type": "text/plain"}], "start": 1762483570080, "stop": 1762483570132}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c9757360-9865-438e-a5bd-bd79760629ed-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ccde0faf-df0b-4941-b41b-990826bed7ec-attachment.txt", "type": "text/plain"}], "start": 1762483570132, "stop": 1762483570132}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "27943bed-1dd2-4554-95c0-076a85c85ae6-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c0ce6248-0a95-48f0-97cd-61aa8282302a-attachment.txt", "type": "text/plain"}], "start": 1762483570132, "stop": 1762483570133}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "61543690-138d-41c3-a1a5-49253e93bddc-attachment.txt", "type": "text/plain"}], "start": 1762483570133, "stop": 1762483570133}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "e563c0d4-bb7b-47cd-9974-2e996cfe0ae0-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "a5969b8e-3b6d-46f8-91d7-2d4ed15fdae4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0cfb63b4-014e-4f8b-aec4-a30368b455b4-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "d50c0a19-c81d-4baf-bf40-a04ad4efdc10-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "dd972206-dabb-4416-887c-c2210751b59a-attachment.txt", "type": "text/plain"}], "start": 1762483570133, "stop": 1762483570135}], "start": 1762483563685, "stop": 1762483570135}], "start": 1762483563685, "stop": 1762483570135}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "9e77c113-fe01-4cfb-8f5f-309e638037ac-attachment.attach", "type": "text/plain"}], "start": 1762483570135, "stop": 1762483570135}], "start": 1762483570135, "stop": 1762483570135}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "f80ca1a2-be54-42fc-9371-9e0dbb222e5c-attachment.attach", "type": "text/plain"}], "start": 1762483570135, "stop": 1762483570136}], "start": 1762483570135, "stop": 1762483570136}], "start": 1762483570135, "stop": 1762483570136}], "attachments": [{"name": "log", "source": "a10175b4-94e6-4e2b-b71f-5755527512e0-attachment.txt", "type": "text/plain"}], "start": 1762483563685, "stop": 1762483570136, "uuid": "d3165135-a960-4ffd-b1f9-4cb9a0dc1487", "historyId": "3a84c67ada3a54bce36f57d1bec8b25a", "testCaseId": "3a84c67ada3a54bce36f57d1bec8b25a", "fullName": "test_vps.test_lianxi.TestVPSOrderSend11#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "云策略复制下单-开仓的场景校验-buy"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi"}, {"name": "subSuite", "value": "TestCloudStrategyOrderbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "81072-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi"}]}