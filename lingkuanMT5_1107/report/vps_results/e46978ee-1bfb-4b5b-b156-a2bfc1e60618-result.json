{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484457798, "stop": 1762484457848}], "attachments": [{"name": "时区处理", "source": "9192a80b-a4cb-4da1-85c1-296671b3b352-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d0260ae0-3b5a-4855-9149-dc7955c04a8d-attachment.txt", "type": "text/plain"}], "start": 1762484457797, "stop": 1762484457848}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7ff649cf-7226-4b70-bd2f-12b4e30e91f2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "09297659-2f6b-429d-9686-fd48c3df5ac1-attachment.txt", "type": "text/plain"}], "start": 1762484457848, "stop": 1762484457849}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "8969e39a-b3cf-4501-abf6-caa8534196f1-attachment.txt", "type": "text/plain"}], "start": 1762484457849, "stop": 1762484457849}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "24c05f72-1e39-4c03-a118-99af95903bca-attachment.txt", "type": "text/plain"}], "start": 1762484457849, "stop": 1762484457849}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484459911, "stop": 1762484459965}], "attachments": [{"name": "时区处理", "source": "6ca2797f-fbda-40e9-a854-4956d02ae8ca-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "432c7ac7-85ea-4cfa-8d7d-3ee91f385a17-attachment.txt", "type": "text/plain"}], "start": 1762484459910, "stop": 1762484459965}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dbc40f08-145d-49e8-9464-1268d0079d1a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "712b8fee-c2bd-4e82-80b8-7e25638ba02a-attachment.txt", "type": "text/plain"}], "start": 1762484459965, "stop": 1762484459966}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "795313a8-987a-4410-89aa-3e46c7b2d0d4-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "f8f7dd8d-28e9-4bd7-bd1d-daa373db0960-attachment.txt", "type": "text/plain"}], "start": 1762484459966, "stop": 1762484459967}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "83727218-1e8b-42fb-b883-11f1988bddd3-attachment.txt", "type": "text/plain"}], "start": 1762484459967, "stop": 1762484459967}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484462025, "stop": 1762484462079}], "attachments": [{"name": "时区处理", "source": "98250f07-b0e8-42fc-ad7a-aee68f187d34-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5b1120a8-c073-41aa-8b6a-db9ba457ff9a-attachment.txt", "type": "text/plain"}], "start": 1762484462023, "stop": 1762484462079}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "65668543-d3da-42b5-9cc5-0799aff28885-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6ad826e7-f3e3-4712-b308-f0c78b411011-attachment.txt", "type": "text/plain"}], "start": 1762484462079, "stop": 1762484462079}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c41e4810-1df8-4ad3-b0f2-2be6c60922e3-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "09d620da-bacd-4263-b5fe-8229f104a2ed-attachment.txt", "type": "text/plain"}], "start": 1762484462079, "stop": 1762484462080}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "350d499d-fd35-4a69-bd39-3eb610ebf2fc-attachment.txt", "type": "text/plain"}], "start": 1762484462080, "stop": 1762484462081}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "78b71aae-86e5-453a-b595-abda763df2f3-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "f5c02c43-0b6f-4ef9-9694-830b0367cec0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a2cab5b7-7cd4-49d7-8346-5090833fab2d-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "455301e6-dd12-4b17-8c15-e89486c578d2-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "532d1d8e-16d1-43bc-be8c-04f0db3ad430-attachment.txt", "type": "text/plain"}], "start": 1762484462081, "stop": 1762484462082}], "start": 1762484457752, "stop": 1762484462082}], "start": 1762484457752, "stop": 1762484462082}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "a2bbd454-0a54-4f65-bfaa-2232d9c3afbe-attachment.attach", "type": "text/plain"}], "start": 1762484462082, "stop": 1762484462083}], "start": 1762484462082, "stop": 1762484462083}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "4cd3961d-ab67-4d82-816b-0108eaef7d8f-attachment.attach", "type": "text/plain"}], "start": 1762484462083, "stop": 1762484462083}], "start": 1762484462083, "stop": 1762484462083}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "edc805a0-937a-4f1c-a3c3-e6b17352e90c-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "5d4bfca9-6a55-483f-aee3-e919d17a2b19-attachment.attach", "type": "text/plain"}], "start": 1762484462083, "stop": 1762484462084}], "start": 1762484462083, "stop": 1762484462084}], "start": 1762484462082, "stop": 1762484462084}], "attachments": [{"name": "log", "source": "e6cf92d9-03b5-47b3-913e-f5dd0e908129-attachment.txt", "type": "text/plain"}], "start": 1762484457752, "stop": 1762484462084, "uuid": "6449d76d-f811-4894-9be1-369c7dd81321", "historyId": "ffe7450460cf3becd8fc7795dec31019", "testCaseId": "ffe7450460cf3becd8fc7795dec31019", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend11#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}