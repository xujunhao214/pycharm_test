{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501785414, "stop": 1762501785473}], "attachments": [{"name": "时区处理", "source": "0ff212db-1435-4115-afa1-b45dff74ffb2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "acfb0714-661c-4cd8-af23-b2d5f09526ba-attachment.txt", "type": "text/plain"}], "start": 1762501785413, "stop": 1762501785473}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f6e2908e-ea86-4a6b-8a0f-4be55a19ba28-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "64e51597-24e5-434a-9a07-ccb09a87fe08-attachment.txt", "type": "text/plain"}], "start": 1762501785473, "stop": 1762501785474}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "524c6ebc-2b62-45bb-9319-c39f0f102249-attachment.txt", "type": "text/plain"}], "start": 1762501785474, "stop": 1762501785475}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2fb23a3c-deab-4f81-aa9c-664ed3b9b4d2-attachment.txt", "type": "text/plain"}], "start": 1762501785475, "stop": 1762501785475}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501787543, "stop": 1762501787605}], "attachments": [{"name": "时区处理", "source": "1ef9e755-2915-4c1b-b4bc-c9a36f8a423f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b028ce84-2cbe-407f-977b-4b95086f289e-attachment.txt", "type": "text/plain"}], "start": 1762501787542, "stop": 1762501787605}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6f871d78-8186-451c-870a-f24478b368b5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f6033980-ba1f-421b-96fd-a3a16abe15d7-attachment.txt", "type": "text/plain"}], "start": 1762501787605, "stop": 1762501787606}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "45482c28-1977-4740-917e-646656fb4a64-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "36483d07-8f9e-40eb-a5ea-7558057ab43a-attachment.txt", "type": "text/plain"}], "start": 1762501787606, "stop": 1762501787607}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9dd2b41d-3ec5-4e71-9461-368d56fd34fb-attachment.txt", "type": "text/plain"}], "start": 1762501787607, "stop": 1762501787607}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501789675, "stop": 1762501789764}], "attachments": [{"name": "时区处理", "source": "782f70a8-4855-4edd-a6ed-ba47f0ef1315-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "06593701-b949-4a84-aaa2-eebcd7dcb419-attachment.txt", "type": "text/plain"}], "start": 1762501789674, "stop": 1762501789764}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7b7a9aa3-4672-4e78-aa5b-818262d40f2b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5bc5a4d7-d68c-4266-ba00-6ca2346856be-attachment.txt", "type": "text/plain"}], "start": 1762501789764, "stop": 1762501789765}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "eda98a21-dbf9-4606-8ca8-9fbc0ebe4f2e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "fd7c47de-f3d7-43d1-9515-32cc053998b6-attachment.txt", "type": "text/plain"}], "start": 1762501789765, "stop": 1762501789766}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "4cec2a85-8019-40f7-a326-877474b3863a-attachment.txt", "type": "text/plain"}], "start": 1762501789766, "stop": 1762501789766}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762501791825, "stop": 1762501791886}], "attachments": [{"name": "时区处理", "source": "76b207dc-c3c8-4e90-9997-409f764183eb-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d031d102-9a5e-4526-8263-d5de9d3af02f-attachment.txt", "type": "text/plain"}], "start": 1762501791824, "stop": 1762501791886}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "df5c4d87-65ce-4a2f-925d-af50fcd4740e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b342a3e6-1fa9-4220-8820-a391a13fea1f-attachment.txt", "type": "text/plain"}], "start": 1762501791886, "stop": 1762501791887}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d829ea03-b3e7-4306-9f7e-e27695d9aa36-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "52847cb4-da79-47b9-a017-2c6004209ead-attachment.txt", "type": "text/plain"}], "start": 1762501791887, "stop": 1762501791887}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "aeb695c8-e1f9-425f-9102-c6d0f7df7e09-attachment.txt", "type": "text/plain"}], "start": 1762501791887, "stop": 1762501791888}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "aa08ea95-0c54-462a-9af6-01a4cbe9c307-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "567c84f1-9daf-4ab9-a06e-ac64183efccc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1609a908-cde4-4cd6-88b6-420172bd4c3e-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "bba78949-3a2a-48d8-b153-9395538e013d-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "1240af93-4bb0-471c-bd39-e91cbae8791f-attachment.txt", "type": "text/plain"}], "start": 1762501791888, "stop": 1762501791889}], "start": 1762501785357, "stop": 1762501791889}], "start": 1762501785357, "stop": 1762501791889}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "24dc6a20-c38f-466d-8123-6b651a5530c1-attachment.attach", "type": "text/plain"}], "start": 1762501791889, "stop": 1762501791890}], "start": 1762501791889, "stop": 1762501791890}, {"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "7ee55a32-9048-4f20-bd1d-90b1730a5c3d-attachment.attach", "type": "text/plain"}], "start": 1762501791890, "stop": 1762501791890}], "start": 1762501791890, "stop": 1762501791890}, {"name": "验证手数范围-开始手数", "status": "passed", "steps": [{"name": "校验: 开始手数应符合预期", "status": "passed", "attachments": [{"name": "开始手数详情", "source": "8cf17b81-ce81-4d49-8815-7695f575d932-attachment.attach", "type": "text/plain"}], "start": 1762501791890, "stop": 1762501791891}], "start": 1762501791890, "stop": 1762501791891}, {"name": "验证手数范围-结束手数", "status": "passed", "steps": [{"name": "校验: 结束手数应符合预期", "status": "passed", "attachments": [{"name": "结束手数详情", "source": "d1fcb892-42f9-4457-866e-8eaf39308d9c-attachment.attach", "type": "text/plain"}], "start": 1762501791891, "stop": 1762501791891}], "start": 1762501791891, "stop": 1762501791891}, {"name": "验证指令总手数", "status": "passed", "steps": [{"name": "校验: 指令总手数应符合预期", "status": "passed", "attachments": [{"name": "指令总手数详情", "source": "08bd030f-8a9c-4645-bc00-ec2c32eaac5f-attachment.attach", "type": "text/plain"}], "start": 1762501791891, "stop": 1762501791891}], "start": 1762501791891, "stop": 1762501791891}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "a95953c0-b923-425e-b2ff-43170507112e-attachment.attach", "type": "text/plain"}], "start": 1762501791891, "stop": 1762501791892}], "start": 1762501791891, "stop": 1762501791892}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "a9cf362a-c6c8-4756-9688-9dd71c14fc0f-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "dc6af2af-b5dd-4318-a266-a36885e4ee96-attachment.attach", "type": "text/plain"}], "start": 1762501791892, "stop": 1762501791893}], "start": 1762501791892, "stop": 1762501791893}], "start": 1762501791889, "stop": 1762501791893}], "attachments": [{"name": "log", "source": "af0d5af1-5591-456b-873f-55a6ef9acfe7-attachment.txt", "type": "text/plain"}], "start": 1762501785357, "stop": 1762501791893, "uuid": "a6b13d72-a262-42bf-9703-291be347793e", "historyId": "af23d2907cbb672b05c4900943cbf0ec", "testCaseId": "af23d2907cbb672b05c4900943cbf0ec", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "76288-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}