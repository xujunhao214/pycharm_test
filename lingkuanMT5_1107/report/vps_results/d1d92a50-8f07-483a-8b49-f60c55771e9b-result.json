{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484387587, "stop": 1762484387642}], "attachments": [{"name": "时区处理", "source": "00d47402-2dc8-4f55-85cf-3f8d50963281-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0f67322f-0c67-4626-bc3f-f07565667642-attachment.txt", "type": "text/plain"}], "start": 1762484387586, "stop": 1762484387642}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "07688338-0e55-47bf-8ccb-74e0ec276783-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e8f2a45c-c358-4b1b-9495-204b0764a152-attachment.txt", "type": "text/plain"}], "start": 1762484387642, "stop": 1762484387643}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "02817a80-4b6d-4ca0-85a6-2690134482bf-attachment.txt", "type": "text/plain"}], "start": 1762484387643, "stop": 1762484387644}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0d10b612-7461-431c-819b-cae3e7fc033d-attachment.txt", "type": "text/plain"}], "start": 1762484387644, "stop": 1762484387644}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484389707, "stop": 1762484389758}], "attachments": [{"name": "时区处理", "source": "4383385a-04b6-4a07-a905-35c56d4dc40f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "42658d66-1abc-48cc-833f-9f438d8cad7d-attachment.txt", "type": "text/plain"}], "start": 1762484389705, "stop": 1762484389758}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dc9dafa3-458e-41e5-8f7b-33c15c7abc18-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "29373b71-a744-4895-b4d4-b09f82f0d6af-attachment.txt", "type": "text/plain"}], "start": 1762484389758, "stop": 1762484389759}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6dc87f8a-ed42-4fce-a924-42df7db4d45e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "34fc028b-2bfa-4857-b991-55bcd3e5056c-attachment.txt", "type": "text/plain"}], "start": 1762484389759, "stop": 1762484389760}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "2b41ecad-8849-409f-8001-3c87b2a2d144-attachment.txt", "type": "text/plain"}], "start": 1762484389760, "stop": 1762484389760}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762484391818, "stop": 1762484391866}], "attachments": [{"name": "时区处理", "source": "d0ccbd7e-a8cd-419e-b73e-ee3d69d2e6ce-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8e10d852-d0f8-4215-89e2-259af8abc2d8-attachment.txt", "type": "text/plain"}], "start": 1762484391816, "stop": 1762484391867}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "005e49be-f3ee-4698-9cc6-d855f63024ed-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "404658c4-576b-4c1a-9587-58ba4736cb52-attachment.txt", "type": "text/plain"}], "start": 1762484391867, "stop": 1762484391867}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "a75b688b-a260-4ec8-ae9e-7d40e1099fa9-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "da41eb81-e5be-45dd-bf03-7805cc74f130-attachment.txt", "type": "text/plain"}], "start": 1762484391868, "stop": 1762484391868}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "6333347c-d5ba-4971-bc0f-3b36a9433334-attachment.txt", "type": "text/plain"}], "start": 1762484391868, "stop": 1762484391869}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "6eca96d3-dab3-4190-a10f-ea86a0316fd0-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "be781f25-dd0b-4f16-8500-7b52247d976c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f3a4b390-c651-4469-ab60-367cd01f3aac-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "91784c3e-c541-461e-b665-53c3b1ebc2de-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "0eeae7b8-2a7c-4bb8-aa65-e464f26ec048-attachment.txt", "type": "text/plain"}], "start": 1762484391869, "stop": 1762484391870}], "start": 1762484387533, "stop": 1762484391870}], "start": 1762484387533, "stop": 1762484391870}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "a26a14a3-7c43-4e3d-b248-09e47ecbb32c-attachment.attach", "type": "text/plain"}], "start": 1762484391870, "stop": 1762484391871}], "start": 1762484391870, "stop": 1762484391871}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "0c656647-008e-4811-a8ce-c9bd51efd3b3-attachment.attach", "type": "text/plain"}], "start": 1762484391871, "stop": 1762484391872}], "start": 1762484391871, "stop": 1762484391872}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "78520a41-efc9-4bcd-8763-0c6809cb7efb-attachment.attach", "type": "text/plain"}], "start": 1762484391872, "stop": 1762484391872}], "start": 1762484391872, "stop": 1762484391872}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "652ba7da-4a93-468e-9e73-50cd6d03ca23-attachment.attach", "type": "text/plain"}], "start": 1762484391872, "stop": 1762484391873}], "start": 1762484391872, "stop": 1762484391873}, {"name": "验证指令总手数", "status": "passed", "steps": [{"name": "校验: 指令总手数符合预期", "status": "passed", "attachments": [{"name": "指令总手数", "source": "1977e923-e7d7-4fe2-8301-1de002d99e32-attachment.attach", "type": "text/plain"}], "start": 1762484391873, "stop": 1762484391873}], "start": 1762484391873, "stop": 1762484391873}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "62e27ef5-fbf3-4635-aa09-63d1c61b83b4-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "dc4f8763-4f7d-4fe7-82ff-b4c4e0a52214-attachment.attach", "type": "text/plain"}], "start": 1762484391873, "stop": 1762484391875}], "start": 1762484391873, "stop": 1762484391875}], "start": 1762484391870, "stop": 1762484391875}], "attachments": [{"name": "log", "source": "c53448f3-88bd-4f63-84d1-e9985db40842-attachment.txt", "type": "text/plain"}], "start": 1762484387533, "stop": 1762484391875, "uuid": "1be37c44-bbc1-48c5-9234-925f5be4054d", "historyId": "4ebbb6520c119abdc2ba009840813dc7", "testCaseId": "4ebbb6520c119abdc2ba009840813dc7", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_addsalve_orderSend", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "67884-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}