{"name": "数据库校验-云策略列表-批量删除云跟单账号", "status": "broken", "statusDetails": {"message": "pymysql.err.InterfaceError: (0, '')", "trace": "db = <pymysql.connections.Connection object at 0x000001FC6D364BB0>\n\n    @pytest.fixture\n    def db_transaction(db):\n        \"\"\"数据库事务管理，自动提交以获取最新数据\"\"\"\n        try:\n>           db.begin()\n\nconftest.py:196: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\venv\\lib\\site-packages\\pymysql\\connections.py:472: in begin\n    self._execute_command(COMMAND.COM_QUERY, \"BEGIN\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pymysql.connections.Connection object at 0x000001FC6D364BB0>\ncommand = 3, sql = 'BEGIN'\n\n    def _execute_command(self, command, sql):\n        \"\"\"\n        :raise InterfaceError: If the connection is closed.\n        :raise ValueError: If no username was specified.\n        \"\"\"\n        if not self._sock:\n>           raise err.InterfaceError(0, \"\")\nE           pymysql.err.InterfaceError: (0, '')\n\n..\\venv\\lib\\site-packages\\pymysql\\connections.py:843: InterfaceError\n\nDuring handling of the above exception, another exception occurred:\n\ndb = <pymysql.connections.Connection object at 0x000001FC6D364BB0>\n\n    @pytest.fixture\n    def db_transaction(db):\n        \"\"\"数据库事务管理，自动提交以获取最新数据\"\"\"\n        try:\n            db.begin()\n            yield db\n        except Exception as e:\n>           db.rollback()\n\nconftest.py:199: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\venv\\lib\\site-packages\\pymysql\\connections.py:492: in rollback\n    self._execute_command(COMMAND.COM_QUERY, \"ROLLBACK\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pymysql.connections.Connection object at 0x000001FC6D364BB0>\ncommand = 3, sql = 'ROLLBACK'\n\n    def _execute_command(self, command, sql):\n        \"\"\"\n        :raise InterfaceError: If the connection is closed.\n        :raise ValueError: If no username was specified.\n        \"\"\"\n        if not self._sock:\n>           raise err.InterfaceError(0, \"\")\nE           pymysql.err.InterfaceError: (0, '')\n\n..\\venv\\lib\\site-packages\\pymysql\\connections.py:843: InterfaceError\n\nDuring handling of the above exception, another exception occurred:\n\ndb = <pymysql.connections.Connection object at 0x000001FC6D364BB0>\n\n    @pytest.fixture\n    def db_transaction(db):\n        \"\"\"数据库事务管理，自动提交以获取最新数据\"\"\"\n        try:\n            db.begin()\n            yield db\n        except Exception as e:\n            db.rollback()\n            raise\n        finally:\n            # 关键：每次查询后提交事务，刷新数据可见性\n>           db.commit()  # 替代 rollback()，确保看到其他会话的新数据\n\nconftest.py:203: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\venv\\lib\\site-packages\\pymysql\\connections.py:482: in commit\n    self._execute_command(COMMAND.COM_QUERY, \"COMMIT\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pymysql.connections.Connection object at 0x000001FC6D364BB0>\ncommand = 3, sql = 'COMMIT'\n\n    def _execute_command(self, command, sql):\n        \"\"\"\n        :raise InterfaceError: If the connection is closed.\n        :raise ValueError: If no username was specified.\n        \"\"\"\n        if not self._sock:\n>           raise err.InterfaceError(0, \"\")\nE           pymysql.err.InterfaceError: (0, '')\n\n..\\venv\\lib\\site-packages\\pymysql\\connections.py:843: InterfaceError"}, "start": 1755564962899, "stop": 1755564962899, "uuid": "d6a1f8cf-6cfa-4e92-9076-50c4d3011e4e", "historyId": "b1209cd59e1e3124019e43f739f3d504", "testCaseId": "b1209cd59e1e3124019e43f739f3d504", "fullName": "test_cloudTrader.test_delete_scene.TestDelete_cloudTrader#test_dbdelete_cloudBatchDelete", "labels": [{"name": "feature", "value": "删除基本账号-批量删除云策略账号"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_delete_scene"}, {"name": "subSuite", "value": "TestDelete_cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "20452-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_delete_scene"}]}