{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "failed", "statusDetails": {"message": "Failed: Redis中未查询到订单数据", "trace": "self = <lingkuan_817.test_cloudTrader.test_cloudOrderSend_open.TestcloudTrader_open object at 0x000001DCDBA43490>\nvar_manager = <lingkuan_817.commons.variable_manager.VariableManager object at 0x000001DCDBADBFD0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001DCDB8DDE20>\nredis_cloudTrader_data_send = []\n\n    @allure.title(\"出现漏开-redis数据和数据库的数据做比对\")\n    def test_dbquery_redis(self, var_manager, db_transaction, redis_cloudTrader_data_send):\n        with allure.step(\"1. 获取订单详情界面跟单账号数据\"):\n            cloudTrader_user_accounts_2 = var_manager.get_variable(\"cloudTrader_user_accounts_2\")\n            cloudOrderSend = var_manager.get_variable(\"cloudOrderSend\")\n            symbol = cloudOrderSend[\"symbol\"]\n    \n            sql = f\"\"\"\n                           SELECT *\n                           FROM follow_order_detail\n                           WHERE symbol LIKE %s\n                             AND source_user = %s\n                             AND account = %s\n                           \"\"\"\n            params = (\n                f\"%{symbol}%\",\n                cloudTrader_user_accounts_2,\n                cloudTrader_user_accounts_2,\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n            db_data = self.wait_for_database_record(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"create_time\"\n            )\n    \n        with allure.step(\"2. 转换Redis数据为可比较格式\"):\n            if not redis_cloudTrader_data_send:\n>               pytest.fail(\"Redis中未查询到订单数据\")\nE               Failed: Redis中未查询到订单数据\n\ntest_cloudTrader\\test_cloudOrderSend_open.py:209: Failed"}, "steps": [{"name": "1. 获取订单详情界面跟单账号数据", "status": "passed", "start": 1755247018106, "stop": 1755247029596}, {"name": "2. 转换Redis数据为可比较格式", "status": "failed", "statusDetails": {"message": "Failed: Redis中未查询到订单数据\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_817\\test_cloudTrader\\test_cloudOrderSend_open.py\", line 209, in test_dbquery_redis\n    pytest.fail(\"Redis中未查询到订单数据\")\n  File \"D:\\pycharm_test\\venv\\lib\\site-packages\\_pytest\\outcomes.py\", line 178, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n"}, "start": 1755247029596, "stop": 1755247029596}], "attachments": [{"name": "log", "source": "efc0cef2-a519-4097-bf67-0bd907a04474-attachment.txt", "type": "text/plain"}], "start": 1755247018106, "stop": 1755247029597, "uuid": "3d8dff53-5dc9-4425-8da3-5e7f3fef55d0", "historyId": "8f6415359588a65d830d09164f57f7d0", "testCaseId": "8f6415359588a65d830d09164f57f7d0", "fullName": "test_cloudTrader.test_cloudOrderSend_open.TestcloudTrader_open#test_dbquery_redis", "labels": [{"name": "feature", "value": "交易下单-云策略复制下单-漏开"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrderSend_open"}, {"name": "subSuite", "value": "TestcloudTrader_open"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "34324-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrderSend_open"}]}