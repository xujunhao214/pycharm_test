{"name": "数据库校验-交易平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764033840997, "stop": 1764033841053}], "attachments": [{"name": "时区处理", "source": "613e43ef-a1b1-4a25-9bcb-3f8a1fb6b540-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6236739a-aa28-46ea-ac03-a6521fc89aa4-attachment.txt", "type": "text/plain"}], "start": 1764033840996, "stop": 1764033841053}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6946dad4-16cd-4468-b72f-e9bc1ba4df5a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f5cb99ae-fc20-4cfe-9435-3f95bf2e4867-attachment.txt", "type": "text/plain"}], "start": 1764033841053, "stop": 1764033841054}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "26bd2027-d3a7-42ad-aa8e-4e296cb9223b-attachment.txt", "type": "text/plain"}], "start": 1764033841054, "stop": 1764033841054}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2275df5f-d396-4f55-82f3-dc0e438ea111-attachment.txt", "type": "text/plain"}], "start": 1764033841054, "stop": 1764033841054}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764033843111, "stop": 1764033843168}], "attachments": [{"name": "时区处理", "source": "3e9382f9-411f-4024-af50-559f2b2a137c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c9111cee-4a2a-4dda-92f8-913450746363-attachment.txt", "type": "text/plain"}], "start": 1764033843110, "stop": 1764033843168}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ba033e7d-1345-4810-a039-15ba8287841c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3a9b815c-638c-42ac-8082-7904ef012a9e-attachment.txt", "type": "text/plain"}], "start": 1764033843168, "stop": 1764033843168}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e4dc4beb-5241-4c59-b56a-dcf629f31a8f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "5a551825-6898-4445-90e9-1eadd6bdd21b-attachment.txt", "type": "text/plain"}], "start": 1764033843168, "stop": 1764033843169}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "81591ad7-a362-45ad-aefa-ee66258ba2bc-attachment.txt", "type": "text/plain"}], "start": 1764033843169, "stop": 1764033843169}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764033845226, "stop": 1764033845295}], "attachments": [{"name": "时区处理", "source": "430b8153-4645-4d7f-aef3-ab227942f555-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "938711ba-e477-4302-a25a-0406e8e32987-attachment.txt", "type": "text/plain"}], "start": 1764033845225, "stop": 1764033845295}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ce25bde1-fab2-46b9-8892-4df63bf8c8ab-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a494ec1e-cd20-4d35-b691-f41ad8587139-attachment.txt", "type": "text/plain"}], "start": 1764033845295, "stop": 1764033845296}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d45d0ba6-7b1d-4a0d-863c-cc87e83c18b7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6b509671-611d-40f8-8df4-499b777d5639-attachment.txt", "type": "text/plain"}], "start": 1764033845296, "stop": 1764033845297}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "39641a0a-0823-44e2-8a28-64a8d357cc06-attachment.txt", "type": "text/plain"}], "start": 1764033845297, "stop": 1764033845297}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764033847352, "stop": 1764033847408}], "attachments": [{"name": "时区处理", "source": "6f39e616-21a8-4f02-8cf8-41a04352f612-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e1d1d147-69dd-45b1-884c-c35d851828c9-attachment.txt", "type": "text/plain"}], "start": 1764033847352, "stop": 1764033847408}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7ca7b6ca-0c62-4451-b372-e439e94d9c8f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f4e88b94-76c5-46e9-9974-2c8563da1d9a-attachment.txt", "type": "text/plain"}], "start": 1764033847408, "stop": 1764033847409}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c11a16f5-2693-47d8-a812-3919d62b1a37-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "bf5820a7-3fb5-4786-b11e-c17d7a2bea82-attachment.txt", "type": "text/plain"}], "start": 1764033847409, "stop": 1764033847411}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "979a544c-a2ee-471b-ab70-26d0c97b6cf0-attachment.txt", "type": "text/plain"}], "start": 1764033847411, "stop": 1764033847411}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "b1d3a8e6-f4de-4023-8b29-97d5a00be7f7-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "e5fac17a-9bdc-4e37-b00e-0e324364cd74-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a445647a-db26-4872-aacf-4ceff5c00653-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "d58afdef-77eb-479b-84f7-091d74aeaa87-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "22ef907d-d9b4-48bd-bd17-12a2d3febd49-attachment.txt", "type": "text/plain"}], "start": 1764033847411, "stop": 1764033847414}], "start": 1764033840950, "stop": 1764033847414}], "start": 1764033840950, "stop": 1764033847414}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "e4b0f04e-04e2-459b-a0cf-858e45fb0c85-attachment.attach", "type": "text/plain"}], "start": 1764033847414, "stop": 1764033847414}], "start": 1764033847414, "stop": 1764033847415}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "a2759545-682f-4f65-8eac-25428f619616-attachment.attach", "type": "text/plain"}], "start": 1764033847415, "stop": 1764033847415}], "start": 1764033847415, "stop": 1764033847415}], "start": 1764033847414, "stop": 1764033847415}], "attachments": [{"name": "log", "source": "a1ecc237-3244-47a5-8325-bc8c4f551560-attachment.txt", "type": "text/plain"}], "start": 1764033840950, "stop": 1764033847415, "uuid": "985b302d-60bd-4f66-8b71-612a61ece6ce", "historyId": "cb238dfd9b3cd6c7e25ba65ea9315799", "testCaseId": "cb238dfd9b3cd6c7e25ba65ea9315799", "fullName": "test_cloudTrader.test_cloud_masOrderSend.TestCloudtradingOrders8#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景8：分配下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "云策略-策略账号交易下单-开仓的场景校验"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloud_masOrderSend"}, {"name": "subSuite", "value": "TestCloudMasOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "31184-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloud_masOrderSend"}]}