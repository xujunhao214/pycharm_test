{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962676251, "stop": 1763962676407}], "attachments": [{"name": "时区处理", "source": "492093f7-7631-4cc4-97db-493f7ecced3a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8065947c-6156-41e3-be4a-c16b69e8525a-attachment.txt", "type": "text/plain"}], "start": 1763962676250, "stop": 1763962676407}, {"name": "轮询中（已等待0.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4d647992-37a4-4420-82a8-c9d3014944f2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4a715e42-e3d6-438c-895b-dc6ec1490dea-attachment.txt", "type": "text/plain"}], "start": 1763962676407, "stop": 1763962676409}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "0d926253-a466-4179-9f45-f559bd170b07-attachment.txt", "type": "text/plain"}], "start": 1763962676409, "stop": 1763962676409}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8dea9470-7c4d-4dd2-95db-111372752b61-attachment.txt", "type": "text/plain"}], "start": 1763962676409, "stop": 1763962676410}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962678469, "stop": 1763962678533}], "attachments": [{"name": "时区处理", "source": "70aeb320-b14b-405a-995c-0078ca41a9b4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "dd720e9e-9a45-4388-bc0d-5b57730ed86d-attachment.txt", "type": "text/plain"}], "start": 1763962678468, "stop": 1763962678534}, {"name": "轮询中（已等待2.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bbb3979d-298e-446d-8637-8be63413b03a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e44c57c6-90e8-4730-a88b-ccea7eb11f79-attachment.txt", "type": "text/plain"}], "start": 1763962678534, "stop": 1763962678535}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "365ad67f-b20f-48fc-8c75-fbc0250d547a-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "62d0972a-71dc-4e03-8b73-f8ee723564cc-attachment.txt", "type": "text/plain"}], "start": 1763962678535, "stop": 1763962678536}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "67bce5d6-7dac-43f7-8190-7081fddfffef-attachment.txt", "type": "text/plain"}], "start": 1763962678536, "stop": 1763962678536}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962680619, "stop": 1763962680683}], "attachments": [{"name": "时区处理", "source": "27499b0d-8c3d-4bea-b279-6976b6fe3e15-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9c0e8b5e-e9e6-4b5b-a331-b62af867c71d-attachment.txt", "type": "text/plain"}], "start": 1763962680599, "stop": 1763962680683}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "366efef4-6382-478a-9957-5f03b94df687-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a1d3e909-0384-4bc2-a4f8-13c4a221705a-attachment.txt", "type": "text/plain"}], "start": 1763962680683, "stop": 1763962680684}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "fd6c9613-de04-410f-b6e3-4c59dd0e4de8-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8e3b8469-8558-4672-8ac1-3b35fe1c7151-attachment.txt", "type": "text/plain"}], "start": 1763962680684, "stop": 1763962680684}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "8743f6e1-78c8-4075-b9f3-cfc750a468c1-attachment.txt", "type": "text/plain"}], "start": 1763962680684, "stop": 1763962680685}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "946f45a0-894f-47e5-83ae-a106a7efd6ae-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "61194fc7-0ddf-47bd-b3f4-8c7d11e424c7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "aba2afed-ea69-4588-9a9a-82306327bbd3-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "aeeecfec-9fd1-436b-a6b7-4239012b18cf-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "13bfe4f7-0cac-4d2f-918f-fa2b9e14f8b2-attachment.txt", "type": "text/plain"}], "start": 1763962680685, "stop": 1763962680686}], "start": 1763962676202, "stop": 1763962680686}], "start": 1763962676202, "stop": 1763962680686}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "1b1cac48-6d1d-4a50-820e-2bf656e7f434-attachment.attach", "type": "text/plain"}], "start": 1763962680686, "stop": 1763962680687}], "start": 1763962680686, "stop": 1763962680687}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "4830393a-6ad3-47b4-bc50-01d7cc6e6e8c-attachment.attach", "type": "text/plain"}], "start": 1763962680687, "stop": 1763962680687}], "start": 1763962680687, "stop": 1763962680687}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "6852252d-4cc2-4e4a-9d96-4e747f64f450-attachment.attach", "type": "text/plain"}], "start": 1763962680687, "stop": 1763962680687}], "start": 1763962680687, "stop": 1763962680687}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "4c6dce57-a8c7-49b4-8127-664dda48bdcc-attachment.attach", "type": "text/plain"}], "start": 1763962680687, "stop": 1763962680688}], "start": 1763962680687, "stop": 1763962680688}], "start": 1763962680687, "stop": 1763962680688}], "start": 1763962680686, "stop": 1763962680688}], "attachments": [{"name": "log", "source": "d699fa81-abbc-4fb9-b92c-ea365a39b566-attachment.txt", "type": "text/plain"}], "start": 1763962676202, "stop": 1763962680688, "uuid": "d43b47db-9414-4333-9d7c-e8c82697da1b", "historyId": "5653e0f068b97d5c3889f118fb167aa3", "testCaseId": "5653e0f068b97d5c3889f118fb167aa3", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}