{"name": "数据库校验-策略开仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962771045, "stop": 1763962771098}], "attachments": [{"name": "时区处理", "source": "a2ec8264-7f77-4f7b-9050-922c4240df25-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fc6c537a-f043-4571-833e-a0d48a72db7b-attachment.txt", "type": "text/plain"}], "start": 1763962771044, "stop": 1763962771098}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "74f36548-428b-4d54-9bc1-2711bd6d904a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1186ec78-eba1-4dae-b821-3f8abdf2980b-attachment.txt", "type": "text/plain"}], "start": 1763962771098, "stop": 1763962771099}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "eb6b0e85-6dce-4844-80c0-e5254310eb81-attachment.txt", "type": "text/plain"}], "start": 1763962771099, "stop": 1763962771100}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bffbd8ee-45d6-4bd8-b1e7-b273d80657f1-attachment.txt", "type": "text/plain"}], "start": 1763962771100, "stop": 1763962771100}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962773158, "stop": 1763962773208}], "attachments": [{"name": "时区处理", "source": "266add14-4c8c-457b-bf77-b335ab0cdb31-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "11f90247-cc3e-41a1-ad2b-b96735135bf3-attachment.txt", "type": "text/plain"}], "start": 1763962773157, "stop": 1763962773208}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "65cda411-4883-420e-b682-0ab507325f0c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "46bcccaa-0525-410d-a33d-48f1dbabb947-attachment.txt", "type": "text/plain"}], "start": 1763962773208, "stop": 1763962773209}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "318e55c9-6bd5-4cf0-943e-de8f0911ef26-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "846b4c25-53be-46de-a0ad-e2d221fd96d8-attachment.txt", "type": "text/plain"}], "start": 1763962773209, "stop": 1763962773210}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "d764adce-5a41-4f88-b73e-7dbe0aaf8f43-attachment.txt", "type": "text/plain"}], "start": 1763962773210, "stop": 1763962773210}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962775266, "stop": 1763962775329}], "attachments": [{"name": "时区处理", "source": "c2457380-1d00-4cce-9e49-169cc254550f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3f7570aa-141f-46d4-a79e-7c3caa6d86d7-attachment.txt", "type": "text/plain"}], "start": 1763962775265, "stop": 1763962775329}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e8fbbb29-bdca-4c59-9d6d-d148bf681330-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2a415ee6-609c-447d-8cfd-7bdfa3057989-attachment.txt", "type": "text/plain"}], "start": 1763962775329, "stop": 1763962775329}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "4139822e-952a-4ee0-b715-95b033677265-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b52725b1-6ecc-461d-aa53-ad6c768fcf97-attachment.txt", "type": "text/plain"}], "start": 1763962775329, "stop": 1763962775330}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "99303889-1302-4549-9530-affa0c144921-attachment.txt", "type": "text/plain"}], "start": 1763962775330, "stop": 1763962775330}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "f5b27ebe-8f3a-4b23-80cf-5ecf2f7ac542-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "d6f7e35f-6b75-438e-9b4b-e0341e396020-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "de36d375-75c6-42fd-8539-2ba37a51e690-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "95bc6bb6-184e-4b32-a5ad-7f512c2ee1ff-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "1672e7cf-c76a-4b0a-a168-557f9ac8cc61-attachment.txt", "type": "text/plain"}], "start": 1763962775330, "stop": 1763962775332}], "start": 1763962770997, "stop": 1763962775332}], "start": 1763962770997, "stop": 1763962775332}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "a84d6fac-60a7-4d4f-8ed3-ec1ecddb3abf-attachment.attach", "type": "text/plain"}], "start": 1763962775332, "stop": 1763962775332}], "start": 1763962775332, "stop": 1763962775332}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "596874e0-33f6-4d16-856a-df79fa9a3cd3-attachment.attach", "type": "text/plain"}], "start": 1763962775332, "stop": 1763962775333}], "start": 1763962775332, "stop": 1763962775333}], "start": 1763962775332, "stop": 1763962775333}], "attachments": [{"name": "log", "source": "19ef903a-0663-42e8-b806-78daf3152790-attachment.txt", "type": "text/plain"}], "start": 1763962770997, "stop": 1763962775333, "uuid": "8aea59fa-363f-4646-8577-b5c88dc11c04", "historyId": "b83b0368b61d78d35587b948d7e7cf8e", "testCaseId": "b83b0368b61d78d35587b948d7e7cf8e", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend9#test_dbquery_addsalve_MT5orderSend", "labels": [{"name": "story", "value": "场景9：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}