{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962798713, "stop": 1763962798767}], "attachments": [{"name": "时区处理", "source": "db3c7288-4a6f-48a2-8a24-c096e1f84b87-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "312e81e4-ae0a-4108-a6b6-c53276964111-attachment.txt", "type": "text/plain"}], "start": 1763962798713, "stop": 1763962798767}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "93096b8e-c411-493e-84fb-306db3ee7b7a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e495ef4d-6b9a-4ba6-a474-0df9d4db33cd-attachment.txt", "type": "text/plain"}], "start": 1763962798767, "stop": 1763962798768}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "ac8ba78b-4b49-4315-b678-43219cfe07ac-attachment.txt", "type": "text/plain"}], "start": 1763962798768, "stop": 1763962798768}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b9db1903-81b0-48a3-b66a-0d25e3f1b967-attachment.txt", "type": "text/plain"}], "start": 1763962798768, "stop": 1763962798769}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962800826, "stop": 1763962800882}], "attachments": [{"name": "时区处理", "source": "b9810797-76b2-4cfa-874f-c2769f430c76-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "96f788b5-cefd-47df-9e9e-f622fa0f2ad0-attachment.txt", "type": "text/plain"}], "start": 1763962800825, "stop": 1763962800882}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c31743a2-9a3c-40b0-8260-d96b76df3a01-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7a0e846e-7273-401b-93e6-0e4a1939b3ba-attachment.txt", "type": "text/plain"}], "start": 1763962800882, "stop": 1763962800883}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e24c6fd7-2560-4f5a-aefa-4d79519af526-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "fc32dd8f-56a0-42c2-bef6-99f80fdcc688-attachment.txt", "type": "text/plain"}], "start": 1763962800883, "stop": 1763962800883}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "840519c2-35ea-4260-b3dd-c9c2c22ee69b-attachment.txt", "type": "text/plain"}], "start": 1763962800884, "stop": 1763962800884}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962802938, "stop": 1763962802995}], "attachments": [{"name": "时区处理", "source": "73b9a653-b887-44ee-a65e-d6feea63a32c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c9e1ace8-55c7-4a2b-835b-f6ec7e40becb-attachment.txt", "type": "text/plain"}], "start": 1763962802937, "stop": 1763962802995}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b59a44b1-000b-42aa-8581-799fdd48ae92-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b4209ad8-e201-4eb7-9603-078231d12ed4-attachment.txt", "type": "text/plain"}], "start": 1763962802995, "stop": 1763962802996}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "335799b5-5aa6-4c5d-8e26-1b893b97b61f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "dcd3056c-2d41-4257-8974-0a8d0786862e-attachment.txt", "type": "text/plain"}], "start": 1763962802996, "stop": 1763962802997}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "2e5daf41-5bb7-408b-92df-310d1bd70424-attachment.txt", "type": "text/plain"}], "start": 1763962802997, "stop": 1763962802997}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "95a331fd-481c-436b-8dd3-38278be07685-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "77c0e1e4-dbda-426c-866f-8ccc6726d57c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e581d4fd-812e-4265-bf14-c2a28e2f508f-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "54c04338-bf76-446a-84f4-f33215f50404-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "bc4adb10-7faf-4475-92f7-bbb0c494bd56-attachment.txt", "type": "text/plain"}], "start": 1763962802997, "stop": 1763962802998}], "start": 1763962798663, "stop": 1763962802998}], "start": 1763962798663, "stop": 1763962802998}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "c07b13f5-a2fe-4522-a15f-5830f9d64928-attachment.attach", "type": "text/plain"}], "start": 1763962802998, "stop": 1763962802999}], "start": 1763962802998, "stop": 1763962802999}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "94734393-533a-42d0-8ea1-3695def2be56-attachment.attach", "type": "text/plain"}], "start": 1763962802999, "stop": 1763962802999}], "start": 1763962802999, "stop": 1763962802999}], "start": 1763962802998, "stop": 1763962802999}], "attachments": [{"name": "log", "source": "604500f4-8491-402a-9acb-605bf4c08d56-attachment.txt", "type": "text/plain"}], "start": 1763962798663, "stop": 1763962802999, "uuid": "6d8c637b-f8c6-435b-9f42-a30ba8b5e81e", "historyId": "4b11818535f2c607f47e68040fec7d7a", "testCaseId": "4b11818535f2c607f47e68040fec7d7a", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend9#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "story", "value": "场景9：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}