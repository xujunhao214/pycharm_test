{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962759733, "stop": 1763962759798}], "attachments": [{"name": "时区处理", "source": "44c5c242-3b7f-42c9-a437-8b014b5f19d2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f27306eb-1f44-4c88-94d7-998ea1f75468-attachment.txt", "type": "text/plain"}], "start": 1763962759731, "stop": 1763962759798}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "113cbadd-674c-46b2-8b30-3f2687b5639a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c5917c3d-1021-4914-94de-0394de8a05ff-attachment.txt", "type": "text/plain"}], "start": 1763962759798, "stop": 1763962759799}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "9e3b8bfd-f703-4b2b-b9c7-4f3137fd2dd6-attachment.txt", "type": "text/plain"}], "start": 1763962759799, "stop": 1763962759799}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "015a2582-f1e5-4f1f-a7c7-34565ebf37f0-attachment.txt", "type": "text/plain"}], "start": 1763962759799, "stop": 1763962759799}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962761857, "stop": 1763962761918}], "attachments": [{"name": "时区处理", "source": "028cf731-7789-4f4c-84ea-8be1884a3d6f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b6416cf9-b560-4e3f-be2f-6db732a285cf-attachment.txt", "type": "text/plain"}], "start": 1763962761856, "stop": 1763962761918}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b0458e6a-1901-4068-b1b2-7b8667bb3672-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1cdf7f00-e661-4642-931f-dc82c583f986-attachment.txt", "type": "text/plain"}], "start": 1763962761918, "stop": 1763962761919}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6e5482de-1517-4ea9-82b9-e982dfc2e0d9-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "58e62383-0745-4921-b710-c6b21109900e-attachment.txt", "type": "text/plain"}], "start": 1763962761919, "stop": 1763962761920}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c2dd590a-0a33-4bc9-8962-312d8ae2c21e-attachment.txt", "type": "text/plain"}], "start": 1763962761920, "stop": 1763962761920}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962763971, "stop": 1763962764031}], "attachments": [{"name": "时区处理", "source": "ec631afa-a9df-4ea8-99a7-56a5e83d322d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a7610306-7adf-4e00-b8a9-9b76e2c87a0e-attachment.txt", "type": "text/plain"}], "start": 1763962763970, "stop": 1763962764031}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d1addf8d-91a1-4f7f-a194-472a0db54338-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8bb3b341-e67e-4100-94a6-d15971f88d9f-attachment.txt", "type": "text/plain"}], "start": 1763962764031, "stop": 1763962764032}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "3fef3723-d62b-49c2-9127-4409a2ca5e84-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0f17d8a5-324b-4d28-a5a0-ee3e3a9c6aff-attachment.txt", "type": "text/plain"}], "start": 1763962764032, "stop": 1763962764032}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "c7ae7302-28a3-49f7-b077-d5451ba7ed78-attachment.txt", "type": "text/plain"}], "start": 1763962764032, "stop": 1763962764032}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962766082, "stop": 1763962766143}], "attachments": [{"name": "时区处理", "source": "ad7abc56-34c3-410d-89a8-fdcd694fd194-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "70976ea9-c304-47de-ba4c-0138c6b2c0d7-attachment.txt", "type": "text/plain"}], "start": 1763962766081, "stop": 1763962766143}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5761191f-b1e7-4099-a767-5e16584922bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2b4dffcc-7b81-4fe3-b9d3-9cdd3cc80152-attachment.txt", "type": "text/plain"}], "start": 1763962766143, "stop": 1763962766144}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "350cfe9d-d708-4e9e-95cf-f3162f587941-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "223c6a0f-6733-4814-963c-afe3708171bd-attachment.txt", "type": "text/plain"}], "start": 1763962766144, "stop": 1763962766144}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "7d2521f1-7946-46b5-9df2-d6cd15570709-attachment.txt", "type": "text/plain"}], "start": 1763962766145, "stop": 1763962766145}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "90100af0-05ff-40ba-8469-3ba593db241d-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "613398f3-640e-4722-8706-97d89aad0788-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "96650fe9-3674-41ce-9cb6-8d768c20cf3d-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "ca3f1306-8865-42c9-8ec9-dbdff05460dd-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "e3bdebc1-4b00-4304-ba74-737071e468b0-attachment.txt", "type": "text/plain"}], "start": 1763962766145, "stop": 1763962766146}], "start": 1763962759681, "stop": 1763962766146}], "start": 1763962759681, "stop": 1763962766146}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "5ad423a5-d830-41b0-9920-c861aa29393b-attachment.attach", "type": "text/plain"}], "start": 1763962766146, "stop": 1763962766147}], "start": 1763962766146, "stop": 1763962766147}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "c4b76c6c-f9c2-4eb5-a1f0-05ea4462ad2a-attachment.attach", "type": "text/plain"}], "start": 1763962766147, "stop": 1763962766147}], "start": 1763962766147, "stop": 1763962766147}], "start": 1763962766146, "stop": 1763962766147}], "attachments": [{"name": "log", "source": "11228f7e-d197-46bf-bd15-8eb49895fde5-attachment.txt", "type": "text/plain"}], "start": 1763962759681, "stop": 1763962766147, "uuid": "2436827d-c41e-4ad6-879c-3f4144525ace", "historyId": "f3776e6377ccffe70f6d430afab79a1d", "testCaseId": "f3776e6377ccffe70f6d430afab79a1d", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend9#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景9：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}