{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962734113, "stop": 1763962734172}], "attachments": [{"name": "时区处理", "source": "a36dfeac-2198-4fe5-b88a-36978974b491-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "060f7a1f-392c-4948-a344-0047fb1aa2ba-attachment.txt", "type": "text/plain"}], "start": 1763962734112, "stop": 1763962734172}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0ae06943-cf1b-4821-9456-a728e11d0823-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f723e5a7-a500-4c69-86a2-7f40514259d7-attachment.txt", "type": "text/plain"}], "start": 1763962734172, "stop": 1763962734173}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "ddd66ecd-61f7-465b-b9cb-460a1c62380a-attachment.txt", "type": "text/plain"}], "start": 1763962734173, "stop": 1763962734174}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "66774e26-fc09-4c2b-b0d4-56a693c036d0-attachment.txt", "type": "text/plain"}], "start": 1763962734174, "stop": 1763962734174}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962736238, "stop": 1763962736299}], "attachments": [{"name": "时区处理", "source": "3f2a7fd3-c043-4bce-a463-1fbc25bc763e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cbbe7dc7-434c-4fbf-9406-127c33796c0a-attachment.txt", "type": "text/plain"}], "start": 1763962736237, "stop": 1763962736299}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "02159fb0-5d02-4fb2-a2e7-acfda12be3a4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ab868071-c0e8-4ca1-b9aa-116b4e7d1a1a-attachment.txt", "type": "text/plain"}], "start": 1763962736299, "stop": 1763962736299}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c9b66816-b6c0-4951-a579-145098a63143-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0fac94e5-2070-46e7-99b9-53ffe06f4548-attachment.txt", "type": "text/plain"}], "start": 1763962736299, "stop": 1763962736300}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bf0789b2-da7f-4468-ad24-ead1ffc0f2ad-attachment.txt", "type": "text/plain"}], "start": 1763962736300, "stop": 1763962736301}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962738350, "stop": 1763962738412}], "attachments": [{"name": "时区处理", "source": "e4c06e3f-fde4-4176-a625-1774fa592bf6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "55882dad-a24b-4568-b629-57d2d8dd5f52-attachment.txt", "type": "text/plain"}], "start": 1763962738348, "stop": 1763962738412}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "13d5ed4c-c010-4dec-98e3-a65497100dc2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f8ee60ce-fcd6-477b-b0b8-d98d48cc5103-attachment.txt", "type": "text/plain"}], "start": 1763962738412, "stop": 1763962738413}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "8714ae4a-62b1-4771-b0d1-beea1aeda100-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "7d1075cf-4250-4c21-bdec-75bfc007f803-attachment.txt", "type": "text/plain"}], "start": 1763962738413, "stop": 1763962738414}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "d59df6ac-6ff5-4a05-aa80-8866879bbc34-attachment.txt", "type": "text/plain"}], "start": 1763962738414, "stop": 1763962738414}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962740471, "stop": 1763962740532}], "attachments": [{"name": "时区处理", "source": "54650101-e7ef-44eb-a2b0-53cd5d2823db-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2743a63c-2f97-4dcb-805c-8d5f39424b85-attachment.txt", "type": "text/plain"}], "start": 1763962740470, "stop": 1763962740532}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "feee6d2f-12d2-41e4-927f-68d2bafa43fc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "606d6f79-5254-46f0-8a36-b6fe91513f82-attachment.txt", "type": "text/plain"}], "start": 1763962740532, "stop": 1763962740533}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "a6239668-5acd-483e-bd2c-3486f6e8a721-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "e2e94521-14cf-4243-b4e1-030a879dc9f7-attachment.txt", "type": "text/plain"}], "start": 1763962740533, "stop": 1763962740534}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f909b161-7900-40f3-a775-2129898aefaf-attachment.txt", "type": "text/plain"}], "start": 1763962740534, "stop": 1763962740534}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "a27d94cf-6e81-4017-8e48-c99c76af7348-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "5067d8d3-aad9-48e5-b5ec-a808a97771ce-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cdcee236-7e51-4480-90e2-b38e1247354f-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "972cdb81-949f-4313-a396-b802b8b23135-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "a0f9abf8-c06e-405f-99e2-512aa0ade633-attachment.txt", "type": "text/plain"}], "start": 1763962740534, "stop": 1763962740536}], "start": 1763962734066, "stop": 1763962740536}], "start": 1763962734066, "stop": 1763962740536}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "e507e839-f42d-4ddd-8872-df664ac94d93-attachment.attach", "type": "text/plain"}], "start": 1763962740536, "stop": 1763962740536}], "start": 1763962740536, "stop": 1763962740536}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "a272c01b-4ed8-4d1d-b909-38c77b58691d-attachment.attach", "type": "text/plain"}], "start": 1763962740536, "stop": 1763962740537}], "start": 1763962740536, "stop": 1763962740537}], "start": 1763962740536, "stop": 1763962740537}], "attachments": [{"name": "log", "source": "f8e37ac3-27d4-448a-b475-d6185d5720ae-attachment.txt", "type": "text/plain"}], "start": 1763962734066, "stop": 1763962740537, "uuid": "a8b770e4-8936-4607-9203-136b0dbd2c40", "historyId": "eb0e702a1ffb55490e2682f77cde312b", "testCaseId": "eb0e702a1ffb55490e2682f77cde312b", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend8#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景8：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}