{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.01\n      3. 校验账号的数据是否正确-下单手数是0.01*0.25*0.5=0.00125，最低下单手数是0.01\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962845660, "stop": 1763962845725}], "attachments": [{"name": "时区处理", "source": "36ce31b9-f3b9-429c-accd-faaa7feaac7e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "af652f82-aba0-4b7e-86db-d1893005f647-attachment.txt", "type": "text/plain"}], "start": 1763962845659, "stop": 1763962845725}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8182d3e9-f823-405a-aac8-fc28acf2a353-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cace82e0-5af4-4258-834f-a40cd6ed6514-attachment.txt", "type": "text/plain"}], "start": 1763962845725, "stop": 1763962845726}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "3d683a40-d992-4104-aa4c-b83a47960ae2-attachment.txt", "type": "text/plain"}], "start": 1763962845726, "stop": 1763962845726}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6ec33802-1381-45b5-91fd-faf7472a59b8-attachment.txt", "type": "text/plain"}], "start": 1763962845726, "stop": 1763962845727}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962847778, "stop": 1763962847845}], "attachments": [{"name": "时区处理", "source": "fb410399-341c-4fa8-bb8b-30157ea882e5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "014029f4-1d8f-4edd-b645-43facc7768c3-attachment.txt", "type": "text/plain"}], "start": 1763962847777, "stop": 1763962847845}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d9a902b5-5ced-48a6-b9ba-4b0713ddd21c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d3b37509-e5fd-4f7b-a6cf-9d5507977f60-attachment.txt", "type": "text/plain"}], "start": 1763962847845, "stop": 1763962847845}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "26eb6651-dfc7-4e2d-bc19-2107b1e7d6db-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "54096660-5b43-4913-a795-33a5712764b2-attachment.txt", "type": "text/plain"}], "start": 1763962847845, "stop": 1763962847846}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "63758dce-2a01-4e7e-b032-0f91bf6ec0fc-attachment.txt", "type": "text/plain"}], "start": 1763962847846, "stop": 1763962847847}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962849910, "stop": 1763962849977}], "attachments": [{"name": "时区处理", "source": "1d5a799d-7f40-4673-957e-d313e8e5cced-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ce4314d5-70fb-4794-9278-1e39a65f9ad1-attachment.txt", "type": "text/plain"}], "start": 1763962849909, "stop": 1763962849977}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dec2c325-1641-4eb4-ba2c-bb7e065052bf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a78e0d3c-1e61-4bd7-a485-136be06a8455-attachment.txt", "type": "text/plain"}], "start": 1763962849977, "stop": 1763962849978}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "b42e5931-5087-49ed-8980-971557d9d86f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "026e7b46-7fb5-405f-bb32-dddd4d879e51-attachment.txt", "type": "text/plain"}], "start": 1763962849978, "stop": 1763962849978}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "26672b49-63d1-4af4-95f5-a7d9dbade2de-attachment.txt", "type": "text/plain"}], "start": 1763962849978, "stop": 1763962849979}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962852090, "stop": 1763962852155}], "attachments": [{"name": "时区处理", "source": "9cc70b73-bae4-49de-8da2-a021d45711bd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5e3ca53b-ca43-478e-8d05-07ce9985ed04-attachment.txt", "type": "text/plain"}], "start": 1763962852089, "stop": 1763962852155}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5ab6f255-6e2a-4c18-993e-ca4a9d0f8897-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "acb987c7-b91e-4c03-91fb-4ad2ce05700e-attachment.txt", "type": "text/plain"}], "start": 1763962852155, "stop": 1763962852156}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6c381528-30cf-41f5-ba8c-514b23bb91c2-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "39f7db37-1182-4ae6-a332-324dc58197dc-attachment.txt", "type": "text/plain"}], "start": 1763962852156, "stop": 1763962852156}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "33cf7809-0efd-4d15-96c6-5b47a0136e21-attachment.txt", "type": "text/plain"}], "start": 1763962852157, "stop": 1763962852157}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "99cb596f-7e6f-4294-976a-fd9dfefd0023-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "987373f4-5c44-4e87-af67-d1c5966223f6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bc04802f-49f4-4bd6-9cfb-6656d38ed852-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "2aa2c90b-a68e-4e9e-8655-aa5c3c4a2d2e-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "91e2d0d1-a173-4e5a-8500-e6cb37754dc5-attachment.txt", "type": "text/plain"}], "start": 1763962852157, "stop": 1763962852159}], "start": 1763962845611, "stop": 1763962852159}], "start": 1763962845610, "stop": 1763962852159}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "b50e4395-65ea-4d9b-97c0-0afdb373cc27-attachment.attach", "type": "text/plain"}], "start": 1763962852159, "stop": 1763962852159}], "start": 1763962852159, "stop": 1763962852159}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "9ceb9df2-642c-4405-94af-f7347475886f-attachment.attach", "type": "text/plain"}], "start": 1763962852159, "stop": 1763962852159}], "start": 1763962852159, "stop": 1763962852159}], "start": 1763962852159, "stop": 1763962852160}], "attachments": [{"name": "log", "source": "e188abea-d716-499e-9a26-8e4deb4d217f-attachment.txt", "type": "text/plain"}], "start": 1763962845610, "stop": 1763962852160, "uuid": "317044ed-c6c4-406b-b9a9-53aa104f42a1", "historyId": "3910a2410fb4b224761c71108f30014d", "testCaseId": "3910a2410fb4b224761c71108f30014d", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend10#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.01"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}