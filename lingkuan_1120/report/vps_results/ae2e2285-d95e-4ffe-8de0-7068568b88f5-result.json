{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962570240, "stop": 1763962570299}], "attachments": [{"name": "时区处理", "source": "58206b95-dead-4ed3-9b59-43fe55fb7e4c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "15b74d41-0f7b-4bc6-a07d-7f5aa18b456e-attachment.txt", "type": "text/plain"}], "start": 1763962570240, "stop": 1763962570299}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6c225d40-f284-438b-92e6-e8a6431984f1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ce09c0b0-eb1e-44ce-af16-afe49ae9b8f0-attachment.txt", "type": "text/plain"}], "start": 1763962570299, "stop": 1763962570300}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "f0f2c4a8-e478-4b82-ba45-dff0fa864cfa-attachment.txt", "type": "text/plain"}], "start": 1763962570300, "stop": 1763962570300}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e55eeb9b-373b-4ec9-ab6f-67fbedf9de5a-attachment.txt", "type": "text/plain"}], "start": 1763962570300, "stop": 1763962570301}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962572367, "stop": 1763962572422}], "attachments": [{"name": "时区处理", "source": "6712db09-3bf0-4d3c-b56a-a0a090e2e5cc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "34b73ee4-2b96-403a-8cb2-43472382a04f-attachment.txt", "type": "text/plain"}], "start": 1763962572367, "stop": 1763962572422}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "44904291-9e59-4daa-b931-d5e248d86af1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7391e77b-3576-4ccf-8b64-e164df9d2d29-attachment.txt", "type": "text/plain"}], "start": 1763962572422, "stop": 1763962572422}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "7fe330fa-91bf-4ba3-b27b-ab22fdcaa0bb-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "654aa9dd-4eea-4fbf-b822-2d0418f70e2b-attachment.txt", "type": "text/plain"}], "start": 1763962572422, "stop": 1763962572423}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "c8abe6c6-a7bc-4347-8c50-7715d5bb5276-attachment.txt", "type": "text/plain"}], "start": 1763962572423, "stop": 1763962572423}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962574487, "stop": 1763962574550}], "attachments": [{"name": "时区处理", "source": "7fc82270-cb8f-405b-8309-99f53bf1c267-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3abe7320-d2b6-4b58-b49e-641e1bdacfd7-attachment.txt", "type": "text/plain"}], "start": 1763962574486, "stop": 1763962574550}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "18049729-7035-49b7-97ae-c06779240338-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "74b1e95f-3eb6-40e6-a84d-56d77faea31d-attachment.txt", "type": "text/plain"}], "start": 1763962574550, "stop": 1763962574551}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "33966459-6021-4bfc-9ae6-0cc080663548-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "ec01a40b-937c-449f-a942-b06e192bb86f-attachment.txt", "type": "text/plain"}], "start": 1763962574551, "stop": 1763962574552}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "0655188d-a6ee-4707-aedd-e8e746372991-attachment.txt", "type": "text/plain"}], "start": 1763962574552, "stop": 1763962574552}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "9dd3fe1e-0448-4e15-ba2d-274cc61817f3-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "17720ddc-bec4-45c6-932f-e52ecef8d402-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3da4bb48-c751-4d26-a7a0-3e1bb16298cb-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "9bfbfc8f-3e9b-4e19-b6ac-2da7c0ed78f2-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "cbf81806-83d8-49a2-bdd8-e53d2a4557af-attachment.txt", "type": "text/plain"}], "start": 1763962574552, "stop": 1763962574553}], "start": 1763962570191, "stop": 1763962574553}], "start": 1763962570191, "stop": 1763962574553}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "801843e3-c147-4949-a1e4-948096a5f361-attachment.attach", "type": "text/plain"}], "start": 1763962574553, "stop": 1763962574554}], "start": 1763962574553, "stop": 1763962574554}, {"name": "验证开仓的订单数量", "status": "passed", "steps": [{"name": "校验: 开仓的订单数量应该不是5", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "af1f7433-698a-4942-a43a-8a96647cf6a3-attachment.attach", "type": "text/plain"}], "start": 1763962574554, "stop": 1763962574554}], "start": 1763962574554, "stop": 1763962574554}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "b3699775-cc7e-4d91-a20d-a1869ac964d3-attachment.attach", "type": "text/plain"}], "start": 1763962574554, "stop": 1763962574554}], "start": 1763962574554, "stop": 1763962574554}], "start": 1763962574554, "stop": 1763962574554}], "start": 1763962574553, "stop": 1763962574554}], "attachments": [{"name": "log", "source": "1fa69830-343b-4c5f-9605-76d80a3974b8-attachment.txt", "type": "text/plain"}], "start": 1763962570191, "stop": 1763962604567, "uuid": "0899572f-9866-4632-a168-3e394c517fdc", "historyId": "2ce68055edfd5a4c45eb76bd6b9bd8a1", "testCaseId": "2ce68055edfd5a4c45eb76bd6b9bd8a1", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend5#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}