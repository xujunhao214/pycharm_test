{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962658343, "stop": 1763962658406}], "attachments": [{"name": "时区处理", "source": "5cf6bd11-d9ee-4e57-b493-0b13471e9262-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d936e773-b1d1-4d2e-8d93-00a25eb43d7c-attachment.txt", "type": "text/plain"}], "start": 1763962658342, "stop": 1763962658406}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c5db9307-c1cf-42b8-ba48-6798da2e237c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "86fa3558-ba60-4980-b21f-7a3b36e8d858-attachment.txt", "type": "text/plain"}], "start": 1763962658406, "stop": 1763962658408}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2c7db0b5-74f7-4c25-ae18-5dad05372372-attachment.txt", "type": "text/plain"}], "start": 1763962658408, "stop": 1763962658408}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d22bd8a3-ca8e-4c2d-ad4b-b2a35d101719-attachment.txt", "type": "text/plain"}], "start": 1763962658408, "stop": 1763962658408}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962660469, "stop": 1763962660548}], "attachments": [{"name": "时区处理", "source": "3ed03705-b56a-44f1-91a9-bbfe519c9b06-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3b96f22a-baab-4bc9-8268-9f1b20995f17-attachment.txt", "type": "text/plain"}], "start": 1763962660468, "stop": 1763962660548}, {"name": "轮询中（已等待2.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "679222de-0207-4144-b103-63495e126411-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4fb2e8e6-54ac-4d65-9c8e-16aef3a6fb41-attachment.txt", "type": "text/plain"}], "start": 1763962660548, "stop": 1763962660548}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f388c3dc-bbed-4cf6-9cc6-a5c36076b3f1-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6914b708-b17e-4881-8fab-cfe053ed9c0c-attachment.txt", "type": "text/plain"}], "start": 1763962660548, "stop": 1763962660552}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "be84fb7b-3e8e-4d9d-84f3-d2126e98bfee-attachment.txt", "type": "text/plain"}], "start": 1763962660552, "stop": 1763962660552}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962662613, "stop": 1763962662676}], "attachments": [{"name": "时区处理", "source": "3d03c306-aaad-4a0a-96c6-918d09417a27-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9998623c-aaeb-46f2-b623-578c969a9e10-attachment.txt", "type": "text/plain"}], "start": 1763962662612, "stop": 1763962662676}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0ebc0ef6-7744-4d56-addb-9ebc6bf332f6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "811bc31f-4a5e-4488-af2b-095d52091da5-attachment.txt", "type": "text/plain"}], "start": 1763962662676, "stop": 1763962662678}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e2f72286-9528-4df4-81e6-d01a1c801dc6-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d41cb5f4-ce80-4b5d-9ec6-7c5b86d09153-attachment.txt", "type": "text/plain"}], "start": 1763962662678, "stop": 1763962662679}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "8835ba42-dfc0-447d-a234-20b3c9871d93-attachment.txt", "type": "text/plain"}], "start": 1763962662679, "stop": 1763962662680}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "56fbd5a4-1fef-4857-aba7-f8f6a9ad6863-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "1ca2ef90-34f1-4f42-a249-77933edd6bb3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e56d723e-39db-4c6a-9dcd-d056af796c28-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "28b21829-4c70-4d7e-ae14-be7839ece9f3-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "9c5fd412-c5db-4930-9fd4-21461911b8ac-attachment.txt", "type": "text/plain"}], "start": 1763962662680, "stop": 1763962662685}], "start": 1763962658294, "stop": 1763962662685}], "start": 1763962658294, "stop": 1763962662685}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "6d60aa22-b11d-425d-9b0b-4a47efcce74f-attachment.attach", "type": "text/plain"}], "start": 1763962662685, "stop": 1763962662685}], "start": 1763962662685, "stop": 1763962662685}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "b34a74a9-2d66-4312-affd-8a4d59f8a69c-attachment.attach", "type": "text/plain"}], "start": 1763962662685, "stop": 1763962662687}], "start": 1763962662685, "stop": 1763962662687}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "da2d9492-9612-4a29-8e7f-738f21913c2a-attachment.attach", "type": "text/plain"}], "start": 1763962662687, "stop": 1763962662687}], "start": 1763962662687, "stop": 1763962662687}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "56d364c8-664e-4788-81c3-f4330a87d3c3-attachment.attach", "type": "text/plain"}], "start": 1763962662687, "stop": 1763962662688}], "start": 1763962662687, "stop": 1763962662688}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "9fdfe49c-5b6d-4cb1-8d19-15949b4968cd-attachment.attach", "type": "text/plain"}], "start": 1763962662688, "stop": 1763962662689}], "start": 1763962662688, "stop": 1763962662689}], "start": 1763962662688, "stop": 1763962662689}], "start": 1763962662685, "stop": 1763962662689}], "attachments": [{"name": "log", "source": "70a2ba60-3dd0-47ba-88c9-a17f00c05e08-attachment.txt", "type": "text/plain"}], "start": 1763962658294, "stop": 1763962662689, "uuid": "c8b61c05-27b5-4732-be2a-f23fb565774f", "historyId": "4ebbb6520c119abdc2ba009840813dc7", "testCaseId": "4ebbb6520c119abdc2ba009840813dc7", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_addsalve_orderSend", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}