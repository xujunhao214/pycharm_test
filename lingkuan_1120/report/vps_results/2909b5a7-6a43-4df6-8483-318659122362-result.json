{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962727415, "stop": 1763962727476}], "attachments": [{"name": "时区处理", "source": "6b3eb339-1483-4fe4-92f5-2ed969fb5786-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5039be55-e1b2-44e3-8fde-f497a52902f8-attachment.txt", "type": "text/plain"}], "start": 1763962727414, "stop": 1763962727476}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e52e3645-aa23-4a50-8262-6675aa2d3307-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "dbeeda8c-5cdc-43a1-9efb-5a1a290f2962-attachment.txt", "type": "text/plain"}], "start": 1763962727477, "stop": 1763962727477}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "8bb77a7b-f8c5-434e-8bbd-a753fa999b56-attachment.txt", "type": "text/plain"}], "start": 1763962727477, "stop": 1763962727477}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8f42c43e-0c5b-420e-8c5f-5f42511caa9b-attachment.txt", "type": "text/plain"}], "start": 1763962727477, "stop": 1763962727477}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962729527, "stop": 1763962729587}], "attachments": [{"name": "时区处理", "source": "106c1014-9dab-4c16-ab58-3b4e68ecdb25-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "20ce1f4f-d655-499d-8abc-6e05332c96f4-attachment.txt", "type": "text/plain"}], "start": 1763962729526, "stop": 1763962729587}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e8972765-1632-4c4a-9e7b-9089277066f1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a7978ab9-be65-4b7f-8e6f-87043daf02e5-attachment.txt", "type": "text/plain"}], "start": 1763962729587, "stop": 1763962729588}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "44ef3d2a-7079-4fec-8cb3-21405c1668dc-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "3ba50b74-d5c8-45d6-81ee-3e318873c36b-attachment.txt", "type": "text/plain"}], "start": 1763962729588, "stop": 1763962729589}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e7bc667f-6238-4688-9e0a-2e0a94dae363-attachment.txt", "type": "text/plain"}], "start": 1763962729589, "stop": 1763962729589}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962731642, "stop": 1763962731704}], "attachments": [{"name": "时区处理", "source": "35808acb-8113-4c9b-8795-64805c232f05-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b2a5cf10-ae47-4663-b4ba-678a3522fdee-attachment.txt", "type": "text/plain"}], "start": 1763962731641, "stop": 1763962731704}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "93a914b8-ab7c-4576-84b0-57d48e362375-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f52b89b5-2350-4a41-be66-8b92d8744832-attachment.txt", "type": "text/plain"}], "start": 1763962731704, "stop": 1763962731705}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "64b950d6-f30a-4aa5-8425-de01a48ae4be-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "9c5d7627-c173-44b2-979b-6c0b32b0e352-attachment.txt", "type": "text/plain"}], "start": 1763962731705, "stop": 1763962731706}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "948d34c0-0771-4c6f-af51-7b505b3d1a8e-attachment.txt", "type": "text/plain"}], "start": 1763962731706, "stop": 1763962731706}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962733758, "stop": 1763962733819}], "attachments": [{"name": "时区处理", "source": "c8e61b6b-2db7-41ae-9de8-7398708b8773-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "84f5b72e-c83a-4d85-b334-8ab557ff5d9d-attachment.txt", "type": "text/plain"}], "start": 1763962733757, "stop": 1763962733819}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5fb07260-c7c0-424e-b75b-831f5274ad9a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0a807a0c-5e0b-4dba-80f0-b0ee23ae71da-attachment.txt", "type": "text/plain"}], "start": 1763962733819, "stop": 1763962733820}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d6c512c5-bd95-49f0-9eb5-48bdec2741fa-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "5a7f4f6c-a661-42a0-a45c-6a2a830c6908-attachment.txt", "type": "text/plain"}], "start": 1763962733820, "stop": 1763962733821}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "ff0682bf-b069-42f7-9655-6db791e22bda-attachment.txt", "type": "text/plain"}], "start": 1763962733821, "stop": 1763962733821}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "04aabb9f-d892-4676-ac56-f07f0f1ad566-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "9fa8f780-6428-4ba1-8c53-45b100b3b2fc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e585654f-5a16-48bf-a385-ac2bdda0bab1-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "0ab42ab4-4d1c-4e1c-b6c4-793535d6c695-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "931cc089-945d-46a3-bcac-2edc33bc4ce2-attachment.txt", "type": "text/plain"}], "start": 1763962733821, "stop": 1763962733822}], "start": 1763962727355, "stop": 1763962733822}], "start": 1763962727355, "stop": 1763962733822}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "2a213fb0-a9f1-4e87-aa49-5d30d8d8d5b0-attachment.attach", "type": "text/plain"}], "start": 1763962733822, "stop": 1763962733823}], "start": 1763962733822, "stop": 1763962733823}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "7b0db088-f36f-4224-a7a2-15cf32c2bcdb-attachment.attach", "type": "text/plain"}], "start": 1763962733823, "stop": 1763962733823}], "start": 1763962733823, "stop": 1763962733823}], "start": 1763962733822, "stop": 1763962733823}], "attachments": [{"name": "log", "source": "9a9397f7-8c3f-4ee9-94ad-8cee8564faf5-attachment.txt", "type": "text/plain"}], "start": 1763962727355, "stop": 1763962733823, "uuid": "5b7f8c75-1907-4b1e-9d46-d6ba1de2253d", "historyId": "cbeb1f39e623f9b4a1d60f1494640537", "testCaseId": "cbeb1f39e623f9b4a1d60f1494640537", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend8#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景8：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}