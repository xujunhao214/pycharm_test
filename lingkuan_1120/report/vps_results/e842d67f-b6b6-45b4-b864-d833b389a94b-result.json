{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962787342, "stop": 1763962787424}], "attachments": [{"name": "时区处理", "source": "a14d34b7-603a-485f-b4af-1b9aa5983b20-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7e2d9759-0f7a-4f6d-8ce7-7efc77da892a-attachment.txt", "type": "text/plain"}], "start": 1763962787341, "stop": 1763962787425}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f89f2a3c-7b49-42cc-8b7d-a5599f97d613-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ca11fc59-d29e-4416-9592-f75a5004e038-attachment.txt", "type": "text/plain"}], "start": 1763962787425, "stop": 1763962787425}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "f7f4fae4-6e02-4264-8c44-a1c7ab5be874-attachment.txt", "type": "text/plain"}], "start": 1763962787425, "stop": 1763962787426}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "115ae105-4363-442d-82b2-c9b7e794f7a4-attachment.txt", "type": "text/plain"}], "start": 1763962787426, "stop": 1763962787426}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962789486, "stop": 1763962789548}], "attachments": [{"name": "时区处理", "source": "6be23429-05a0-40c7-b203-d58c05db8655-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "03cd8909-6b00-46f6-a1f7-886fb9b5458f-attachment.txt", "type": "text/plain"}], "start": 1763962789485, "stop": 1763962789548}, {"name": "轮询中（已等待2.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c8598f2f-e87b-4162-ab89-ee79ba4ffee2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6b8a0ab7-15fb-4ee5-b336-9a1d0736fc30-attachment.txt", "type": "text/plain"}], "start": 1763962789548, "stop": 1763962789549}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "01074dd7-4510-4807-9334-b84407825c78-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "2bec13d1-b24c-4867-b556-ed6b5c38c149-attachment.txt", "type": "text/plain"}], "start": 1763962789549, "stop": 1763962789550}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4567ddfd-04ba-406c-b832-b0710186ec62-attachment.txt", "type": "text/plain"}], "start": 1763962789550, "stop": 1763962789550}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962791604, "stop": 1763962791666}], "attachments": [{"name": "时区处理", "source": "d1ee1c6c-36c6-4c16-8d43-7a4c7f675a50-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2fea24bb-de14-4426-99b6-ad678ee05b2f-attachment.txt", "type": "text/plain"}], "start": 1763962791603, "stop": 1763962791666}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7bc06b17-b369-456c-ba8b-f7a1945a88af-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "57c98b5f-6531-4c94-aa02-f0d5bb9cad45-attachment.txt", "type": "text/plain"}], "start": 1763962791666, "stop": 1763962791667}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "95a5c5e5-9649-4aec-b609-bb2e7f465a32-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b0e24d14-38f5-4b71-a85b-1e9f525adbce-attachment.txt", "type": "text/plain"}], "start": 1763962791667, "stop": 1763962791667}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "31bc47b0-c081-4719-b799-cd7006617ac8-attachment.txt", "type": "text/plain"}], "start": 1763962791667, "stop": 1763962791668}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962793722, "stop": 1763962793785}], "attachments": [{"name": "时区处理", "source": "70b286a8-70be-41b7-8768-a15dce9d12ae-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "92b6676b-fecc-468e-a696-5c79f269c1d9-attachment.txt", "type": "text/plain"}], "start": 1763962793721, "stop": 1763962793785}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d51b0863-e346-42fe-a0da-3f4a2c75423b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c83f5894-b823-4fe2-9fcc-f7944aeeb33f-attachment.txt", "type": "text/plain"}], "start": 1763962793785, "stop": 1763962793786}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "079cda88-dd69-4832-bf17-81280db41b4a-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "cf2e41e3-dd5f-4303-b73a-7f68cc594447-attachment.txt", "type": "text/plain"}], "start": 1763962793786, "stop": 1763962793786}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "d0b90d61-53ec-4bd2-9ad8-0a50cdfa9eff-attachment.txt", "type": "text/plain"}], "start": 1763962793787, "stop": 1763962793787}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "9a69377e-6d6e-4361-b879-e72d45927a23-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "170371a0-136c-40b4-85bf-16b899e8da17-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cd8d2d0b-6a37-41c4-b298-2a1bb8de0833-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "d2a7ba4f-075e-480b-b0f4-753761455297-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "90910ce9-a764-4249-8b57-9d785028107c-attachment.txt", "type": "text/plain"}], "start": 1763962793787, "stop": 1763962793788}], "start": 1763962787290, "stop": 1763962793788}], "start": 1763962787290, "stop": 1763962793788}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "80494840-8fc4-4224-a3ee-b32e3d61a78d-attachment.attach", "type": "text/plain"}], "start": 1763962793788, "stop": 1763962793788}], "start": 1763962793788, "stop": 1763962793789}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "fb1efa23-237d-43e0-b6f5-8f443c74a491-attachment.attach", "type": "text/plain"}], "start": 1763962793789, "stop": 1763962793789}], "start": 1763962793789, "stop": 1763962793789}], "start": 1763962793788, "stop": 1763962793789}], "attachments": [{"name": "log", "source": "75b26f86-9ae0-44a5-bec8-40ecc22b9ccd-attachment.txt", "type": "text/plain"}], "start": 1763962787290, "stop": 1763962793789, "uuid": "ba7e6633-8edd-4c85-bd55-463f0299db1f", "historyId": "cb4097075b8f9aa9a697c83d53b3c102", "testCaseId": "cb4097075b8f9aa9a697c83d53b3c102", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend9#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景9：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}