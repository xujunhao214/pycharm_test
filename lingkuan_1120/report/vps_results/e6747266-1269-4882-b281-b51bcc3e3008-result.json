{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962651566, "stop": 1763962651663}], "attachments": [{"name": "时区处理", "source": "938c18c8-3df1-4ba5-ad49-b11afa30f31b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e447cf32-3189-498f-8999-5148840f7c46-attachment.txt", "type": "text/plain"}], "start": 1763962651565, "stop": 1763962651663}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "20a24f35-19a5-4729-8cd0-ea2d41bc8225-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "020bbc6c-b776-4a2e-8e14-fa01bac6f15d-attachment.txt", "type": "text/plain"}], "start": 1763962651663, "stop": 1763962651664}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "314d325c-f71a-4b20-a336-06aa056f339c-attachment.txt", "type": "text/plain"}], "start": 1763962651664, "stop": 1763962651665}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4925360b-6a3b-4aff-a22e-df2c401b721a-attachment.txt", "type": "text/plain"}], "start": 1763962651665, "stop": 1763962651665}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962653713, "stop": 1763962653790}], "attachments": [{"name": "时区处理", "source": "bfd05e86-3262-4b54-97d8-de3a9e63ede9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "54e86411-6fc1-4375-83a5-f9d4ff1a3dca-attachment.txt", "type": "text/plain"}], "start": 1763962653712, "stop": 1763962653790}, {"name": "轮询中（已等待2.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bab422f7-0117-4e5d-aad1-508c3d00cc7b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1f7dc17a-912e-4980-ba95-bc587aba83d1-attachment.txt", "type": "text/plain"}], "start": 1763962653790, "stop": 1763962653791}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "bfbcf07f-76c9-48f9-bcf3-f91a85e7ca01-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "33cc8261-ac08-441b-b4c1-bc5601d0dade-attachment.txt", "type": "text/plain"}], "start": 1763962653791, "stop": 1763962653792}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2eb6ae2e-0462-4735-9c89-5ad263cd3139-attachment.txt", "type": "text/plain"}], "start": 1763962653792, "stop": 1763962653792}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962655841, "stop": 1763962655907}], "attachments": [{"name": "时区处理", "source": "ae7a1a45-ec9e-4fb7-8406-123ed52b4062-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "35282ffb-1b35-46b7-ab7d-a56679beea4d-attachment.txt", "type": "text/plain"}], "start": 1763962655840, "stop": 1763962655907}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5d0d16cd-dc5e-4a52-9f52-cea5acd6d390-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "01656dfa-5697-4c5c-8ca4-e7d117aa11ea-attachment.txt", "type": "text/plain"}], "start": 1763962655907, "stop": 1763962655908}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e80ac5b7-ac81-4838-bd8c-6f603fff8668-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "98387d60-ae50-4e1b-995e-0745d8137040-attachment.txt", "type": "text/plain"}], "start": 1763962655908, "stop": 1763962655909}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "86f44d0d-0c6f-4db5-840d-6d18ec9c58c9-attachment.txt", "type": "text/plain"}], "start": 1763962655909, "stop": 1763962655909}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962657970, "stop": 1763962658031}], "attachments": [{"name": "时区处理", "source": "7dcc5aa0-dc01-4c18-9c88-4a6c6c376849-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4b12fe24-8a80-402f-b8d8-e3013059af75-attachment.txt", "type": "text/plain"}], "start": 1763962657968, "stop": 1763962658031}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "581014d2-bd90-45f6-a8b4-9de0bd2e88d2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5bbad8da-c30f-4793-88b7-bd7185bab0e9-attachment.txt", "type": "text/plain"}], "start": 1763962658032, "stop": 1763962658033}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "17650b96-4e22-4f15-8887-d0145c3cedfb-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c2abee13-6b80-4110-9f29-1822b857c610-attachment.txt", "type": "text/plain"}], "start": 1763962658033, "stop": 1763962658034}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "8ef392e5-7a71-4dac-9df5-d424ae659ff3-attachment.txt", "type": "text/plain"}], "start": 1763962658035, "stop": 1763962658035}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "c9e8ea50-6492-4ec9-a40b-5b4bc5bd5dea-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "7446d0f4-4cd7-4d0b-b869-5da23abec401-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bf600000-95f8-4898-8d60-b829cac5e2ea-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "1aebec37-10d9-47c1-8f44-2a28cb20da68-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "7408d9e5-85f7-4092-8c7b-6524653ab52b-attachment.txt", "type": "text/plain"}], "start": 1763962658035, "stop": 1763962658038}], "start": 1763962651519, "stop": 1763962658038}], "start": 1763962651519, "stop": 1763962658038}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "df478a90-a033-4d70-afac-1e630fa682f9-attachment.attach", "type": "text/plain"}], "start": 1763962658038, "stop": 1763962658038}], "start": 1763962658038, "stop": 1763962658038}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "8069dc07-70a4-481e-afe3-16eebcc0e8d3-attachment.attach", "type": "text/plain"}], "start": 1763962658038, "stop": 1763962658040}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "ab4c24bb-2d2a-41b8-8887-3857797b885d-attachment.attach", "type": "text/plain"}], "start": 1763962658040, "stop": 1763962658040}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "7efac44b-1eb1-41ed-b21c-58460bb3f7bc-attachment.attach", "type": "text/plain"}], "start": 1763962658040, "stop": 1763962658040}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "7ed7dd12-3c1f-4287-8055-6adddd1090f0-attachment.attach", "type": "text/plain"}], "start": 1763962658040, "stop": 1763962658041}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "6d460cb0-f4fd-400d-9956-02e4e859eb02-attachment.attach", "type": "text/plain"}], "start": 1763962658041, "stop": 1763962658042}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "95a8077f-6147-4587-9a8f-2da1372d1e72-attachment.attach", "type": "text/plain"}], "start": 1763962658042, "stop": 1763962658042}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "230ed058-5ca2-4ead-8e40-965e40ae159a-attachment.attach", "type": "text/plain"}], "start": 1763962658043, "stop": 1763962658043}], "start": 1763962658038, "stop": 1763962658043}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "f9ccbb50-4a22-42ff-bb04-367662f384cd-attachment.attach", "type": "text/plain"}], "start": 1763962658043, "stop": 1763962658044}], "start": 1763962658043, "stop": 1763962658044}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "4c6ad439-87be-46a2-98b9-a8362c593b23-attachment.attach", "type": "text/plain"}], "start": 1763962658044, "stop": 1763962658045}], "start": 1763962658044, "stop": 1763962658045}], "start": 1763962658038, "stop": 1763962658045}], "attachments": [{"name": "log", "source": "9809f444-be89-46ac-82ba-4e751ab5cd08-attachment.txt", "type": "text/plain"}], "start": 1763962651519, "stop": 1763962658045, "uuid": "4efe131a-ab74-4197-9a19-c9bd0612375f", "historyId": "aa9cad2104c6c6ca39e998befb5a1503", "testCaseId": "aa9cad2104c6c6ca39e998befb5a1503", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}