{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962680980, "stop": 1763962681034}], "attachments": [{"name": "时区处理", "source": "73123d96-799a-4f92-af33-36189e65f84b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "db5714d0-4ece-4c3d-9f80-d12b074ff0e7-attachment.txt", "type": "text/plain"}], "start": 1763962680979, "stop": 1763962681034}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b0aa9820-cb77-4b63-9c24-832c9e159c52-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6dc1c83c-7666-44b3-b893-75a6853f642b-attachment.txt", "type": "text/plain"}], "start": 1763962681034, "stop": 1763962681035}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "1c8887a1-6e3f-4929-910a-3da19cafe5ec-attachment.txt", "type": "text/plain"}], "start": 1763962681035, "stop": 1763962681036}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0dc5fabb-899f-40df-b245-bc8d167134c4-attachment.txt", "type": "text/plain"}], "start": 1763962681036, "stop": 1763962681036}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962683093, "stop": 1763962683146}], "attachments": [{"name": "时区处理", "source": "cf18bb59-9af9-4547-bdde-9d2eb5533f54-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4500bc25-cb87-4c94-9732-85be1eb3f367-attachment.txt", "type": "text/plain"}], "start": 1763962683091, "stop": 1763962683146}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3684c742-6ee5-4c6e-8574-1296a6f7f500-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "764776bb-ed81-437c-abfa-74f01bdeec07-attachment.txt", "type": "text/plain"}], "start": 1763962683146, "stop": 1763962683147}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "9fe92800-a73c-4b48-a7ba-5bc084f6a3de-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "65e2c64b-1f87-45cc-9d1a-12b9c90785b6-attachment.txt", "type": "text/plain"}], "start": 1763962683147, "stop": 1763962683148}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "ab31f235-42f7-4b85-8438-18aafd0dc89c-attachment.txt", "type": "text/plain"}], "start": 1763962683148, "stop": 1763962683148}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962685204, "stop": 1763962685257}], "attachments": [{"name": "时区处理", "source": "06f7fb38-d28e-4162-a290-e7b2fae90309-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1aaf0dd2-e641-434c-94f5-d96bf7645c13-attachment.txt", "type": "text/plain"}], "start": 1763962685203, "stop": 1763962685257}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "88ca2baa-f37a-4594-b68c-9fe28c605bba-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7b31226b-ba1a-476a-bb6b-8280da8161b5-attachment.txt", "type": "text/plain"}], "start": 1763962685257, "stop": 1763962685258}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "9a8ac1c2-1f76-4ef9-9662-bc34f47f063a-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "984d2a16-f686-4e59-ade9-c6fd891d3aa2-attachment.txt", "type": "text/plain"}], "start": 1763962685258, "stop": 1763962685259}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "b40fcb91-7195-49bc-96dd-c59413d70ed0-attachment.txt", "type": "text/plain"}], "start": 1763962685259, "stop": 1763962685259}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "49c450b4-a429-448a-a789-70cc11d545c1-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "30322a0a-0953-4c90-ba98-c34b311f4be7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "361214b2-e0ce-424e-b3d2-956e317264c7-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "976a8dd7-c443-48a3-abc4-43d5fde33453-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "4179c900-9803-4cc4-a483-0ce05383ee8b-attachment.txt", "type": "text/plain"}], "start": 1763962685259, "stop": 1763962685261}], "start": 1763962680930, "stop": 1763962685261}], "start": 1763962680930, "stop": 1763962685261}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "6f902fa8-ac44-4d65-a66c-55145f6e1f09-attachment.attach", "type": "text/plain"}], "start": 1763962685261, "stop": 1763962685261}], "start": 1763962685261, "stop": 1763962685261}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "d46ffc88-5e61-44a7-b724-bc882bfee29f-attachment.attach", "type": "text/plain"}], "start": 1763962685261, "stop": 1763962685262}], "start": 1763962685261, "stop": 1763962685262}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "0ba84d43-65ff-4e58-a7e2-abf5360cb466-attachment.attach", "type": "text/plain"}], "start": 1763962685262, "stop": 1763962685262}], "start": 1763962685262, "stop": 1763962685262}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "debd755d-acd3-4d5b-b1d2-afd9f1c25e03-attachment.attach", "type": "text/plain"}], "start": 1763962685262, "stop": 1763962685262}], "start": 1763962685262, "stop": 1763962685262}], "start": 1763962685262, "stop": 1763962685262}], "start": 1763962685261, "stop": 1763962685262}], "attachments": [{"name": "log", "source": "37a0a186-e981-45e3-9798-2bd2f570169e-attachment.txt", "type": "text/plain"}], "start": 1763962680930, "stop": 1763962685263, "uuid": "a5d03fca-deab-4f1f-bf90-282d18411d07", "historyId": "0321feadb6fd24bfe8d2727d6a3aa7b9", "testCaseId": "0321feadb6fd24bfe8d2727d6a3aa7b9", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}