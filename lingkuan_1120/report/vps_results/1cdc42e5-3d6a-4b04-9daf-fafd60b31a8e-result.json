{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962565630, "stop": 1763962565694}], "attachments": [{"name": "时区处理", "source": "a1a96743-a647-4b50-af24-bb40b5572add-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "138cfe03-c37c-438b-a782-412a1260ee55-attachment.txt", "type": "text/plain"}], "start": 1763962565629, "stop": 1763962565694}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4764f20c-cee1-4db4-afa0-fd2a6b329a0e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "54cb01a7-873f-4299-9483-07b845465430-attachment.txt", "type": "text/plain"}], "start": 1763962565694, "stop": 1763962565694}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "8fe20136-b49a-41d6-8450-32dcfe2fc98d-attachment.txt", "type": "text/plain"}], "start": 1763962565695, "stop": 1763962565695}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3ce46b9f-68dd-46e7-8e4c-066dacffcaf1-attachment.txt", "type": "text/plain"}], "start": 1763962565695, "stop": 1763962565695}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962567753, "stop": 1763962567815}], "attachments": [{"name": "时区处理", "source": "4309402f-35f6-45bc-8ab4-ef0e90195250-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fd77fd6d-e0b7-4a11-83a8-a9ac249925ba-attachment.txt", "type": "text/plain"}], "start": 1763962567752, "stop": 1763962567815}, {"name": "轮询中（已等待2.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a291b39b-a91d-44f9-be8c-13f5d0fc4847-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2bc90b14-a6ee-4386-8fc1-98f61499e0fe-attachment.txt", "type": "text/plain"}], "start": 1763962567815, "stop": 1763962567816}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f21cecbe-7fd7-467b-afe8-b7a14276a731-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8dfdc9f5-22e1-4e7f-bcb9-49718fe6f4f6-attachment.txt", "type": "text/plain"}], "start": 1763962567816, "stop": 1763962567816}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "74baea8e-d2df-4721-88cd-1e7a419968ac-attachment.txt", "type": "text/plain"}], "start": 1763962567816, "stop": 1763962567816}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962569879, "stop": 1763962569940}], "attachments": [{"name": "时区处理", "source": "ef635e10-1083-45d0-832a-cac93e471a7e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2af16c17-eb3e-4b02-8411-21a6b4d7ba08-attachment.txt", "type": "text/plain"}], "start": 1763962569878, "stop": 1763962569940}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3ba860a3-3a6f-4afd-add5-d3eec40db3a8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2e558109-ec87-4308-a101-7a17d770ddcc-attachment.txt", "type": "text/plain"}], "start": 1763962569940, "stop": 1763962569941}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "8543fda6-21e0-4085-8e64-42312a82c14a-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "932eed36-5d1c-4aec-a028-2ebe94589932-attachment.txt", "type": "text/plain"}], "start": 1763962569941, "stop": 1763962569942}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "9155bd7d-64f4-41ed-ae73-003d4f4feeed-attachment.txt", "type": "text/plain"}], "start": 1763962569942, "stop": 1763962569942}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "09de88f6-d0b9-4cfd-99c8-2687fc86beda-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "b81d021e-dcd1-4987-a99f-72f1de588bf0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d1593f14-6a27-429b-aba0-729af2aaa84f-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "164400f1-2360-4f6f-9750-fefceea6df45-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "433f0734-6e10-4afd-8dac-adf1546b59f1-attachment.txt", "type": "text/plain"}], "start": 1763962569942, "stop": 1763962569944}], "start": 1763962565565, "stop": 1763962569944}], "start": 1763962565564, "stop": 1763962569944}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "fb436b77-f3e9-4276-a6d3-a606d3fee1e2-attachment.attach", "type": "text/plain"}], "start": 1763962569944, "stop": 1763962569944}], "start": 1763962569944, "stop": 1763962569944}, {"name": "验证开仓的订单数量", "status": "passed", "steps": [{"name": "校验: 开仓的订单数量应该不是5", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "2a4dea77-3bab-4837-b7da-8db410e25cf9-attachment.attach", "type": "text/plain"}], "start": 1763962569944, "stop": 1763962569944}], "start": 1763962569944, "stop": 1763962569944}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "dd68343c-8a03-4346-b8e3-5708e8eca020-attachment.attach", "type": "text/plain"}], "start": 1763962569944, "stop": 1763962569945}], "start": 1763962569944, "stop": 1763962569945}], "start": 1763962569944, "stop": 1763962569945}], "start": 1763962569944, "stop": 1763962569945}], "attachments": [{"name": "log", "source": "b817c5d8-6ab0-4788-b442-0496656683a2-attachment.txt", "type": "text/plain"}], "start": 1763962565564, "stop": 1763962569945, "uuid": "c053a041-d749-41cb-9c41-04ab2899e2cb", "historyId": "db2baa3388208c33ec9ab848595a6d9f", "testCaseId": "db2baa3388208c33ec9ab848595a6d9f", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend5#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}