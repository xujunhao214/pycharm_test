{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962794100, "stop": 1763962794167}], "attachments": [{"name": "时区处理", "source": "77e555fa-9098-4acb-b7dc-1ca009fbf58f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f88ab031-8a3e-4ea8-b13e-9495c8c46c8e-attachment.txt", "type": "text/plain"}], "start": 1763962794099, "stop": 1763962794167}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "653d0c03-bc7d-45b9-8645-a2e36ae3c326-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6573f440-bddd-4952-ad1d-3f96203bbdb8-attachment.txt", "type": "text/plain"}], "start": 1763962794167, "stop": 1763962794168}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "76c0a4e3-1e44-49a7-95ff-58482316cfc6-attachment.txt", "type": "text/plain"}], "start": 1763962794168, "stop": 1763962794168}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c295a589-45b1-4171-83b8-cf9d58778f7e-attachment.txt", "type": "text/plain"}], "start": 1763962794168, "stop": 1763962794168}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962796231, "stop": 1763962796300}], "attachments": [{"name": "时区处理", "source": "e4859b29-01a8-4043-ade4-5c4b3ee43da4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6fc9bd94-e854-415c-bca2-25ff7420d5eb-attachment.txt", "type": "text/plain"}], "start": 1763962796230, "stop": 1763962796300}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "93bb99a6-f955-4159-b611-9598bcc65b14-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "267f6569-f293-41e9-9a05-206102763abb-attachment.txt", "type": "text/plain"}], "start": 1763962796300, "stop": 1763962796301}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "b9f8f26c-b2a9-4f9d-99c8-0060e244186b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "537cbfbc-6644-4fe5-b98c-c8eb06e57a06-attachment.txt", "type": "text/plain"}], "start": 1763962796301, "stop": 1763962796301}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "89144548-6631-4b7f-9eed-b81e844ac0aa-attachment.txt", "type": "text/plain"}], "start": 1763962796301, "stop": 1763962796301}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962798350, "stop": 1763962798410}], "attachments": [{"name": "时区处理", "source": "73f1628e-c1a0-4d3a-bf12-68a64a861725-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7a5b7119-ec04-4ef7-8bae-010da086514f-attachment.txt", "type": "text/plain"}], "start": 1763962798349, "stop": 1763962798410}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e8b0ccd6-cb8a-4f8f-a760-3e6807a934d2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f23df0aa-de2d-4af4-8268-9248eb8fa266-attachment.txt", "type": "text/plain"}], "start": 1763962798410, "stop": 1763962798411}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "27514682-8a67-4289-a36a-978d0f43b0ef-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "96a93cb7-64d5-4dcd-b794-a384c95d4b01-attachment.txt", "type": "text/plain"}], "start": 1763962798411, "stop": 1763962798412}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "2d0b90f3-89ee-4bad-a14b-c62be4956b84-attachment.txt", "type": "text/plain"}], "start": 1763962798412, "stop": 1763962798412}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "94d96ccf-c056-4e28-a08c-e3beb6ad05cb-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "e8b3b524-fc8f-42f7-a481-800c3a4766cc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "78682cd5-6b0b-44fd-801b-02a214db88cc-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "fa33edb3-80f4-49b4-bb49-9879f282cc6a-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "d54ce4d0-f046-435c-b4b5-af137084b75b-attachment.txt", "type": "text/plain"}], "start": 1763962798412, "stop": 1763962798414}], "start": 1763962794053, "stop": 1763962798414}], "start": 1763962794053, "stop": 1763962798414}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "3ca2ee5f-ecc0-47e0-b513-de2a09d69e4c-attachment.attach", "type": "text/plain"}], "start": 1763962798415, "stop": 1763962798415}], "start": 1763962798414, "stop": 1763962798415}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "d8d7fe2d-f56a-4735-9896-302c57ffe97f-attachment.attach", "type": "text/plain"}], "start": 1763962798415, "stop": 1763962798415}], "start": 1763962798415, "stop": 1763962798415}], "start": 1763962798414, "stop": 1763962798415}], "attachments": [{"name": "log", "source": "90ddf37d-885b-45ab-b446-c60523221322-attachment.txt", "type": "text/plain"}], "start": 1763962794052, "stop": 1763962798415, "uuid": "64e6b5de-9907-4053-b56c-0f1078e749d0", "historyId": "9443083a7f0dab465aa339b2b80a7e98", "testCaseId": "9443083a7f0dab465aa339b2b80a7e98", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend9#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景9：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}