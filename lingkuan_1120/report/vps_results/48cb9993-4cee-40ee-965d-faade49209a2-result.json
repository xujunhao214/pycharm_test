{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962669237, "stop": 1763962669300}], "attachments": [{"name": "时区处理", "source": "bfa3a2c4-973a-4230-9235-06b7ffc51c47-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "76d322c9-9363-4b46-8339-eddd20f4f121-attachment.txt", "type": "text/plain"}], "start": 1763962669236, "stop": 1763962669300}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b32360a0-35ea-4660-86db-b4d28ab21579-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4b2320d6-6885-4023-a75d-470aaf2c8b21-attachment.txt", "type": "text/plain"}], "start": 1763962669300, "stop": 1763962669301}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "11364154-e4dd-4a30-8313-37475ead8ce9-attachment.txt", "type": "text/plain"}], "start": 1763962669301, "stop": 1763962669301}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5a6cebbb-d95c-40ec-9bce-d7f31721508f-attachment.txt", "type": "text/plain"}], "start": 1763962669301, "stop": 1763962669301}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962671360, "stop": 1763962671425}], "attachments": [{"name": "时区处理", "source": "819cc01a-3abb-4e80-b418-ebed2d3513f3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "15ac8da9-f7f7-4adb-b5d1-a8a8fef73229-attachment.txt", "type": "text/plain"}], "start": 1763962671359, "stop": 1763962671425}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "eb281ccb-e7c2-424d-84da-7e888f91bed7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1ce18b07-905e-4e36-b1e7-a3809603fd08-attachment.txt", "type": "text/plain"}], "start": 1763962671425, "stop": 1763962671426}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f69a9849-cc51-43ac-8394-4f20a81eb2cf-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d297025d-306d-4958-b24f-f2d1a9f309e2-attachment.txt", "type": "text/plain"}], "start": 1763962671426, "stop": 1763962671427}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d9b9dda1-f9fc-4c57-ae69-e75678d7e098-attachment.txt", "type": "text/plain"}], "start": 1763962671427, "stop": 1763962671427}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962673488, "stop": 1763962673552}], "attachments": [{"name": "时区处理", "source": "b76b00b5-e417-44f4-ae28-544c656c44f7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d9ec6427-9a61-4713-bb59-17886cc88df9-attachment.txt", "type": "text/plain"}], "start": 1763962673487, "stop": 1763962673552}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3d071cf9-6bd1-4f64-af9b-2c0fedb76ff4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5f034d8c-668a-4285-9e7d-f5c54c6131ee-attachment.txt", "type": "text/plain"}], "start": 1763962673552, "stop": 1763962673553}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "49cb4c90-c98e-41ca-b63f-b8e1f735aa8c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "30c04056-fb6e-4193-b405-347b7cf32b8e-attachment.txt", "type": "text/plain"}], "start": 1763962673553, "stop": 1763962673553}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "f27fce54-a5df-48c1-88f8-51afbbefb255-attachment.txt", "type": "text/plain"}], "start": 1763962673553, "stop": 1763962673554}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962675635, "stop": 1763962675747}], "attachments": [{"name": "时区处理", "source": "de75e215-28af-4850-a3d3-80d28ca231c3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4a60931a-8a81-4922-829e-6adfd985ebfc-attachment.txt", "type": "text/plain"}], "start": 1763962675634, "stop": 1763962675747}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "701764ad-3a6b-49bc-8fad-12afa60c1c96-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c51d9a4d-21b5-4796-9964-ba2ba7ef23a1-attachment.txt", "type": "text/plain"}], "start": 1763962675747, "stop": 1763962675748}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c2c954b3-af2e-44d5-91cf-7198ea07bf12-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "add44205-512f-45a5-b6f0-99018a3a5e26-attachment.txt", "type": "text/plain"}], "start": 1763962675748, "stop": 1763962675749}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "2dd76b6f-8eb2-4553-8350-a7321b71e726-attachment.txt", "type": "text/plain"}], "start": 1763962675749, "stop": 1763962675749}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "b6354312-af1d-4726-b8b7-1c8e36e3dd46-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "9a11863d-b3ac-4b95-b43d-a4db0c0cc0fb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "046767af-72d4-4a96-b737-a9fdd90c20ef-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "126326c9-8f46-4540-8d77-522f3b8ff736-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "6508cfd6-4cd1-48c9-afd2-51e0d03d35c0-attachment.txt", "type": "text/plain"}], "start": 1763962675749, "stop": 1763962675751}], "start": 1763962669188, "stop": 1763962675751}], "start": 1763962669188, "stop": 1763962675751}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "054f6309-9b33-46fc-9293-7dd4dc5e9934-attachment.attach", "type": "text/plain"}], "start": 1763962675751, "stop": 1763962675751}], "start": 1763962675751, "stop": 1763962675751}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "10d7ccd6-164c-4623-8e0a-1e261e1cc8bb-attachment.attach", "type": "text/plain"}], "start": 1763962675751, "stop": 1763962675751}], "start": 1763962675751, "stop": 1763962675752}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "a32b34c9-7411-43fe-95c8-d19602b6f43e-attachment.attach", "type": "text/plain"}], "start": 1763962675752, "stop": 1763962675752}], "start": 1763962675752, "stop": 1763962675752}], "start": 1763962675751, "stop": 1763962675752}], "attachments": [{"name": "log", "source": "181643cd-0bbf-4205-8891-f3cb44ba1ca1-attachment.txt", "type": "text/plain"}], "start": 1763962669188, "stop": 1763962675752, "uuid": "1e5db0ae-db5a-4c72-8d04-b9a0fc7cd494", "historyId": "e0c4aa0b74c0975b887022aabaaed9e2", "testCaseId": "e0c4aa0b74c0975b887022aabaaed9e2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}