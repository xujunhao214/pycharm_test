{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962740854, "stop": 1763962740910}], "attachments": [{"name": "时区处理", "source": "a8bfa6ee-e8a1-44fb-b5e1-13db9ae5834d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c6ef719e-ef45-4dae-babd-69dfe9b970c9-attachment.txt", "type": "text/plain"}], "start": 1763962740853, "stop": 1763962740910}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "41498508-2de2-49ee-a96d-786601c9096e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2fbfa84c-400a-4e6d-91b3-cabe73056425-attachment.txt", "type": "text/plain"}], "start": 1763962740910, "stop": 1763962740912}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2ff8d2a5-c3e9-4c81-a316-e2356c3beebf-attachment.txt", "type": "text/plain"}], "start": 1763962740912, "stop": 1763962740913}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "366d242c-dbad-41f9-961a-940409b6faeb-attachment.txt", "type": "text/plain"}], "start": 1763962740913, "stop": 1763962740914}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962742972, "stop": 1763962743025}], "attachments": [{"name": "时区处理", "source": "6fdd63b8-fd70-44e7-b390-db895ed62d0d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4471a579-33dd-4321-9576-0c1b9a75b842-attachment.txt", "type": "text/plain"}], "start": 1763962742971, "stop": 1763962743025}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7ec1729a-5b5b-4799-9b35-f956221d12cd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "624deb5e-5785-43c2-9f9f-4ba40ddea21f-attachment.txt", "type": "text/plain"}], "start": 1763962743025, "stop": 1763962743026}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "33802340-f42e-400b-86af-345cbdca98ee-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0833f833-a074-41dc-b76e-b3f838e44e64-attachment.txt", "type": "text/plain"}], "start": 1763962743026, "stop": 1763962743026}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "fded556e-6e63-42ed-a59a-f9d52f7b7205-attachment.txt", "type": "text/plain"}], "start": 1763962743026, "stop": 1763962743027}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962745089, "stop": 1763962745147}], "attachments": [{"name": "时区处理", "source": "8145dec8-c793-44b4-bddf-8d4eeff32074-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d43ef357-959d-4625-8c49-2cfa66be13e0-attachment.txt", "type": "text/plain"}], "start": 1763962745088, "stop": 1763962745147}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "323f5ced-434f-4778-9ee9-7a9a252ae0ba-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "21cf0c7d-bf0c-4b2b-8a30-74a5b266ff7e-attachment.txt", "type": "text/plain"}], "start": 1763962745147, "stop": 1763962745148}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "3a84f081-6bb6-4fe6-9c6f-843fd769dd13-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "919b1a27-25b6-4ffc-940a-244372e3e5d5-attachment.txt", "type": "text/plain"}], "start": 1763962745148, "stop": 1763962745149}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f557988c-d8d5-4556-8fa9-98522b8932fc-attachment.txt", "type": "text/plain"}], "start": 1763962745149, "stop": 1763962745149}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "158fee77-2099-40bb-b818-488bbd335194-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "49e56741-ae7c-4311-9e13-503869560de6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e8da309e-eef3-41be-a829-65006846c34a-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "6c810d38-a20c-4d93-87e6-1fa689176f1f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "8926e19b-e5c9-451b-9bdc-d18e02183245-attachment.txt", "type": "text/plain"}], "start": 1763962745149, "stop": 1763962745151}], "start": 1763962740800, "stop": 1763962745151}], "start": 1763962740800, "stop": 1763962745151}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "1efdc414-6ff8-46fc-b1f1-f2b0c80b2b28-attachment.attach", "type": "text/plain"}], "start": 1763962745151, "stop": 1763962745151}], "start": 1763962745151, "stop": 1763962745151}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "08d94842-13ef-4ddc-81eb-4c4fd41151ea-attachment.attach", "type": "text/plain"}], "start": 1763962745151, "stop": 1763962745152}], "start": 1763962745151, "stop": 1763962745152}], "start": 1763962745151, "stop": 1763962745152}], "attachments": [{"name": "log", "source": "4baf9de6-cdb3-42b3-90c0-204573b05c6c-attachment.txt", "type": "text/plain"}], "start": 1763962740800, "stop": 1763962745152, "uuid": "148c09f7-c0c4-4ecb-925e-7efcc126a298", "historyId": "9a29db44de89b4efb98c6890ac1bf743", "testCaseId": "9a29db44de89b4efb98c6890ac1bf743", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend8#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "story", "value": "场景8：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}