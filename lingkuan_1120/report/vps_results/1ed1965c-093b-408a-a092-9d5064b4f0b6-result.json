{"name": "数据库校验-策略开仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962711230, "stop": 1763962711281}], "attachments": [{"name": "时区处理", "source": "1512f7b5-5351-4230-8e08-1948e45b8a5d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "672bc17e-163c-4049-bb65-f20345711f94-attachment.txt", "type": "text/plain"}], "start": 1763962711228, "stop": 1763962711281}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7cb389bb-015a-440b-9922-d367aa316a5f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "18dfe013-998f-4634-8d14-fa58cac071e4-attachment.txt", "type": "text/plain"}], "start": 1763962711281, "stop": 1763962711281}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "e888bbe7-65e9-4b07-872a-14bddc9a2367-attachment.txt", "type": "text/plain"}], "start": 1763962711281, "stop": 1763962711282}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f9ab1d74-94b7-4cd7-9f9f-05706c09aa79-attachment.txt", "type": "text/plain"}], "start": 1763962711282, "stop": 1763962711282}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962713345, "stop": 1763962713396}], "attachments": [{"name": "时区处理", "source": "d3575759-7c50-45f7-9aa3-513e9de2dc6e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "41f981c4-4201-4241-a5cd-41e466c4c412-attachment.txt", "type": "text/plain"}], "start": 1763962713344, "stop": 1763962713396}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d7306032-81f1-4bab-98ba-43553581f37e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ab58daf8-7923-4919-a050-232acaf63a33-attachment.txt", "type": "text/plain"}], "start": 1763962713396, "stop": 1763962713396}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ccb1c259-e685-4b14-b375-1c9f7abe4ea7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "ece895eb-92ae-4321-94a5-8e7030a637e2-attachment.txt", "type": "text/plain"}], "start": 1763962713396, "stop": 1763962713396}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "d4bb52f1-18a1-4950-9295-d4f5a17f5d33-attachment.txt", "type": "text/plain"}], "start": 1763962713396, "stop": 1763962713397}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962715456, "stop": 1763962715506}], "attachments": [{"name": "时区处理", "source": "61cd7ad9-bf2b-48ef-9ed2-46a04d7f5a4b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7997ed10-bd0d-4aa4-b052-485bdbefea59-attachment.txt", "type": "text/plain"}], "start": 1763962715455, "stop": 1763962715506}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4ef353ea-be02-4dab-96ba-9aa0c3359676-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9e3e1a03-9f8b-41cc-90d3-6df5b4582361-attachment.txt", "type": "text/plain"}], "start": 1763962715507, "stop": 1763962715507}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "126c1270-7a59-47c0-a3a8-6e5ac7801ccf-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "029bee0e-e660-4a65-8292-723f3e3f3b6b-attachment.txt", "type": "text/plain"}], "start": 1763962715508, "stop": 1763962715508}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "b63a15e1-3287-4b0c-b6d2-a78acf57de17-attachment.txt", "type": "text/plain"}], "start": 1763962715508, "stop": 1763962715508}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "c3edcf7a-0ec9-4abf-85c7-1a7644d42749-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "d11c3865-02bd-4ed0-bb2b-bf16dbf9023f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1ddb2eaf-c530-4232-a4dd-fdb02f056981-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "12275267-e7bf-48e2-b547-61fbc5264548-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "eda102d2-3394-4875-b549-ef2f7ebe354f-attachment.txt", "type": "text/plain"}], "start": 1763962715508, "stop": 1763962715510}], "start": 1763962711181, "stop": 1763962715510}], "start": 1763962711181, "stop": 1763962715510}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "bdbbb0a1-f7a3-485d-8a41-82fa8283a0f6-attachment.attach", "type": "text/plain"}], "start": 1763962715510, "stop": 1763962715510}], "start": 1763962715510, "stop": 1763962715510}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "d3eda3aa-61d6-4408-b804-e835a30841dc-attachment.attach", "type": "text/plain"}], "start": 1763962715510, "stop": 1763962715511}], "start": 1763962715510, "stop": 1763962715511}], "start": 1763962715510, "stop": 1763962715511}], "attachments": [{"name": "log", "source": "22dc9ed6-e931-4241-91bc-b2fb6e3758cf-attachment.txt", "type": "text/plain"}], "start": 1763962711181, "stop": 1763962715511, "uuid": "40557559-484e-4a6a-8758-bd3ade5a3697", "historyId": "ac3efc0fcbd9236bbd3d1c55e14aa8e2", "testCaseId": "ac3efc0fcbd9236bbd3d1c55e14aa8e2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend8#test_dbquery_addsalve_MT5orderSend", "labels": [{"name": "story", "value": "场景8：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}