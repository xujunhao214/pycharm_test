{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总订单3，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962379224, "stop": 1763962379277}], "attachments": [{"name": "时区处理", "source": "a5e4545e-bd03-4d84-bbaa-8ceaa13d910e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f091f8ab-ec5e-4bda-940c-e1631e9014a7-attachment.txt", "type": "text/plain"}], "start": 1763962379223, "stop": 1763962379277}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "db0fbf70-0532-4d92-b961-41e0d2fca849-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "170c8a4a-7343-48ec-89e3-d1a777ace562-attachment.txt", "type": "text/plain"}], "start": 1763962379277, "stop": 1763962379278}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "5325076c-254b-4560-a635-2f678e6aa760-attachment.txt", "type": "text/plain"}], "start": 1763962379278, "stop": 1763962379278}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d02927ce-6053-4d17-9181-3ac0e4c63805-attachment.txt", "type": "text/plain"}], "start": 1763962379278, "stop": 1763962379279}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962381345, "stop": 1763962381403}], "attachments": [{"name": "时区处理", "source": "f0b6b9a8-a291-4e2c-8f6f-ca5d0e856d75-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "46e6235e-861c-467f-acb4-ceb7a1cd3cf9-attachment.txt", "type": "text/plain"}], "start": 1763962381344, "stop": 1763962381403}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ff6e97bd-8442-4df5-8104-b4100cf2ebcb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "965b1d3d-3c4f-4209-97af-023da1aecc05-attachment.txt", "type": "text/plain"}], "start": 1763962381403, "stop": 1763962381405}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "256dbcc6-93ce-4948-84ae-46db2aa69d9f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "375cad53-31a6-43c4-9a7f-9df9103f03e2-attachment.txt", "type": "text/plain"}], "start": 1763962381405, "stop": 1763962381407}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "891b559d-32ca-4b12-a7be-4c84618a66b5-attachment.txt", "type": "text/plain"}], "start": 1763962381407, "stop": 1763962381408}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962383476, "stop": 1763962383531}], "attachments": [{"name": "时区处理", "source": "9b2eafc9-d6a3-4b91-9ca8-8a3b5a9132a4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0fba4163-9f47-4a0a-99f8-ea4ad6b8363f-attachment.txt", "type": "text/plain"}], "start": 1763962383475, "stop": 1763962383531}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0196dfa6-00c6-4f9c-bd1b-0c401511e22a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0dc802fc-e3d4-49d0-ac21-ebb3afb8c093-attachment.txt", "type": "text/plain"}], "start": 1763962383531, "stop": 1763962383531}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "44aca5bd-1782-4eb6-80d5-925f6928279e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "9c5a842b-7bf3-4cd4-a269-9a2e629d2804-attachment.txt", "type": "text/plain"}], "start": 1763962383531, "stop": 1763962383532}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "e79106bf-5511-48e3-a67f-80106c4495ab-attachment.txt", "type": "text/plain"}], "start": 1763962383532, "stop": 1763962383533}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "1dda7a6e-2df5-4f3b-9be9-7a00f60e7e94-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "ab8bd2be-b778-4d19-a5e1-460d7d0411b9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "26322dfa-8b01-45be-ae71-47ab0782ab0c-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "7435d392-e6e4-4283-bbd4-5d373fa584cb-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "a7c3a179-4ea9-4f47-b812-315df43f895d-attachment.txt", "type": "text/plain"}], "start": 1763962383533, "stop": 1763962383534}], "start": 1763962379175, "stop": 1763962383534}], "start": 1763962379175, "stop": 1763962383534}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "e82f1470-8da1-4240-ab46-c01f3bfecbf3-attachment.attach", "type": "text/plain"}], "start": 1763962383534, "stop": 1763962383534}], "start": 1763962383534, "stop": 1763962383535}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "344a575c-e387-4be3-8f09-5182faf7ed11-attachment.attach", "type": "text/plain"}], "start": 1763962383535, "stop": 1763962383535}], "start": 1763962383535, "stop": 1763962383535}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "0f237b19-1faf-4b8e-9aba-c651e9870062-attachment.attach", "type": "text/plain"}], "start": 1763962383535, "stop": 1763962383535}], "start": 1763962383535, "stop": 1763962383535}], "start": 1763962383535, "stop": 1763962383535}], "start": 1763962383534, "stop": 1763962383535}], "attachments": [{"name": "log", "source": "4d7e9d20-e5e0-46a4-bb88-4353d2394de2-attachment.txt", "type": "text/plain"}], "start": 1763962379174, "stop": 1763962383535, "uuid": "548a9e09-6aed-49db-8c30-084ab4df6779", "historyId": "c8b7ecf141075cee078de37aa483d4f4", "testCaseId": "c8b7ecf141075cee078de37aa483d4f4", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend1#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "story", "value": "场景1：复制下单-手数0.1-1，总订单3，总手数1"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}