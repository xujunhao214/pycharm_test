{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962699891, "stop": 1763962699955}], "attachments": [{"name": "时区处理", "source": "82efd48b-614a-4342-a5d7-5697861a2afd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ee332a40-1cdf-4615-af6e-a87fad0a5ec8-attachment.txt", "type": "text/plain"}], "start": 1763962699890, "stop": 1763962699955}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a4308ecb-311d-49c2-8467-2ac871c053a3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ebede156-bb75-4030-a417-593d5b482a91-attachment.txt", "type": "text/plain"}], "start": 1763962699955, "stop": 1763962699955}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2bed6768-592c-443c-8f02-7190017a0206-attachment.txt", "type": "text/plain"}], "start": 1763962699955, "stop": 1763962699956}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "80e65704-cd4b-4212-8534-4727eaf41ac5-attachment.txt", "type": "text/plain"}], "start": 1763962699956, "stop": 1763962699957}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962702024, "stop": 1763962702089}], "attachments": [{"name": "时区处理", "source": "09f51f0c-4b7e-45ff-98b2-5ff46cd35d6e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5f03b529-11ef-426a-b4e3-afaf966010b1-attachment.txt", "type": "text/plain"}], "start": 1763962702023, "stop": 1763962702089}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "141bda89-2953-4e3d-bc8b-8a1fe4a34ba5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "35cc97e5-63ff-41b6-aeac-f0af74845fc9-attachment.txt", "type": "text/plain"}], "start": 1763962702089, "stop": 1763962702090}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6d9a7f00-40ec-4b0e-a27e-2003b10f01e4-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "dae578de-878b-4192-9340-586ea1b1406a-attachment.txt", "type": "text/plain"}], "start": 1763962702090, "stop": 1763962702090}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3e41455d-3954-4659-8522-1d4c2d08251b-attachment.txt", "type": "text/plain"}], "start": 1763962702090, "stop": 1763962702090}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962704150, "stop": 1763962704213}], "attachments": [{"name": "时区处理", "source": "814d77e7-1154-46aa-b147-7909f63c4cae-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3094a856-f2d9-4002-b892-f7d504562b35-attachment.txt", "type": "text/plain"}], "start": 1763962704149, "stop": 1763962704213}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2c2f4962-e9ab-47eb-84b4-a335b5c4319d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "71826716-3478-4dc8-805e-cd3c57360223-attachment.txt", "type": "text/plain"}], "start": 1763962704213, "stop": 1763962704214}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "be7af6b8-15e7-4bba-b6cc-da3d25ca7f7c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "51870399-9a4c-4d29-9f35-017741b0b6bb-attachment.txt", "type": "text/plain"}], "start": 1763962704214, "stop": 1763962704215}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "05d6016d-6fd7-40d4-a877-87f94323ceec-attachment.txt", "type": "text/plain"}], "start": 1763962704215, "stop": 1763962704215}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962706264, "stop": 1763962706326}], "attachments": [{"name": "时区处理", "source": "394398d5-fdc9-4200-a275-9c36b9ece024-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b8c4aeca-6a2a-4c39-bd15-e76c0b971290-attachment.txt", "type": "text/plain"}], "start": 1763962706263, "stop": 1763962706326}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "94469026-fdad-425b-9d23-4c15ae68d677-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7b32a10d-14d4-4ab9-b827-7cd0f7e084bb-attachment.txt", "type": "text/plain"}], "start": 1763962706326, "stop": 1763962706327}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e6980669-ee5e-4a36-a41e-32674189e7b7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "736d36b4-6936-46cd-8438-9b4b33bf736a-attachment.txt", "type": "text/plain"}], "start": 1763962706327, "stop": 1763962706328}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "686d34af-2ef8-4d7a-9f5d-9434a908004f-attachment.txt", "type": "text/plain"}], "start": 1763962706328, "stop": 1763962706328}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "444cac1b-f521-403c-b0f2-9ab4b089947e-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "0e1f8140-e2dc-4013-b97b-8b8165551739-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "22d27e58-8014-4e2a-9f6c-94b0740d2ad3-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "38f7ef13-7995-467c-a0c6-a51694ad851f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "d2adffd8-40ef-4f9a-b8c8-c33cc0b4c4d8-attachment.txt", "type": "text/plain"}], "start": 1763962706328, "stop": 1763962706329}], "start": 1763962699843, "stop": 1763962706329}], "start": 1763962699842, "stop": 1763962706329}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "6394c638-d714-4e08-82c8-0db96cd674a1-attachment.attach", "type": "text/plain"}], "start": 1763962706329, "stop": 1763962706330}], "start": 1763962706329, "stop": 1763962706330}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "a517235d-ae5a-434a-a7b4-22b6f5572179-attachment.attach", "type": "text/plain"}], "start": 1763962706330, "stop": 1763962706330}], "start": 1763962706330, "stop": 1763962706330}], "start": 1763962706329, "stop": 1763962706330}], "attachments": [{"name": "log", "source": "7e6ae488-31a7-41d1-8e15-0e6169b4c8bb-attachment.txt", "type": "text/plain"}], "start": 1763962699842, "stop": 1763962706330, "uuid": "96df6c4b-bae8-453c-8fc5-2b1719d06827", "historyId": "bf4f74e167791ee3998b63b10aed35b0", "testCaseId": "bf4f74e167791ee3998b63b10aed35b0", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend8#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景8：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}