{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.6-1，总手数1\n      2. 校验手数范围限制是否生效，只有一个订单，订单手数大于等于0.6\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确，权重正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962640734, "stop": 1763962640796}], "attachments": [{"name": "时区处理", "source": "336751ce-1e36-4fce-8e6a-6507d0b8b4a7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e95de20f-9b94-45aa-b82c-cd3d6d356f14-attachment.txt", "type": "text/plain"}], "start": 1763962640733, "stop": 1763962640796}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "06e07942-7d3b-4c24-997c-68b16ae3a214-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d2ee9386-ddb0-45ee-9115-348c5dd80923-attachment.txt", "type": "text/plain"}], "start": 1763962640796, "stop": 1763962640797}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "cdbb9ad3-d4f3-4498-9334-c3ea6e0a111b-attachment.txt", "type": "text/plain"}], "start": 1763962640797, "stop": 1763962640797}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cf366bd0-5449-4b27-919c-8cca03b01d29-attachment.txt", "type": "text/plain"}], "start": 1763962640797, "stop": 1763962640797}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962642847, "stop": 1763962642914}], "attachments": [{"name": "时区处理", "source": "3856b87e-e34b-405f-a047-957cb9d74f73-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "54cd7c30-d784-44a8-ae3d-de8ecea6ea02-attachment.txt", "type": "text/plain"}], "start": 1763962642845, "stop": 1763962642915}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "098678e5-7849-48b2-87d6-331d7f4597f5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "007cb530-18a9-4119-ae76-abe6a026c504-attachment.txt", "type": "text/plain"}], "start": 1763962642915, "stop": 1763962642916}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e76320c2-bcc5-4ca3-9bdc-685dfdf32180-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "fd565683-0ac1-414d-92b4-eb761b485db6-attachment.txt", "type": "text/plain"}], "start": 1763962642916, "stop": 1763962642917}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "73d8843b-d482-476d-9834-8c16b2cf7e91-attachment.txt", "type": "text/plain"}], "start": 1763962642917, "stop": 1763962642918}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763962644991, "stop": 1763962645052}], "attachments": [{"name": "时区处理", "source": "e76faf36-f5dc-470b-a4ac-d6c5e6fdd919-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ab93b136-a7b3-4c43-9df1-994c6c8b3f06-attachment.txt", "type": "text/plain"}], "start": 1763962644990, "stop": 1763962645052}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8a20e3fe-42b8-405c-ac11-fc1d00bb1f67-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7900eef1-dc54-4caa-b8ea-a54399f768d8-attachment.txt", "type": "text/plain"}], "start": 1763962645052, "stop": 1763962645053}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "0aee25c2-3135-4396-9605-cece49a67134-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "f888f680-c7bf-48b3-922c-2e3af7bf82fa-attachment.txt", "type": "text/plain"}], "start": 1763962645053, "stop": 1763962645054}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "08751948-650e-4ad3-b697-a6a4b56a8230-attachment.txt", "type": "text/plain"}], "start": 1763962645054, "stop": 1763962645054}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "c39ccd95-58b7-4832-a38e-29f71277a75f-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "2f48dd49-8ada-4b04-b581-eb728b1ae8b8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a42dcc23-0544-48a9-88a7-63c6b8120f70-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "fc360142-6c09-4420-aa1f-02f5a39346c5-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "0d14110c-fc61-4362-ac72-09d610db2b9f-attachment.txt", "type": "text/plain"}], "start": 1763962645054, "stop": 1763962645055}], "start": 1763962640686, "stop": 1763962645055}], "start": 1763962640686, "stop": 1763962645055}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "2cc33998-309d-4c77-aa40-8eb2967ce71e-attachment.attach", "type": "text/plain"}], "start": 1763962645056, "stop": 1763962645056}], "start": 1763962645056, "stop": 1763962645056}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "2a9c6ef0-d3fd-462d-ba28-7285b6543b34-attachment.attach", "type": "text/plain"}], "start": 1763962645056, "stop": 1763962645057}], "start": 1763962645056, "stop": 1763962645057}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "073fa526-a154-464a-8880-6eb6c504eebf-attachment.attach", "type": "text/plain"}], "start": 1763962645057, "stop": 1763962645057}], "start": 1763962645057, "stop": 1763962645057}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "16ae523a-65ed-43bb-aaf8-b60ef1b1757d-attachment.attach", "type": "text/plain"}], "start": 1763962645057, "stop": 1763962645057}], "start": 1763962645057, "stop": 1763962645057}], "start": 1763962645057, "stop": 1763962645058}], "start": 1763962645056, "stop": 1763962645058}], "attachments": [{"name": "log", "source": "29e5da21-aa66-4453-87f7-d94fefce848e-attachment.txt", "type": "text/plain"}], "start": 1763962640686, "stop": 1763962645058, "uuid": "324ce2d6-4dbd-41e6-8dac-c65a00b50599", "historyId": "cd43104cdb2796bde1434c08a33d1ca0", "testCaseId": "cd43104cdb2796bde1434c08a33d1ca0", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend6#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景6：VPS策略下单-手数范围0.6-1，总手数1"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "38380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}