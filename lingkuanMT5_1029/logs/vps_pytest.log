INFO     - 2025-11-07 10:22:38 - [conftest:291] - [2025-11-07 10:22] 测试会话开始: 2025-11-07 10:22:38, 测试组: vps
INFO     - 2025-11-07 10:22:38 - [variable_manager:40] - [2025-11-07 10:22] 成功加载静态变量: VAR\test_data.json
INFO     - 2025-11-07 10:22:38 - [variable_manager:64] - [2025-11-07 10:22] 成功加载运行时变量: VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:38 - [conftest:64] - [2025-11-07 10:22:38] 用例 test_vps/test_create.py::TestCreate::test_create_user 开始登录，环境: test
DEBUG    - 2025-11-07 10:22:38 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:22:38 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:22:38 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:22:38","refreshTokenExpire":"2025-11-21 10:22:38","access_token":"320d19c616fc45d3b7f80935290b8563","refresh_token":"e445aaca78e44170a1929c3f3fdf6b85"}}
INFO     - 2025-11-07 10:22:38 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:22:38 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
DEBUG    - 2025-11-07 10:22:39 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/mascontrol/user HTTP/11" 200 None
INFO     - 2025-11-07 10:22:39 - [api_base:152] - [2025-11-07 10:22:39] POST请求（JSON）: /mascontrol/user 
数据: {'account': '66938911', 'password': '4d490499c86409791b0800ba36b9665c', 'platform': 'CWGMarketsSVG-Demo', 'platformType': 1, 'serverNode': '47.238.99.66:443', 'remark': '', 'sort': '12', 'vpsDescs': None}
INFO     - 2025-11-07 10:22:39 - [api_base:160] - [2025-11-07 10:22:39] 请求后等待 1 秒
INFO     - 2025-11-07 10:22:40 - [conftest:172] - [2025-11-07 10:22:40] 用例 test_vps/test_create.py::TestCreate::test_create_user 执行完毕
INFO     - 2025-11-07 10:22:40 - [api_base:448] - [2025-11-07 10:22:40] 执行SQL: SELECT * FROM FOLLOW_TRADER_USER WHERE account = %s ORDER BY create_time DESC 
参数: ('66938911',)
INFO     - 2025-11-07 10:22:40 - [api_base:451] - [2025-11-07 10:22:40] 查询成功，结果数量: 1
INFO     - 2025-11-07 10:22:40 - [api_base:463] - [2025-11-07 10:22:40] 查询结果: [{"id": 10099, "account": "66938911", "password": "4d490499c86409791b0800ba36b9665c", "platform_id": 2636, "platform": "CWGMarketsSVG-Demo", "account_type": "1", "server_node": "47.238.99.66:443", "group_name": null, "group_id": null, "sort": 12, "status": 0, "remark": null, "version": 0, "deleted": 0, "creator": 10000, "create_time": "2025-11-07 10:22:39", "updater": 10000, "update_time": "2025-11-07 10:22:39", "platform_type": 1}]
INFO     - 2025-11-07 10:22:40 - [test_create:72] - 新增用户ID: 10099
INFO     - 2025-11-07 10:22:40 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:40 - [api_base:448] - [2025-11-07 10:22:40] 执行SQL: SELECT * FROM follow_platform WHERE server = %s ORDER BY create_time DESC 
参数: ('CWGMarketsSVG-Demo',)
INFO     - 2025-11-07 10:22:40 - [api_base:451] - [2025-11-07 10:22:40] 查询成功，结果数量: 1
INFO     - 2025-11-07 10:22:40 - [api_base:463] - [2025-11-07 10:22:40] 查询结果: [{"id": 2636, "broker_name": "CWGMarketsSVG", "platform_type": 1, "server": "CWGMarketsSVG-Demo", "server_node": "47.91.76.126:443", "remark": null, "version": null, "deleted": 0, "creator": null, "create_time": "2025-09-17 15:35:57", "updater": 10107, "update_time": "2025-10-21 11:15:21", "logo": "https://java-copytrade-new.oss-cn-beijing.aliyuncs.com/test/20251021/yanshi_40519.png", "max_lots": null, "suffix_cfd": null, "suffix_forex": null, "suffix_enabled": 0}]
INFO     - 2025-11-07 10:22:40 - [test_create:92] - 平台ID: 2636
INFO     - 2025-11-07 10:22:40 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:40 - [conftest:64] - [2025-11-07 10:22:40] 用例 test_vps/test_create.py::TestCreate::test_create_importuser 开始登录，环境: test
DEBUG    - 2025-11-07 10:22:40 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:22:41 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:22:41 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:22:41","refreshTokenExpire":"2025-11-21 10:22:41","access_token":"64ca667a63f84fef83c611e0ff047595","refresh_token":"f5993ceac16743eea709b5b3e3a68ab5"}}
INFO     - 2025-11-07 10:22:41 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:22:41 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
DEBUG    - 2025-11-07 10:22:44 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/mascontrol/user/import HTTP/11" 200 None
INFO     - 2025-11-07 10:22:44 - [api_base:149] - [2025-11-07 10:22:44] POST请求（带文件）: /mascontrol/user/import 
表单数据: None
INFO     - 2025-11-07 10:22:44 - [api_base:160] - [2025-11-07 10:22:44] 请求后等待 1 秒
INFO     - 2025-11-07 10:22:45 - [conftest:172] - [2025-11-07 10:22:45] 用例 test_vps/test_create.py::TestCreate::test_create_importuser 执行完毕
INFO     - 2025-11-07 10:22:46 - [api_base:448] - [2025-11-07 10:22:46] 执行SQL: SELECT * FROM FOLLOW_TRADER_USER WHERE remark = %s ORDER BY account ASC 
参数: ('参数化新增MT5账号',)
INFO     - 2025-11-07 10:22:46 - [api_base:451] - [2025-11-07 10:22:46] 查询成功，结果数量: 7
INFO     - 2025-11-07 10:22:46 - [api_base:463] - [2025-11-07 10:22:46] 查询结果: [{"id": 10104, "account": "66938913", "password": "4d490499c86409791b0800ba36b9665c", "platform_id": 2636, "platform": "CWGMarketsSVG-Demo", "account_type": null, "server_node": "47.91.76.126:443", "group_name": null, "group_id": null, "sort": 100, "status": 0, "remark": "参数化新增MT5账号", "version": 0, "deleted": 0, "creator": 10000, "create_time": "2025-11-07 10:22:45", "updater": 10000, "update_time": "2025-11-07 10:22:45", "platform_type": 1}, {"id": 10105, "account": "66938914", "password": "4d4
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:46 - [conftest:64] - [2025-11-07 10:22:46] 用例 test_vps/test_create.py::TestCreate::test_create_vpsgroup 开始登录，环境: test
DEBUG    - 2025-11-07 10:22:46 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:22:46 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:22:46 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:22:46","refreshTokenExpire":"2025-11-21 10:22:46","access_token":"2aa2145dbd8a437e90310fcb434e96b4","refresh_token":"eb6b9acc20a949e1a72c3c1e61e97c59"}}
INFO     - 2025-11-07 10:22:46 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:22:46 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
DEBUG    - 2025-11-07 10:22:46 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/mascontrol/group HTTP/11" 200 None
INFO     - 2025-11-07 10:22:46 - [api_base:152] - [2025-11-07 10:22:46] POST请求（JSON）: /mascontrol/group 
数据: {'name': 'MT5测试VPS', 'color': '#EF7979', 'sort': 10, 'type': 1}
INFO     - 2025-11-07 10:22:46 - [api_base:160] - [2025-11-07 10:22:46] 请求后等待 1 秒
INFO     - 2025-11-07 10:22:47 - [conftest:172] - [2025-11-07 10:22:47] 用例 test_vps/test_create.py::TestCreate::test_create_vpsgroup 执行完毕
INFO     - 2025-11-07 10:22:48 - [api_base:448] - [2025-11-07 10:22:48] 执行SQL: SELECT * FROM follow_group WHERE name = %s ORDER BY create_time DESC 
参数: ('MT5测试VPS',)
INFO     - 2025-11-07 10:22:48 - [api_base:451] - [2025-11-07 10:22:48] 查询成功，结果数量: 1
INFO     - 2025-11-07 10:22:48 - [api_base:463] - [2025-11-07 10:22:48] 查询结果: [{"id": 785, "name": "MT5测试VPS", "number": 0, "color": "#EF7979", "version": 0, "deleted": 0, "creator": 10000, "create_time": "2025-11-07 10:22:47", "updater": 10000, "update_time": "2025-11-07 10:22:47", "sort": 10.0, "type": 1}]
INFO     - 2025-11-07 10:22:48 - [test_create:215] - 新增VPS组别ID: 785
INFO     - 2025-11-07 10:22:48 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:48 - [conftest:64] - [2025-11-07 10:22:48] 用例 test_vps/test_create.py::TestCreate::test_create_variety 开始登录，环境: test
DEBUG    - 2025-11-07 10:22:48 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:22:48 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:22:48 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:22:48","refreshTokenExpire":"2025-11-21 10:22:48","access_token":"ab254412aae2479881b629f2f092f59d","refresh_token":"158d92fc3c354ce9adde61eec4854ff2"}}
INFO     - 2025-11-07 10:22:48 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:22:48 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
DEBUG    - 2025-11-07 10:22:48 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/mascontrol/variety/addTemplate HTTP/11" 200 None
INFO     - 2025-11-07 10:22:48 - [api_base:149] - [2025-11-07 10:22:48] POST请求（带文件）: /mascontrol/variety/addTemplate 
表单数据: {'templateName': 'MT5自动化1'}
INFO     - 2025-11-07 10:22:48 - [api_base:160] - [2025-11-07 10:22:48] 请求后等待 1 秒
INFO     - 2025-11-07 10:22:49 - [conftest:172] - [2025-11-07 10:22:49] 用例 test_vps/test_create.py::TestCreate::test_create_variety 执行完毕
INFO     - 2025-11-07 10:22:50 - [api_base:448] - [2025-11-07 10:22:50] 执行SQL: SELECT * FROM follow_variety WHERE template_name = %s ORDER BY create_time DESC 
参数: ('MT5自动化1',)
INFO     - 2025-11-07 10:22:52 - [api_base:451] - [2025-11-07 10:22:52] 查询成功，结果数量: 965
INFO     - 2025-11-07 10:22:52 - [api_base:463] - [2025-11-07 10:22:52] 查询结果: [{"id": 1735899, "std_contract": 100000, "std_symbol": "SGDJPY", "broker_name": "Hantec", "broker_symbol": "SGDJPY", "version": 0, "deleted": 0, "creator": null, "create_time": "2025-11-07 10:22:50", "updater": null, "update_time": "2025-11-07 10:22:50", "template_id": 53, "template_name": "MT5自动化1"}, {"id": 1735901, "std_contract": 100000, "std_symbol": "NOKJPY", "broker_name": "ForexTimeFXTM-ECN-demo", "broker_symbol": "NOKJPY", "version": 0, "deleted": 0, "creator": null, "create_time": "2025
INFO     - 2025-11-07 10:22:52 - [test_create:270] - 新增品种id: 53
INFO     - 2025-11-07 10:22:52 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:22:52 - [conftest:64] - [2025-11-07 10:22:52] 用例 test_vps/test_create.py::TestCreate::test_create_variety2 开始登录，环境: test
DEBUG    - 2025-11-07 10:22:52 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:22:53 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:22:53 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:22:53","refreshTokenExpire":"2025-11-21 10:22:53","access_token":"35f28efe0d9a4291949f9fa4d3a5914e","refresh_token":"669d9035b0124786a3aff930f2c40b21"}}
INFO     - 2025-11-07 10:22:53 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:22:53 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
DEBUG    - 2025-11-07 10:22:53 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/mascontrol/variety/addTemplate HTTP/11" 200 None
INFO     - 2025-11-07 10:22:53 - [api_base:149] - [2025-11-07 10:22:53] POST请求（带文件）: /mascontrol/variety/addTemplate 
表单数据: {'templateName': 'MT5自动化3'}
INFO     - 2025-11-07 10:22:53 - [api_base:160] - [2025-11-07 10:22:53] 请求后等待 1 秒
INFO     - 2025-11-07 10:22:54 - [conftest:172] - [2025-11-07 10:22:54] 用例 test_vps/test_create.py::TestCreate::test_create_variety2 执行完毕
INFO     - 2025-11-07 10:22:54 - [api_base:448] - [2025-11-07 10:22:54] 执行SQL: SELECT * FROM follow_variety WHERE template_name = %s ORDER BY create_time DESC 
参数: ('MT5自动化3',)
INFO     - 2025-11-07 10:23:00 - [api_base:451] - [2025-11-07 10:23:00] 查询成功，结果数量: 1066
INFO     - 2025-11-07 10:23:00 - [api_base:463] - [2025-11-07 10:23:00] 查询结果: [{"id": 1737484, "std_contract": 100, "std_symbol": "XAUAUD", "broker_name": "GOMarkets", "broker_symbol": null, "version": 0, "deleted": 0, "creator": null, "create_time": "2025-11-07 10:22:55", "updater": null, "update_time": "2025-11-07 10:22:55", "template_id": 54, "template_name": "MT5自动化3"}, {"id": 1737485, "std_contract": 100000, "std_symbol": "USDPLN", "broker_name": "Wetrade", "broker_symbol": null, "version": 0, "deleted": 0, "creator": null, "create_time": "2025-11-07 10:22:55", "upda
INFO     - 2025-11-07 10:23:00 - [test_create:325] - 新增品种id: 54
INFO     - 2025-11-07 10:23:00 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:23:00 - [conftest:64] - [2025-11-07 10:23:00] 用例 test_vps/test_create.py::TestCreate::test_get_connect 开始登录，环境: test
DEBUG    - 2025-11-07 10:23:00 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:23:00 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:23:00 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:23:00","refreshTokenExpire":"2025-11-21 10:23:00","access_token":"426cf0e1910a4a18b4084f095c16ec01","refresh_token":"173458fe95ed45c1a2cf4adb416fdb33"}}
INFO     - 2025-11-07 10:23:00 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:23:00 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
DEBUG    - 2025-11-07 10:23:00 - [connectionpool:546] - http://39.99.136.49:80 "GET /api/mascontrol/vps/connect?ipAddress=127.0.0.1 HTTP/11" 200 None
INFO     - 2025-11-07 10:23:00 - [api_base:198] - [2025-11-07 10:23:00] GET请求: /mascontrol/vps/connect 
参数: {'ipAddress': '127.0.0.1'}
INFO     - 2025-11-07 10:23:01 - [conftest:172] - [2025-11-07 10:23:01] 用例 test_vps/test_create.py::TestCreate::test_get_connect 执行完毕
INFO     - 2025-11-07 10:23:01 - [conftest:64] - [2025-11-07 10:23:01] 用例 test_vps/test_create.py::TestCreate::test_get_user 开始登录，环境: test
DEBUG    - 2025-11-07 10:23:01 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:23:02 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:23:02 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:23:02","refreshTokenExpire":"2025-11-21 10:23:02","access_token":"b383ece0a29746ff92b8a2764f43c04e","refresh_token":"346b7f3f57e144a5bc6b12daa52b71bc"}}
INFO     - 2025-11-07 10:23:02 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:23:02 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
DEBUG    - 2025-11-07 10:23:02 - [connectionpool:546] - http://39.99.136.49:80 "GET /api/sys/role/role HTTP/11" 200 None
INFO     - 2025-11-07 10:23:02 - [api_base:198] - [2025-11-07 10:23:02] GET请求: /sys/role/role 
参数: None
INFO     - 2025-11-07 10:23:03 - [test_create:365] - 获取的可见用户信息：[{'id': 1, 'name': '开发', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 27, 'name': '2', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 31, 'name': 'deletetest', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 33, 'name': '测试1111', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 34, 'name': '审核人员', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 36, 'name': '普通用户', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 41, 'name': '仅平台权限', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 42, 'name': 'shq', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 44, 'name': '无权限', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 47, 'name': '牛批', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 48, 'name': '39.99.133.104', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 49, 'name': '39.99.226.176', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 50, 'name': '176.104', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 51, 'name': '1111', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}, {'id': 55, 'name': '104', 'roleCode': None, 'remark': None, 'dataScope': None, 'menuIdList': None, 'orgIdList': None, 'userNum': None, 'createTime': None, 'vpsIdList': None, 'vpsNameList': None}]
INFO     - 2025-11-07 10:23:03 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:23:03 - [conftest:172] - [2025-11-07 10:23:03] 用例 test_vps/test_create.py::TestCreate::test_get_user 执行完毕
INFO     - 2025-11-07 10:23:03 - [conftest:64] - [2025-11-07 10:23:03] 用例 test_vps/test_create.py::TestCreate::test_add_trader 开始登录，环境: test
DEBUG    - 2025-11-07 10:23:03 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:23:03 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:23:03 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:23:03","refreshTokenExpire":"2025-11-21 10:23:03","access_token":"1243dd6124b642e1bed44849c5df63cb","refresh_token":"4bbf360aae40442e911f9cda116eb676"}}
INFO     - 2025-11-07 10:23:03 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:23:03 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:23:03 - [conftest:167] - 切换到VPS URL: http://39.99.131.255/vps
DEBUG    - 2025-11-07 10:23:03 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.131.255:80
DEBUG    - 2025-11-07 10:23:36 - [connectionpool:546] - http://39.99.131.255:80 "POST /vps/subcontrol/trader HTTP/11" 200 None
INFO     - 2025-11-07 10:23:36 - [api_base:152] - [2025-11-07 10:23:36] POST请求（JSON）: /subcontrol/trader 
数据: {'account': '66938911', 'password': '4d490499c86409791b0800ba36b9665c', 'platform': 'CWGMarketsSVG-Demo', 'remark': '', 'platformId': '', 'platformType': 1, 'type': 0, 'templateId': 1, 'followStatus': 1, 'cfd': '', 'forex': '', 'followOrderRemark': 1, 'fixedComment': '', 'commentType': '', 'digits': ''}
INFO     - 2025-11-07 10:23:36 - [api_base:160] - [2025-11-07 10:23:36] 请求后等待 1 秒
INFO     - 2025-11-07 10:23:37 - [conftest:172] - [2025-11-07 10:23:37] 用例 test_vps/test_create.py::TestCreate::test_add_trader 执行完毕
INFO     - 2025-11-07 10:23:37 - [api_base:448] - [2025-11-07 10:23:37] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY create_time DESC 
参数: ('66938911',)
INFO     - 2025-11-07 10:23:37 - [api_base:451] - [2025-11-07 10:23:37] 查询成功，结果数量: 1
INFO     - 2025-11-07 10:23:37 - [api_base:463] - [2025-11-07 10:23:37] 查询结果: [{"id": 15052, "account": "66938911", "is_demo": 1, "type": 0, "password": "4d490499c86409791b0800ba36b9665c", "platform_id": 2636, "platform": "CWGMarketsSVG-Demo", "status": 0, "status_extra": "启动成功", "ip_addr": "39.99.131.255", "server_id": 908, "server_name": "39.99.131.255（test）1", "euqit": 81721.0, "balance": 81721.0, "free_margin": 81721.0, "margin_proportion": 0.0, "leverage": 100, "profit_loss": 0.0, "multiple": 0.0, "diff": 2, "version": 0, "remark": "", "deleted": 0, "creator": 10000,
INFO     - 2025-11-07 10:23:37 - [test_create:531] - 新增策略账号ID: 15052
INFO     - 2025-11-07 10:23:37 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:23:37 - [test_create:537] - 新增策略账号状态status应为0（正常），实际状态为: 0
INFO     - 2025-11-07 10:23:37 - [test_create:541] - 账号净值euqit有钱，实际金额为: 81721.0
INFO     - 2025-11-07 10:23:37 - [conftest:64] - [2025-11-07 10:23:37] 用例 test_vps/test_create.py::TestCreate::test_create_addSlave 开始登录，环境: test
DEBUG    - 2025-11-07 10:23:37 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.136.49:80
DEBUG    - 2025-11-07 10:23:38 - [connectionpool:546] - http://39.99.136.49:80 "POST /api/sys/auth/login HTTP/11" 200 None
INFO     - 2025-11-07 10:23:38 - [conftest:91] - 登录响应信息：{"code":0,"msg":"success","data":{"accessTokenExpire":"2025-11-08 10:23:37","refreshTokenExpire":"2025-11-21 10:23:37","access_token":"39e6f76ce78b4ba7a6b124710ef5dd32","refresh_token":"b21f6833cdcc4fcc9fbaa25fa8fa3f89"}}
INFO     - 2025-11-07 10:23:38 - [conftest:98] - 测试环境登录成功
INFO     - 2025-11-07 10:23:38 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:23:38 - [conftest:167] - 切换到VPS URL: http://39.99.131.255/vps
DEBUG    - 2025-11-07 10:23:38 - [connectionpool:243] - Starting new HTTP connection (1): 39.99.131.255:80
DEBUG    - 2025-11-07 10:23:42 - [connectionpool:546] - http://39.99.131.255:80 "POST /vps/subcontrol/follow/addSlave HTTP/11" 200 None
INFO     - 2025-11-07 10:23:42 - [api_base:152] - [2025-11-07 10:23:42] POST请求（JSON）: /subcontrol/follow/addSlave 
数据: {'traderId': 15052, 'platform': 'CWGMarketsSVG-Demo', 'account': '66938913', 'password': '4d490499c86409791b0800ba36b9665c', 'remark': '', 'followDirection': 0, 'followMode': 1, 'remainder': 0, 'followParam': 1, 'placedType': 0, 'templateId': 1, 'followStatus': 1, 'followOpen': 1, 'followClose': 1, 'followRep': 0, 'fixedComment': '', 'commentType': '', 'digits': 0, 'cfd': '', 'forex': '', 'abRemark': '', 'platformType': 1}
INFO     - 2025-11-07 10:23:42 - [api_base:160] - [2025-11-07 10:23:42] 请求后等待 1 秒
INFO     - 2025-11-07 10:23:43 - [conftest:172] - [2025-11-07 10:23:43] 用例 test_vps/test_create.py::TestCreate::test_create_addSlave 执行完毕
INFO     - 2025-11-07 10:23:44 - [api_base:448] - [2025-11-07 10:23:44] 执行SQL: SELECT * FROM follow_trader WHERE account = %s ORDER BY create_time DESC 
参数: ('66938913',)
INFO     - 2025-11-07 10:23:44 - [api_base:451] - [2025-11-07 10:23:44] 查询成功，结果数量: 1
INFO     - 2025-11-07 10:23:44 - [api_base:463] - [2025-11-07 10:23:44] 查询结果: [{"id": 15053, "account": "66938913", "is_demo": 1, "type": 1, "password": "4d490499c86409791b0800ba36b9665c", "platform_id": 2636, "platform": "CWGMarketsSVG-Demo", "status": 0, "status_extra": "启动成功", "ip_addr": "39.99.131.255", "server_id": 908, "server_name": "39.99.131.255（test）1", "euqit": 78328.99, "balance": 78328.99, "free_margin": 78328.99, "margin_proportion": 0.0, "leverage": 100, "profit_loss": 0.0, "multiple": 0.0, "diff": 2, "version": 0, "remark": "", "deleted": 0, "creator": 100
INFO     - 2025-11-07 10:23:44 - [test_create:612] - 新增跟单账号ID: 15053
INFO     - 2025-11-07 10:23:44 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:23:44 - [test_create:618] - 账号 66938913 状态异常：预期status=0，实际=0
INFO     - 2025-11-07 10:23:44 - [test_create:622] - 账号 66938913 净值异常：预期euqit≠0，实际=78328.99
INFO     - 2025-11-07 10:23:44 - [api_base:448] - [2025-11-07 10:23:44] 执行SQL: SELECT * FROM follow_trader_subscribe WHERE slave_account = %s ORDER BY create_time DESC 
参数: ('66938913',)
INFO     - 2025-11-07 10:23:44 - [api_base:451] - [2025-11-07 10:23:44] 查询成功，结果数量: 1
INFO     - 2025-11-07 10:23:44 - [api_base:463] - [2025-11-07 10:23:44] 查询结果: [{"id": 8749, "master_id": 15052, "slave_id": 15053, "master_account": "66938911", "slave_account": "66938913", "follow_mode": 1, "follow_param": 1.0, "follow_status": 1, "follow_open": 1, "follow_close": 1, "follow_rep": 0, "placed_type": 0, "tp_sl": 0, "follow_direction": 0, "pause": 0, "remark": "", "order_num": 0, "version": 0, "deleted": 0, "creator": null, "create_time": "2025-11-07 10:23:43", "updater": null, "update_time": "2025-11-07 10:23:43", "remainder": 0, "fixed_comment": "", "comm
INFO     - 2025-11-07 10:23:44 - [test_create:635] - 账号新增成功，新增账号：66938913  数据库账号:66938913
INFO     - 2025-11-07 10:23:44 - [variable_manager:111] - [2025-11-07 10:22] 运行时变量已保存到: D:\pycharm_test\lingkuanMT5_1029\VAR\runtime_vars_vps.json
INFO     - 2025-11-07 10:23:44 - [conftest:318] - [2025-11-07 10:22] 测试会话结束，总耗时: 66.00秒
INFO     - 2025-11-07 10:23:44 - [feishu_notification:131] - [2025-11-07 10:22] 发送飞书消息，URL: https://open.feishu.cn/open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f
DEBUG    - 2025-11-07 10:23:44 - [connectionpool:1051] - Starting new HTTPS connection (1): open.feishu.cn:443
DEBUG    - 2025-11-07 10:23:44 - [connectionpool:546] - https://open.feishu.cn:443 "POST /open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f HTTP/11" 200 77
INFO     - 2025-11-07 10:23:44 - [feishu_notification:139] - [2025-11-07 10:22] 飞书响应状态码: 200
INFO     - 2025-11-07 10:23:44 - [feishu_notification:140] - [2025-11-07 10:22] 飞书响应内容: {"StatusCode":0,"StatusMessage":"success","code":0,"data":{},"msg":"success"}
INFO     - 2025-11-07 10:23:44 - [feishu_notification:145] - [2025-11-07 10:22] [FEISHU] 消息发送成功
INFO     - 2025-11-07 10:23:44 - [conftest:330] - [2025-11-07 10:22] 飞书通知发送成功
