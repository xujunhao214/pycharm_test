{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改云跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：云跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c28b90f5-5f6a-4d3c-b64e-67131dbb0b60-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8d6c846e-ae8b-402f-a289-eefe07020878-attachment.txt", "type": "text/plain"}], "start": 1761729522750, "stop": 1761729522815}], "attachments": [{"name": "查询条件", "source": "2261bd5a-a707-47c7-9c9d-7dbfa5f7cb64-attachment.txt", "type": "text/plain"}], "start": 1761729522749, "stop": 1761729522815}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "562d199d-bf32-47bd-bd3f-66fd244a5b40-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5b7c5b43-355b-481e-b3d9-54187070f9ec-attachment.txt", "type": "text/plain"}], "start": 1761729522815, "stop": 1761729522816}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "005e7fb0-6d6b-4e39-9cd2-3ef105c0eb13-attachment.txt", "type": "text/plain"}], "start": 1761729522816, "stop": 1761729522816}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4270d63f-cd25-4f37-9af2-2ec5d99a04ff-attachment.txt", "type": "text/plain"}], "start": 1761729522816, "stop": 1761729522816}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "899be059-18e6-4399-9a7a-b30fbe0331fe-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b12363f9-bcd9-4703-bbd1-7731a1ad0278-attachment.txt", "type": "text/plain"}], "start": 1761729524866, "stop": 1761729524918}], "attachments": [{"name": "查询条件", "source": "a7a6872b-6cdc-4b1b-9e22-7b60197f125a-attachment.txt", "type": "text/plain"}], "start": 1761729524866, "stop": 1761729524918}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4115ac5d-a75c-4699-ab11-05391e492fff-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "197a1581-5a91-4805-8765-291464197572-attachment.txt", "type": "text/plain"}], "start": 1761729524918, "stop": 1761729524918}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d9c28980-68a8-495d-85c1-5624cfbed21e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "2e66c52a-c01e-4dd0-9aab-f2f2386a69fe-attachment.txt", "type": "text/plain"}], "start": 1761729524918, "stop": 1761729524919}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "fa68238c-5aec-45c8-ad3c-3ce052699d99-attachment.txt", "type": "text/plain"}], "start": 1761729524920, "stop": 1761729524920}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3a5fc29e-973c-4623-97bc-75eaec9e21f5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "844e69b0-24b6-43c8-9fbd-ec1bb8526e40-attachment.txt", "type": "text/plain"}], "start": 1761729526981, "stop": 1761729527032}], "attachments": [{"name": "查询条件", "source": "c7f222a8-23aa-426c-bc47-fa2f308d9ec7-attachment.txt", "type": "text/plain"}], "start": 1761729526980, "stop": 1761729527032}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e637d9f7-de5e-4242-83ae-b1534931e9b9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "68b75c24-9d4f-48d8-8102-7d176ebad675-attachment.txt", "type": "text/plain"}], "start": 1761729527032, "stop": 1761729527033}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ab05115d-c50c-4d92-9302-6445a6f9eaf2-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d256b24d-e715-40fb-9ce9-578098ba8bab-attachment.txt", "type": "text/plain"}], "start": 1761729527033, "stop": 1761729527034}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "627c7117-11cc-40ef-8e9a-8db1af81ebd9-attachment.txt", "type": "text/plain"}], "start": 1761729527034, "stop": 1761729527034}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "c4558412-2b3b-40bc-af43-d7bed5968441-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "76f4bc3a-bdf5-4de9-8f9a-db2dce77ce50-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ebc0d050-f804-4d2d-8cc8-059484013630-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "d6efe111-d51c-418d-a0d0-11afc72b135a-attachment.txt", "type": "text/plain"}], "start": 1761729527034, "stop": 1761729527035}], "start": 1761729522703, "stop": 1761729527035}], "start": 1761729522703, "stop": 1761729527035}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1761729527035, "stop": 1761729527036}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "e07df0bf-396a-44ab-859c-26873a548c17-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "abecae3d-c28b-4689-b8ee-6c56fc48a6d1-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "86ec9d84-b122-4094-a49e-109f8bf82d36-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "d9825744-0141-4d3b-aa24-7d18271cb84d-attachment.json", "type": "application/json"}], "start": 1761729527036, "stop": 1761729527037}], "start": 1761729527036, "stop": 1761729527037}], "attachments": [{"name": "log", "source": "a25d5751-3ce1-42b7-9696-1cf2d7eccb85-attachment.txt", "type": "text/plain"}], "start": 1761729522703, "stop": 1761729527037, "uuid": "34818a4e-b0e9-4290-8b0c-93670840816e", "historyId": "385f6b32b9f6b25b11717d32355253fe", "testCaseId": "385f6b32b9f6b25b11717d32355253fe", "fullName": "test_cloudTrader.test_cloudOrder_open_level.TestMT5cloudTrader_open#test_dbquery_redis", "labels": [{"name": "story", "value": "场景1：交易下单-云策略复制下单-漏开"}, {"name": "feature", "value": "云策略-策略账号交易下单-漏单场景"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestMT5cloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "80940-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}