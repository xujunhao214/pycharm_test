{"name": "数据库校验-账号管理-交易下单-指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuanMT5_1029.test_cloudTrader.test_cloudOrder_open_level.TestMT5cloudTrader_openandlevel.TestMT5cloudTrader_level object at 0x0000015CAA9E0F70>\nclass_random_str = '9dn79548'\nvar_manager = <lingkuanMT5_1029.commons.variable_manager.VariableManager object at 0x0000015CAAAF97C0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000015CAAD40550>\n\n    @allure.title(\"数据库校验-账号管理-交易下单-指令及订单详情数据检查\")\n    def test_dbMT5cloudTrader_cloudOrderSend(self, class_random_str, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            MT5cloudTrader_user_accounts_4 = var_manager.get_variable(\"MT5cloudTrader_user_accounts_4\")\n            sql = f\"\"\"\n                        SELECT\n                            fod.size,\n                            fod.comment,\n                            fod.send_no,\n                            fod.magical,\n                            fod.open_price,\n                            fod.symbol,\n                            fod.order_no,\n                            foi.true_total_lots,\n                            foi.order_no,\n                            foi.operation_type,\n                            foi.create_time,\n                            foi.status,\n                            foi.min_lot_size,\n                            foi.max_lot_size,\n                            foi.total_lots,\n                            foi.total_orders\n                        FROM\n                            follow_order_detail fod\n                        INNER JOIN\n                            follow_order_instruct foi\n                        ON\n                            foi.order_no = fod.send_no COLLATE utf8mb4_0900_ai_ci\n                        WHERE foi.operation_type = %s\n                            AND fod.account = %s\n                            AND fod.comment = %s\n                            \"\"\"\n            params = (\n                '0',\n                MT5cloudTrader_user_accounts_4,\n                class_random_str\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"foi.create_time\",\n            )\n\ntest_cloudTrader\\test_cloudOrder_open_level.py:705: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1029.test_cloudTrader.test_cloudOrder_open_level.TestMT5cloudTrader_openandlevel.TestMT5cloudTrader_level object at 0x0000015CAA9E0F70>\ndb_transaction = <pymysql.connections.Connection object at 0x0000015CAAD40550>\nsql = '\\n                            SELECT \\n                                fod.size,\\n                                fod...          AND fod.account = %s\\n                                AND fod.comment = %s\\n                                '\nparams = ('0', '66938833', '9dn79548'), time_field = 'foi.create_time'\ntime_range = 3, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} | 继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:653: TimeoutError"}, "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云跟单账号平仓-关闭\n      2. 进行开仓\n      3. 进行平仓\n      4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      5. 修改云跟单账号平仓-开启\n    - 预期结果：云跟单账号平仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\test_cloudTrader\\test_cloudOrder_open_level.py\", line 705, in test_dbMT5cloudTrader_cloudOrderSend\n    db_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 653, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 653, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4067d664-88c8-4691-87eb-bd64ed34ae99-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fb060e45-236a-4da7-b164-f746bf74a62f-attachment.txt", "type": "text/plain"}], "start": 1761729556628, "stop": 1761729556681}], "attachments": [{"name": "查询条件", "source": "74fe1974-9c83-4efe-9fb1-8cf9250361c4-attachment.txt", "type": "text/plain"}], "start": 1761729556627, "stop": 1761729556681}, {"name": "轮询中（已等待0.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6afebbc0-ea89-43b5-a337-47a25f5fa4c7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "dd16ac80-04c2-4dd8-891c-b384c7019f5e-attachment.txt", "type": "text/plain"}], "start": 1761729556681, "stop": 1761729556683}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "be4d0322-d5c2-4387-9b64-8098976f4d07-attachment.txt", "type": "text/plain"}], "start": 1761729556683, "stop": 1761729556683}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ae4bdcf6-96fc-480b-a347-973888e8423c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2c8a2255-daea-42f4-af9b-f3b47eaf5095-attachment.txt", "type": "text/plain"}], "start": 1761729558754, "stop": 1761729558804}], "attachments": [{"name": "查询条件", "source": "730f2c53-bdb2-43cc-98a3-d3e2d4ca1d6d-attachment.txt", "type": "text/plain"}], "start": 1761729558753, "stop": 1761729558804}, {"name": "轮询中（已等待2.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0cf33d46-74a7-4c39-ac41-e8cff89bbe30-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7e10b434-7bcd-462f-b166-079bedd2ffb1-attachment.txt", "type": "text/plain"}], "start": 1761729558804, "stop": 1761729558805}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ed5b3a95-2710-4397-87ed-9f6a38d193f5-attachment.txt", "type": "text/plain"}], "start": 1761729558805, "stop": 1761729558805}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f152ad11-79ed-4f6f-aa7a-d87eea5ae4d1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "22f78f9d-653d-41d7-97f2-658e8970235f-attachment.txt", "type": "text/plain"}], "start": 1761729560871, "stop": 1761729560923}], "attachments": [{"name": "查询条件", "source": "96b86c34-88b0-460e-a295-aaecbaea8c79-attachment.txt", "type": "text/plain"}], "start": 1761729560871, "stop": 1761729560923}, {"name": "轮询中（已等待4.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "edfe4fb3-22cf-48a8-94e9-0da3904d0e68-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f9232db9-6a4a-405f-b12b-e306cd74ea14-attachment.txt", "type": "text/plain"}], "start": 1761729560923, "stop": 1761729560924}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8e747c95-b250-4024-ae1f-6f481277a6cd-attachment.txt", "type": "text/plain"}], "start": 1761729560924, "stop": 1761729560924}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "058430da-c1a2-4bd4-913d-bd4dc558ac27-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b7f15fa1-e5aa-4d72-8901-022b5e06db34-attachment.txt", "type": "text/plain"}], "start": 1761729562977, "stop": 1761729563192}], "attachments": [{"name": "查询条件", "source": "96e2d471-1f6c-47f6-a358-1684b6546602-attachment.txt", "type": "text/plain"}], "start": 1761729562977, "stop": 1761729563192}, {"name": "轮询中（已等待6.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1e2e3cc1-879a-40d9-bd1b-2abebd47e5a4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c7dec197-316f-4926-83da-39255bbcdacc-attachment.txt", "type": "text/plain"}], "start": 1761729563192, "stop": 1761729563192}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "7a5333ce-773d-4d07-bc19-40bab2b41825-attachment.txt", "type": "text/plain"}], "start": 1761729563192, "stop": 1761729563193}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3ec14e85-bb06-4845-98ce-6b24034c4ed0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "56fd1a47-3251-456f-aeb8-6271d36dc9db-attachment.txt", "type": "text/plain"}], "start": 1761729565255, "stop": 1761729565309}], "attachments": [{"name": "查询条件", "source": "992b7b42-75f2-4c86-a441-5861c2f53140-attachment.txt", "type": "text/plain"}], "start": 1761729565254, "stop": 1761729565309}, {"name": "轮询中（已等待9.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "511181c2-5ffb-45af-a8aa-a6b4b1453747-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fe746f97-cf24-433c-bc51-1ca98a2e2648-attachment.txt", "type": "text/plain"}], "start": 1761729565309, "stop": 1761729565310}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b1723c14-b5e7-4bef-989f-a90132bea8b4-attachment.txt", "type": "text/plain"}], "start": 1761729565311, "stop": 1761729565311}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d7c067cd-aa21-4f0f-8e10-07b6e90270f4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6284ba30-eccd-4d50-a90b-2bf2ab7c0fc5-attachment.txt", "type": "text/plain"}], "start": 1761729567367, "stop": 1761729567419}], "attachments": [{"name": "查询条件", "source": "b54f872a-fc7f-48e9-960c-7c5771a19f16-attachment.txt", "type": "text/plain"}], "start": 1761729567367, "stop": 1761729567419}, {"name": "轮询中（已等待11.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8a881b04-bb59-4544-920c-26f3fe19f7e1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "aeeacdc3-b070-457b-a255-d3f1ce613f43-attachment.txt", "type": "text/plain"}], "start": 1761729567419, "stop": 1761729567420}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "49d56ada-4790-460d-bcf6-94461d4d6676-attachment.txt", "type": "text/plain"}], "start": 1761729567420, "stop": 1761729567420}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e2392d40-2e9e-4f00-b6c0-b76d7c2fb2c3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5a7bb747-2a39-4eb0-9cd6-676689c865e3-attachment.txt", "type": "text/plain"}], "start": 1761729569472, "stop": 1761729569522}], "attachments": [{"name": "查询条件", "source": "abf79a8f-27d6-4c9b-b40f-f133db1f426a-attachment.txt", "type": "text/plain"}], "start": 1761729569471, "stop": 1761729569522}, {"name": "轮询中（已等待13.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2ff24c88-82ac-443b-9a77-07f8db0af139-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "dcedbee7-ae3c-488a-8db3-75d92721907a-attachment.txt", "type": "text/plain"}], "start": 1761729569523, "stop": 1761729569524}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "5f5f78d3-f40c-4a58-a9c4-56f19d03b0ca-attachment.txt", "type": "text/plain"}], "start": 1761729569524, "stop": 1761729569524}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1a7c2fae-732f-4d66-b717-e8d0e287f0f1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c66ec9de-c2c2-44bf-88ff-f527983b1567-attachment.txt", "type": "text/plain"}], "start": 1761729571584, "stop": 1761729571635}], "attachments": [{"name": "查询条件", "source": "e0551768-9830-4322-8ad4-b9ea753bb0b6-attachment.txt", "type": "text/plain"}], "start": 1761729571583, "stop": 1761729571635}, {"name": "轮询中（已等待15.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e22c7337-5163-4060-9689-39fa7f932ed2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1a2ad881-a6a1-4f46-a15e-daa182e29a03-attachment.txt", "type": "text/plain"}], "start": 1761729571635, "stop": 1761729571636}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "6c23109d-fb5a-4715-a81b-4e9848f8f8b5-attachment.txt", "type": "text/plain"}], "start": 1761729571636, "stop": 1761729571637}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "51c51c8b-bb91-4d67-8811-185e1c7d9f65-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a0289399-e629-4d2c-b049-4993a7d73277-attachment.txt", "type": "text/plain"}], "start": 1761729573690, "stop": 1761729573742}], "attachments": [{"name": "查询条件", "source": "eeab2c46-7af9-4803-b115-7d790773c644-attachment.txt", "type": "text/plain"}], "start": 1761729573689, "stop": 1761729573742}, {"name": "轮询中（已等待17.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a3c27c53-5a90-441a-85a3-fc9eccc9db40-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e3605f42-1fad-4f92-bf0a-f658012e4502-attachment.txt", "type": "text/plain"}], "start": 1761729573742, "stop": 1761729573742}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a0aa8aa4-72db-46a9-9c3e-1e83418ddd59-attachment.txt", "type": "text/plain"}], "start": 1761729573742, "stop": 1761729573743}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a0162da6-f890-47a6-88b8-e6f878f16ccf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e08065c7-4d5b-475e-9816-6916749693b6-attachment.txt", "type": "text/plain"}], "start": 1761729575808, "stop": 1761729575863}], "attachments": [{"name": "查询条件", "source": "b7f0b2d3-21f2-47a8-934c-da74033e9b5f-attachment.txt", "type": "text/plain"}], "start": 1761729575807, "stop": 1761729575863}, {"name": "轮询中（已等待19.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e5f81e84-61f9-4e10-9752-87beb80b0ddc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a9d4fdea-715b-446e-a004-8d141c865eef-attachment.txt", "type": "text/plain"}], "start": 1761729575863, "stop": 1761729575864}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "54b707fc-e030-4ca8-ae6e-c33110dfbd35-attachment.txt", "type": "text/plain"}], "start": 1761729575864, "stop": 1761729575864}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1c59e491-961d-49a7-b0af-6c936bec0cc0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "87766957-0ca8-4eaa-91fb-135f8ab505ad-attachment.txt", "type": "text/plain"}], "start": 1761729577925, "stop": 1761729577976}], "attachments": [{"name": "查询条件", "source": "54ccbe5b-1d99-4b8b-a207-eafe39d4b138-attachment.txt", "type": "text/plain"}], "start": 1761729577924, "stop": 1761729577976}, {"name": "轮询中（已等待21.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "43a914ad-3935-4f32-b3a2-78540cc469a1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e016b12c-1074-4b9a-b4cc-b3513355f9ae-attachment.txt", "type": "text/plain"}], "start": 1761729577976, "stop": 1761729577978}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "3f5c2fa2-77ba-4774-a999-f52c9339939a-attachment.txt", "type": "text/plain"}], "start": 1761729577978, "stop": 1761729577978}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "dfbfd071-31d6-40ee-8cd7-61675b8a0750-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d42e2f76-0c74-46f4-9f4f-8f9e120dd2dd-attachment.txt", "type": "text/plain"}], "start": 1761729580030, "stop": 1761729580082}], "attachments": [{"name": "查询条件", "source": "ad036bda-2bd4-4920-99f2-1d0b9efa6ed6-attachment.txt", "type": "text/plain"}], "start": 1761729580029, "stop": 1761729580082}, {"name": "轮询中（已等待23.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "532883bd-0987-4062-8aea-664933de149f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "064508ae-542e-446d-b92b-36bc0f9b0dee-attachment.txt", "type": "text/plain"}], "start": 1761729580082, "stop": 1761729580083}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "856caaa6-38f5-4b15-bd3c-4ea0f57f5c0c-attachment.txt", "type": "text/plain"}], "start": 1761729580083, "stop": 1761729580083}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4e9b649b-025d-4d75-9bb1-6de03820e0f6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "74f05627-722d-4990-b75b-ce904bc0f734-attachment.txt", "type": "text/plain"}], "start": 1761729582131, "stop": 1761729582183}], "attachments": [{"name": "查询条件", "source": "5db7e0c7-ee8f-4a85-ac96-08be69b50d43-attachment.txt", "type": "text/plain"}], "start": 1761729582131, "stop": 1761729582183}, {"name": "轮询中（已等待25.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4a69c0f4-5b8a-4286-9881-1538544cba4f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8db75ac6-2df0-427e-9887-efaa55fcdd0c-attachment.txt", "type": "text/plain"}], "start": 1761729582184, "stop": 1761729582184}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "1f8ffb8e-cdd7-4c3c-95dc-2e343714ac01-attachment.txt", "type": "text/plain"}], "start": 1761729582184, "stop": 1761729582185}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "517971a0-4f02-429a-9069-6c8603433f75-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f7b39dc8-dc08-45ee-ad8c-7c5caf95a374-attachment.txt", "type": "text/plain"}], "start": 1761729584236, "stop": 1761729584289}], "attachments": [{"name": "查询条件", "source": "dd652ae5-c126-436e-946b-9edb50b71c3a-attachment.txt", "type": "text/plain"}], "start": 1761729584235, "stop": 1761729584289}, {"name": "轮询中（已等待28.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b6f12698-7223-4a2d-a173-3df79bb4de4b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ef57729f-61e1-4cd1-978d-f8af54ebd75f-attachment.txt", "type": "text/plain"}], "start": 1761729584289, "stop": 1761729584290}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "37ae9491-ef1a-428c-b119-1d99233c2dc7-attachment.txt", "type": "text/plain"}], "start": 1761729584290, "stop": 1761729584290}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "878c7ec9-f9d2-498d-b20f-5b2d3269b7cf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "634a36da-1a2d-49bc-965d-604d3d8f1fb3-attachment.txt", "type": "text/plain"}], "start": 1761729586339, "stop": 1761729586392}], "attachments": [{"name": "查询条件", "source": "b1512548-4e2d-4d4c-a227-f4c194f51247-attachment.txt", "type": "text/plain"}], "start": 1761729586339, "stop": 1761729586392}, {"name": "轮询中（已等待30.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "26f6aed5-4f03-425f-9c73-abe2b6f50bdf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7dd1a1be-caa5-4796-80a4-e35b9d6bb716-attachment.txt", "type": "text/plain"}], "start": 1761729586392, "stop": 1761729586393}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "4c032ba9-fbfa-4e3c-8927-df412f424a4e-attachment.txt", "type": "text/plain"}], "start": 1761729586393, "stop": 1761729586393}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "e3d103d4-ee92-49b6-b95a-773ac02ed0b2-attachment.txt", "type": "text/plain"}], "start": 1761729588399, "stop": 1761729588400}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3dbcb1fb-ef98-4a38-97d5-206df5744347-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "075616da-458d-4be5-bffd-2488013c5e59-attachment.txt", "type": "text/plain"}, {"name": "查询结果（共0条，显示前50条）", "source": "45660e15-0209-467c-9ead-7e3b1fef322e-attachment.json", "type": "application/json"}], "start": 1761729588400, "stop": 1761729588451}], "attachments": [{"name": "查询条件", "source": "99db0fe9-534d-4ce7-8e4e-fa5848e7815a-attachment.txt", "type": "text/plain"}], "start": 1761729588400, "stop": 1761729588451}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "b6b21b3f-18fe-4e8a-96d2-ff22e4282d7b-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "2051c080-aa24-405d-bccb-fc3ef5428803-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9018874f-d4fd-41f2-b8dc-308c5ec1a266-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "ef88c67d-77af-4687-bded-f0928bd72fa8-attachment.txt", "type": "text/plain"}], "start": 1761729588451, "stop": 1761729588453}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "2f8767c9-8937-4e45-b30b-5a0585bfe28c-attachment.txt", "type": "text/plain"}], "start": 1761729588453, "stop": 1761729588453}], "start": 1761729556328, "stop": 1761729588453}], "start": 1761729556328, "stop": 1761729588453}], "attachments": [{"name": "log", "source": "1af54e82-9f54-4ccd-9a9b-09c5ecc86769-attachment.txt", "type": "text/plain"}], "start": 1761729556328, "stop": 1761729588453, "uuid": "60555259-4fbc-4aac-b1f4-254dd03dab6f", "historyId": "3d51e82d23a1a682d7cc7dd967f9db17", "testCaseId": "3d51e82d23a1a682d7cc7dd967f9db17", "fullName": "test_cloudTrader.test_cloudOrder_open_level.TestMT5cloudTrader_level#test_dbMT5cloudTrader_cloudOrderSend", "labels": [{"name": "feature", "value": "云策略-策略账号交易下单-漏单场景"}, {"name": "story", "value": "场景2：交易下单-云策略复制下单-漏平"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestMT5cloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "80940-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}