{"name": "数据库校验-云策略-复制下单数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuanMT5_1029.test_cloudTrader.test_lianxi.TestCloudStrategyOrderbuy.TestMasOrderSend12 object at 0x0000021EBA3409D0>\nclass_random_str = 'a1ap5971'\nvar_manager = <lingkuanMT5_1029.commons.variable_manager.VariableManager object at 0x0000021EBA3993A0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000021EBA44EC40>\n\n    @pytest.mark.retry(n=0, delay=0)\n    @allure.title(\"数据库校验-云策略-复制下单数据\")\n    def test_copy_verify_db(self, class_random_str, var_manager, db_transaction):\n        \"\"\"验证复制下单后数据库中的订单数据正确性\"\"\"\n        with allure.step(\"查询复制订单详情数据\"):\n            MT5cloudTrader_user_accounts_2 = var_manager.get_variable(\"MT5cloudTrader_user_accounts_2\")\n            sql = \"\"\"\n                    SELECT\n                        fod.size,\n                        fod.send_no,\n                        fod.magical,\n                        fod.open_price,\n                        fod.comment,\n                        fod.symbol,\n                        fod.order_no,\n                        foi.true_total_lots,\n                        foi.order_no,\n                        foi.operation_type,\n                        foi.create_time,\n                        foi.status,\n                        foi.min_lot_size,\n                        foi.max_lot_size,\n                        foi.total_lots,\n                        foi.total_orders\n                    FROM\n                        follow_order_detail fod\n                    INNER JOIN\n                        follow_order_instruct foi\n                    ON\n                        foi.order_no = fod.send_no COLLATE utf8mb4_0900_ai_ci\n                    WHERE foi.operation_type = %s\n                        AND fod.account = %s\n                        AND fod.comment = %s\n                \"\"\"\n            params = ('0', MT5cloudTrader_user_accounts_2, class_random_str)\n    \n            # 轮询等待数据库记录\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.open_time\"\n            )\n\ntest_cloudTrader\\test_lianxi.py:155: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1029.test_cloudTrader.test_lianxi.TestCloudStrategyOrderbuy.TestMasOrderSend12 object at 0x0000021EBA3409D0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000021EBA44EC40>\nsql = '\\n                        SELECT \\n                            fod.size,\\n                            fod.send_no,\\n ...                          AND fod.account = %s\\n                            AND fod.comment = %s\\n                    '\nparams = ('0', '66938831', 'a1ap5971'), time_field = 'fod.open_time'\ntime_range = 3, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1119: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "查询复制订单详情数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\test_cloudTrader\\test_lianxi.py\", line 155, in test_copy_verify_db\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d8761f8f-15b9-4a96-bf4b-7af2e1a7040f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b4238b18-6703-4f27-9b9a-b5a4fac84a93-attachment.txt", "type": "text/plain"}], "start": 1761815976138, "stop": 1761815976189}], "attachments": [{"name": "时区处理", "source": "dd51674b-bfba-4951-b8ad-6c0a41c52868-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0bb55009-ec78-4b1e-b342-90d69761e364-attachment.txt", "type": "text/plain"}], "start": 1761815976137, "stop": 1761815976189}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "84ca57dc-96cc-49ff-875a-92a9d773ac93-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2cb23f6c-7e0e-4241-9919-28f416b9c49c-attachment.txt", "type": "text/plain"}], "start": 1761815976189, "stop": 1761815976190}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "285ec7b9-fb1c-468f-ac7b-872889f0a804-attachment.txt", "type": "text/plain"}], "start": 1761815976190, "stop": 1761815976190}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "72af655a-0329-40ea-8037-aca925a0618d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3fcc04aa-8ec4-4cba-b59c-4c86bf2e602c-attachment.txt", "type": "text/plain"}], "start": 1761815978246, "stop": 1761815978297}], "attachments": [{"name": "时区处理", "source": "ac22170a-668c-43db-b098-6b3c8da93060-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "797bf123-6671-47eb-8fd1-5c8826a4cabd-attachment.txt", "type": "text/plain"}], "start": 1761815978245, "stop": 1761815978297}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a11b2a14-58d3-49ed-9ca6-2351b0b019ae-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "114af78b-a0df-4f3d-91dd-b48afd030f32-attachment.txt", "type": "text/plain"}], "start": 1761815978297, "stop": 1761815978298}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "33cc4afb-b67f-4431-ab16-5dfaf365f640-attachment.txt", "type": "text/plain"}], "start": 1761815978298, "stop": 1761815978298}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bfa7a236-89d0-428b-9c7e-5697fa4181e4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bd106f05-e862-4983-a8cb-10dc1d3ffc0a-attachment.txt", "type": "text/plain"}], "start": 1761815980354, "stop": 1761815980405}], "attachments": [{"name": "时区处理", "source": "6c7a6735-6366-47b5-aeeb-9e0c3a37a92e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d8b00fda-98b2-4eab-961f-ad259802c590-attachment.txt", "type": "text/plain"}], "start": 1761815980353, "stop": 1761815980405}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f68bdf03-2329-4df6-b6ca-0d00af165faf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "27680736-3c4e-44f1-a60b-010c9979772d-attachment.txt", "type": "text/plain"}], "start": 1761815980405, "stop": 1761815980406}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a219bbe0-55b5-4b17-bc59-7018b76d376a-attachment.txt", "type": "text/plain"}], "start": 1761815980406, "stop": 1761815980406}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7967eb6b-6279-428c-b188-e4e05f5f2581-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7e7a5b09-8798-4ef2-8a22-cf1bfe304f09-attachment.txt", "type": "text/plain"}], "start": 1761815982455, "stop": 1761815982505}], "attachments": [{"name": "时区处理", "source": "8b44c109-6f8e-45fd-a362-3b5f06db6e87-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ef7c5b1a-a15d-478e-8c20-4dd3cbdd352e-attachment.txt", "type": "text/plain"}], "start": 1761815982453, "stop": 1761815982505}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e95fad13-6da5-4964-a7e4-c3763a813c04-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7ae9dc63-001d-4923-832c-d0b0772141bd-attachment.txt", "type": "text/plain"}], "start": 1761815982505, "stop": 1761815982506}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "790f79e5-186b-45f5-8af1-5373a667516c-attachment.txt", "type": "text/plain"}], "start": 1761815982506, "stop": 1761815982506}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bf362caa-3099-4e65-9a3c-feea3bed818e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "462f1280-31de-46c1-81af-35e9d1f69808-attachment.txt", "type": "text/plain"}], "start": 1761815984562, "stop": 1761815984614}], "attachments": [{"name": "时区处理", "source": "931cf24f-8f2d-4f5f-a5ea-439958f280b6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "59f90288-9941-4240-a585-9bebddbcf729-attachment.txt", "type": "text/plain"}], "start": 1761815984561, "stop": 1761815984614}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "72710d19-fc7e-427b-829f-87e20173f743-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "33a49e3a-cfe4-4f44-a1fd-96f87655d743-attachment.txt", "type": "text/plain"}], "start": 1761815984614, "stop": 1761815984614}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ea8024d2-12d4-46cb-b3cd-f183cc761f8a-attachment.txt", "type": "text/plain"}], "start": 1761815984615, "stop": 1761815984615}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "73bf08af-a62c-405b-b714-3ae68cc8ab7e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "19757c78-db26-4313-b1a8-e16baa5e9303-attachment.txt", "type": "text/plain"}], "start": 1761815986670, "stop": 1761815986726}], "attachments": [{"name": "时区处理", "source": "678fe032-5650-4098-8975-0c81a6fd5fea-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "10dfd333-abb3-4ff6-9f02-09de52e0a3c0-attachment.txt", "type": "text/plain"}], "start": 1761815986669, "stop": 1761815986726}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a65394db-1c84-4e25-ae3f-858a1020ea11-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "80bc7aff-f4a2-485b-9cdc-796a5fa2b844-attachment.txt", "type": "text/plain"}], "start": 1761815986726, "stop": 1761815986727}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7de9fc35-42c6-4cfa-b798-30d0aea8317f-attachment.txt", "type": "text/plain"}], "start": 1761815986727, "stop": 1761815986727}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "aa88dda7-9228-4d92-be7d-a2601be94651-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e5b62c6f-1aec-4d80-9974-506f1a530a27-attachment.txt", "type": "text/plain"}], "start": 1761815988788, "stop": 1761815988839}], "attachments": [{"name": "时区处理", "source": "352eb161-716a-4a45-b385-8992d6dfc9ec-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ba210b83-861e-402a-aec7-1fafcf2d997e-attachment.txt", "type": "text/plain"}], "start": 1761815988787, "stop": 1761815988839}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "39779559-b235-4d65-b288-cb4b19f06ea9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cc3a0551-c0e2-4b5c-874c-3ae22292dd37-attachment.txt", "type": "text/plain"}], "start": 1761815988839, "stop": 1761815988840}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1d9f35f7-8d2c-43b8-b79d-6c95b67dec00-attachment.txt", "type": "text/plain"}], "start": 1761815988840, "stop": 1761815988840}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "27053d14-2648-4c3d-bf16-880bceb0af2e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d45706ba-9198-4d16-80f5-8cfcfccd1168-attachment.txt", "type": "text/plain"}], "start": 1761815990899, "stop": 1761815990950}], "attachments": [{"name": "时区处理", "source": "d684cd79-5cbc-4ea4-a890-0a605efce2da-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bb18efd2-fb4a-429d-9f0d-97f5c7d23ad4-attachment.txt", "type": "text/plain"}], "start": 1761815990898, "stop": 1761815990950}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b38a079b-7d2c-4b53-b368-cdfdd05865a1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d5883741-3646-4fa2-ae7e-fd86ec92b1c7-attachment.txt", "type": "text/plain"}], "start": 1761815990950, "stop": 1761815990951}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d9438e2a-2196-4e32-9c13-9428647541d4-attachment.txt", "type": "text/plain"}], "start": 1761815990951, "stop": 1761815990951}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3b3b3e48-d43f-4b1f-93d4-7d09f96fd634-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9d4219e7-a4ba-4332-9737-0d6d4d9695a5-attachment.txt", "type": "text/plain"}], "start": 1761815993002, "stop": 1761815993053}], "attachments": [{"name": "时区处理", "source": "19bc7b14-7336-47ee-a693-e7e3f3c95916-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "220bc756-2d94-40df-8c22-ea322f3e9aa5-attachment.txt", "type": "text/plain"}], "start": 1761815993001, "stop": 1761815993053}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8b8001d2-cc21-4154-bc5d-dd28e819e090-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a59a02f3-c5a4-4391-a325-cb5a05991f31-attachment.txt", "type": "text/plain"}], "start": 1761815993053, "stop": 1761815993054}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "57cd58fb-1b51-43a0-bf9c-6555cc4dd319-attachment.txt", "type": "text/plain"}], "start": 1761815993054, "stop": 1761815993055}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "cf6fb7fa-a046-4acf-ada1-e973fab65416-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b7e4237e-e28a-43cb-b305-e8d0092b5da3-attachment.txt", "type": "text/plain"}], "start": 1761815995106, "stop": 1761815995157}], "attachments": [{"name": "时区处理", "source": "b6b6280c-d8bd-4831-91dc-e4f54bbc349d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b34904ef-037e-4c01-8e56-f737ae0a9f75-attachment.txt", "type": "text/plain"}], "start": 1761815995105, "stop": 1761815995157}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "90e9a1fb-8876-42c9-aaca-c935a3ef269a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8c5a9bfd-4dae-4eef-aed9-11dac76e4b1f-attachment.txt", "type": "text/plain"}], "start": 1761815995157, "stop": 1761815995158}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bc6065ef-7d84-4306-b396-1d4c6f0d9e8c-attachment.txt", "type": "text/plain"}], "start": 1761815995158, "stop": 1761815995159}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a9650d8c-bddc-4320-9a9e-17f6fe1f4f1c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "db7622d6-d3f9-4b27-bf11-b467dda3eaad-attachment.txt", "type": "text/plain"}], "start": 1761815997224, "stop": 1761815997292}], "attachments": [{"name": "时区处理", "source": "ecb1a467-3e26-401d-a123-1cc9cec3ad80-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4662160d-d3cc-42c8-b76e-adb230ff9d63-attachment.txt", "type": "text/plain"}], "start": 1761815997220, "stop": 1761815997292}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "694c8194-a341-4c1d-927c-3ef2f22823e0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c7c9dc23-eaae-4819-bbf0-ca75c7c9b5ae-attachment.txt", "type": "text/plain"}], "start": 1761815997292, "stop": 1761815997292}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2e3ed9a3-1ffa-4b67-9499-a0d154b136e3-attachment.txt", "type": "text/plain"}], "start": 1761815997292, "stop": 1761815997293}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ab211fda-5d3b-48db-8742-e2edaf0abf7d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bf1e2ca4-7156-49f5-b479-6497849adf36-attachment.txt", "type": "text/plain"}], "start": 1761815999344, "stop": 1761815999395}], "attachments": [{"name": "时区处理", "source": "8edc5ca3-ce32-4f67-b6f6-a48b37f6834e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a0e3ae70-0274-45fe-97f9-3cbe5e2d93c8-attachment.txt", "type": "text/plain"}], "start": 1761815999343, "stop": 1761815999395}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bbadc4ed-27e7-4d37-8a7e-4db7d22ff749-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b0075565-96d2-464f-9ce7-587a7ea7b3c7-attachment.txt", "type": "text/plain"}], "start": 1761815999396, "stop": 1761815999396}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8dda18d3-d970-4aee-b2a9-5b9905ddd8cc-attachment.txt", "type": "text/plain"}], "start": 1761815999396, "stop": 1761815999397}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e07e48c2-8795-4f98-9be1-aa16d2a1ad4c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7701311f-4145-4880-a606-51843fcd2281-attachment.txt", "type": "text/plain"}], "start": 1761816001448, "stop": 1761816001500}], "attachments": [{"name": "时区处理", "source": "25c4175f-c162-4f8d-a346-a9bfb515d21c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9d31c672-abe1-4dd5-9038-fe7f282ac218-attachment.txt", "type": "text/plain"}], "start": 1761816001447, "stop": 1761816001500}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "08a94e21-b0da-4911-b3eb-14fa2eaa5714-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "219d853b-ca6a-4724-8029-3b36db058e61-attachment.txt", "type": "text/plain"}], "start": 1761816001500, "stop": 1761816001501}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "68636933-6875-45df-a181-4ffb48436504-attachment.txt", "type": "text/plain"}], "start": 1761816001501, "stop": 1761816001501}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "995cb1c9-222b-4e4d-8863-83bb300b4f46-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ee208880-ccf5-49bf-a9d8-a916e7dab4db-attachment.txt", "type": "text/plain"}], "start": 1761816003551, "stop": 1761816003604}], "attachments": [{"name": "时区处理", "source": "c95ec5b6-74da-4e7f-8647-41ea93b1467d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b4994b80-c0b5-49f0-b5e5-944f6a3b113d-attachment.txt", "type": "text/plain"}], "start": 1761816003550, "stop": 1761816003604}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8f7020c7-298e-41aa-83a2-3e41debdf7dd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "96f1d7b6-b956-4571-846c-65b66b8a04ed-attachment.txt", "type": "text/plain"}], "start": 1761816003604, "stop": 1761816003605}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7b0d64b2-b1ff-4b55-b7f2-dfa2c049aead-attachment.txt", "type": "text/plain"}], "start": 1761816003605, "stop": 1761816003606}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fda323f1-dc5f-4fae-aef0-29dd1e5939a7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4fc7795f-032f-485a-8598-2100f76d286f-attachment.txt", "type": "text/plain"}], "start": 1761816005658, "stop": 1761816005710}], "attachments": [{"name": "时区处理", "source": "0e5691e1-eeab-4b4e-bca7-c1f9a03ff655-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2fecff05-8f41-4e62-a108-2da0770593e3-attachment.txt", "type": "text/plain"}], "start": 1761816005657, "stop": 1761816005710}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6dfeaed8-47d8-48b0-a5e2-fbb02effa9c8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8e03aeb1-c2f3-4563-ac96-d3d599836cb0-attachment.txt", "type": "text/plain"}], "start": 1761816005710, "stop": 1761816005711}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "17fd96cc-8807-4346-9680-c397a1441cce-attachment.txt", "type": "text/plain"}], "start": 1761816005711, "stop": 1761816005712}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "795bd188-5e94-4d14-bbfd-0cdbe49c19b7-attachment.txt", "type": "text/plain"}], "start": 1761816007726, "stop": 1761816007726}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4c1d1925-a829-45fd-885e-e879fe6134bc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f845362f-6009-4ffb-8c32-a378e020a3df-attachment.txt", "type": "text/plain"}, {"name": "查询结果（共0条，显示前50条）", "source": "69fcba62-b6d7-4660-ad14-e2ef6f383c91-attachment.json", "type": "application/json"}], "start": 1761816007727, "stop": 1761816007787}], "attachments": [{"name": "时区处理", "source": "5e0f32ef-09a8-4b38-ab71-beee3d33d344-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "250aeab0-6d43-4196-b9cc-a05e96568abb-attachment.txt", "type": "text/plain"}], "start": 1761816007727, "stop": 1761816007787}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "2062fd50-75c3-4feb-860d-523a9155a04b-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "b79987a5-9652-4672-93f7-54cdcd3e68cf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e47b0e8b-c5ac-440a-b222-243b0e73a005-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "a6b636ee-c55c-4719-8d2b-0c89b034d63a-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "05d7a55e-7bac-48d2-b058-ab7ec2d78b35-attachment.txt", "type": "text/plain"}], "start": 1761816007787, "stop": 1761816007788}], "start": 1761815976090, "stop": 1761816007788}], "start": 1761815976090, "stop": 1761816007789}], "attachments": [{"name": "log", "source": "3a515652-8ea1-435a-970b-1693621b9386-attachment.txt", "type": "text/plain"}], "start": 1761815976089, "stop": 1761816007789, "uuid": "b5ea045e-3319-4d48-a7fd-c989da741867", "historyId": "8c5ad2729472ea29fe19ec58439dd6f0", "testCaseId": "8c5ad2729472ea29fe19ec58439dd6f0", "fullName": "test_cloudTrader.test_lianxi.TestMasOrderSend12#test_copy_verify_db", "labels": [{"name": "story", "value": "场景12：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "云策略复制下单-开仓的场景校验-buy"}, {"name": "tag", "value": "retry(n=0, delay=0)"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_lianxi"}, {"name": "subSuite", "value": "TestCloudStrategyOrderbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "27548-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_lianxi"}]}