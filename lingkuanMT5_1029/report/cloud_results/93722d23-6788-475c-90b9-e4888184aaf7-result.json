{"name": "数据库校验-交易平仓-指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuanMT5_1029.test_cloudTrader.test_cloudOrder_open_level.TestMT5cloudTrader_openandlevel.Testcloudstargy_addstatus object at 0x0000015CAAAB13A0>\nclass_random_str = 'gxlf9642'\nvar_manager = <lingkuanMT5_1029.commons.variable_manager.VariableManager object at 0x0000015CAAAF97C0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000015CAAE4C910>\n\n    @allure.title(\"数据库校验-交易平仓-指令及订单详情数据检查\")\n    def test_dbMT5cloudTrader_cloudOrderClose(self, class_random_str, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            MT5cloudTrader_user_accounts_4 = var_manager.get_variable(\"MT5cloudTrader_user_accounts_4\")\n            sql = f\"\"\"\n                       SELECT\n                           fod.size,\n                           fod.comment,\n                           fod.close_no,\n                           fod.magical,\n                           fod.open_price,\n                           fod.symbol,\n                           fod.order_no,\n                           foi.true_total_lots,\n                           foi.order_no,\n                           foi.operation_type,\n                           foi.create_time,\n                           foi.status,\n                           foi.min_lot_size,\n                           foi.max_lot_size,\n                           foi.total_lots,\n                           foi.master_order,\n                           foi.total_orders\n                       FROM\n                           follow_order_detail fod\n                       INNER JOIN\n                           follow_order_instruct foi\n                       ON\n                           foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                       WHERE foi.operation_type = %s\n                           AND fod.account = %s\n                           AND fod.comment = %s\n                           \"\"\"\n            params = (\n                '1',\n                MT5cloudTrader_user_accounts_4,\n                class_random_str\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_cloudTrader\\test_cloudOrder_open_level.py:1574: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1029.test_cloudTrader.test_cloudOrder_open_level.TestMT5cloudTrader_openandlevel.Testcloudstargy_addstatus object at 0x0000015CAAAB13A0>\ndb_transaction = <pymysql.connections.Connection object at 0x0000015CAAE4C910>\nsql = '\\n                           SELECT \\n                               fod.size,\\n                               fod.co...            AND fod.account = %s\\n                               AND fod.comment = %s\\n                               '\nparams = ('1', '66938833', 'gxlf9642'), time_field = 'fod.close_time'\ntime_range = 3, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1119: TimeoutError"}, "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云策略账号 策略状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改云策略 策略状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：云策略 策略状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\test_cloudTrader\\test_cloudOrder_open_level.py\", line 1574, in test_dbMT5cloudTrader_cloudOrderClose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "003df9bd-3da6-4060-98b9-97ed30b958db-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "38ca69c0-3a50-42c1-a271-274c599eacc6-attachment.txt", "type": "text/plain"}], "start": 1761729682831, "stop": 1761729682891}], "attachments": [{"name": "时区处理", "source": "d10bd3cf-53d4-4e77-8a42-e8a610bfce2c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e3bd2ddb-2845-4b72-bd74-5f82a32c43b9-attachment.txt", "type": "text/plain"}], "start": 1761729682830, "stop": 1761729682891}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0beeed22-721e-4fec-94b4-7b31391fd27b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7b068ead-5cf5-4cf6-b644-33ca5bb0b9d1-attachment.txt", "type": "text/plain"}], "start": 1761729682891, "stop": 1761729682892}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "172ee032-1016-48e2-8f2b-4261e9a34a6e-attachment.txt", "type": "text/plain"}], "start": 1761729682893, "stop": 1761729682893}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "74e381bd-7552-4322-b94c-6ff638c99322-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "da5146a3-86f1-44b1-aa53-ed2d2b0d5840-attachment.txt", "type": "text/plain"}], "start": 1761729684949, "stop": 1761729685000}], "attachments": [{"name": "时区处理", "source": "52cb351f-ee6b-4842-a7cf-2379220ba80b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1b358ada-b27c-4d83-98eb-6abed8e93079-attachment.txt", "type": "text/plain"}], "start": 1761729684949, "stop": 1761729685000}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "99c53b31-5314-4b2b-bda3-ec221f52a3da-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0075e015-0e56-4e02-896e-33154f307422-attachment.txt", "type": "text/plain"}], "start": 1761729685000, "stop": 1761729685002}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "31115277-b89f-4eb4-ba74-818548c15e28-attachment.txt", "type": "text/plain"}], "start": 1761729685002, "stop": 1761729685002}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5134e8bc-3022-4e41-81bf-70e9a29f2ec9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "526027cd-a0ad-4749-a2fe-565406a7c88a-attachment.txt", "type": "text/plain"}], "start": 1761729687057, "stop": 1761729687108}], "attachments": [{"name": "时区处理", "source": "0ba2cb4d-2c98-4281-8440-36f079c02d92-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fc366c9d-d8db-4def-b3ce-ce1ccb687163-attachment.txt", "type": "text/plain"}], "start": 1761729687056, "stop": 1761729687108}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "af963aa1-a698-4b04-a745-f8944910700c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "61705bc3-837c-41f7-8d20-edf218fd7e18-attachment.txt", "type": "text/plain"}], "start": 1761729687108, "stop": 1761729687109}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "266cffc2-55ff-48a9-8d78-efda8ba6f361-attachment.txt", "type": "text/plain"}], "start": 1761729687109, "stop": 1761729687110}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8889d1ae-cddc-4fc2-bc61-1516cec42cf1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "58f6115e-291d-40ef-894e-a64f6854a874-attachment.txt", "type": "text/plain"}], "start": 1761729689167, "stop": 1761729689219}], "attachments": [{"name": "时区处理", "source": "9ff985ae-918d-471c-a946-6d98aa191f7d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bf52b43e-b3dd-4697-b695-4d7a4997ef67-attachment.txt", "type": "text/plain"}], "start": 1761729689166, "stop": 1761729689219}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "11f7918c-0a26-45c7-9f4b-e3784bcc05f5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8b97e0f9-838b-47e9-bb62-92e5cafed5a9-attachment.txt", "type": "text/plain"}], "start": 1761729689219, "stop": 1761729689220}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8f9a837c-00d5-4a4f-a5b2-81cdc0209496-attachment.txt", "type": "text/plain"}], "start": 1761729689220, "stop": 1761729689220}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "70967462-52b1-45b8-869b-65674196d74e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1aae7d12-be5d-40bf-a5d8-b623ebac413f-attachment.txt", "type": "text/plain"}], "start": 1761729691268, "stop": 1761729691319}], "attachments": [{"name": "时区处理", "source": "fee094c3-506e-4b1e-95cd-01331672e77d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f17c8d2b-3e70-45a3-9b89-1ef6291bfd1a-attachment.txt", "type": "text/plain"}], "start": 1761729691267, "stop": 1761729691319}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bc378312-0037-46d3-94d0-1990030c16ff-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c9f015bd-ee76-4de1-92f6-9c84dadf2973-attachment.txt", "type": "text/plain"}], "start": 1761729691319, "stop": 1761729691320}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3b3d72e2-87f7-428b-a4f6-7e427f96f236-attachment.txt", "type": "text/plain"}], "start": 1761729691320, "stop": 1761729691320}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "521b9e43-4b8c-4553-8f7f-40a083754586-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "55d17d2d-b6fd-4523-8550-81b6d70c7fc3-attachment.txt", "type": "text/plain"}], "start": 1761729693370, "stop": 1761729693428}], "attachments": [{"name": "时区处理", "source": "f2c63990-786a-4c23-82b7-19106c712ac4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1d2b41f8-b8ad-4863-8026-203fab05a61a-attachment.txt", "type": "text/plain"}], "start": 1761729693369, "stop": 1761729693428}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f780238a-f0a1-45ce-b853-d77dd6c5e308-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eec675be-ad8b-49b7-9820-6fa304e5301a-attachment.txt", "type": "text/plain"}], "start": 1761729693428, "stop": 1761729693428}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e243349c-9034-48f0-9ec5-559b5a193d98-attachment.txt", "type": "text/plain"}], "start": 1761729693428, "stop": 1761729693429}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eb5c4941-98f3-4ae0-b22f-c8b9b0702543-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f66c078e-3cb5-4f95-8d63-723c8c6cba02-attachment.txt", "type": "text/plain"}], "start": 1761729695493, "stop": 1761729695704}], "attachments": [{"name": "时区处理", "source": "550c57fa-fdec-4783-83c2-3cfcca729dc0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f2a0e561-3042-45a4-84c6-3aaa16381cb1-attachment.txt", "type": "text/plain"}], "start": 1761729695491, "stop": 1761729695704}, {"name": "轮询中（已等待12.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fbb17ee6-9d38-406a-b7e7-4868a6654b12-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1e912217-64bf-48e6-99f3-f864112305dc-attachment.txt", "type": "text/plain"}], "start": 1761729695704, "stop": 1761729695706}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6b5fcfcd-d930-4e22-b483-6d5432ecaf39-attachment.txt", "type": "text/plain"}], "start": 1761729695706, "stop": 1761729695706}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c0af5e5b-1bd3-4895-b478-607f93592fa3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d29c13f9-5787-4fe1-9490-97ca4cc1666a-attachment.txt", "type": "text/plain"}], "start": 1761729697757, "stop": 1761729697821}], "attachments": [{"name": "时区处理", "source": "ec0b675f-e9dc-4d79-93d8-42e4e2428e2b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "abb0521d-5e7c-49f5-b3e8-2813551307a0-attachment.txt", "type": "text/plain"}], "start": 1761729697756, "stop": 1761729697821}, {"name": "轮询中（已等待15.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e65e3ba2-df8d-429b-8728-e03e54a03a44-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f37b6979-d3f1-4805-a677-53f616bc170c-attachment.txt", "type": "text/plain"}], "start": 1761729697821, "stop": 1761729697822}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1fa14665-4545-473b-a7e0-d8124cbdeaf6-attachment.txt", "type": "text/plain"}], "start": 1761729697822, "stop": 1761729697822}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e836f87f-6104-4823-b3c6-9b20e2c4bb98-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9728b134-4800-41dc-9b6e-17d7e611a52d-attachment.txt", "type": "text/plain"}], "start": 1761729699879, "stop": 1761729699940}], "attachments": [{"name": "时区处理", "source": "adeb893f-d431-4897-ad0b-a3c3436f0877-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e982f47a-07dc-4e45-9267-b1daaa4a1c00-attachment.txt", "type": "text/plain"}], "start": 1761729699879, "stop": 1761729699940}, {"name": "轮询中（已等待17.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7af2af22-1304-42a4-9d84-e79d3a59d21b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1c9e6a4a-02bd-4a45-b653-69a646790d05-attachment.txt", "type": "text/plain"}], "start": 1761729699940, "stop": 1761729699941}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8c92651f-6f1f-490c-850c-4c9ef3b2d501-attachment.txt", "type": "text/plain"}], "start": 1761729699941, "stop": 1761729699941}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "349e104f-cd3a-49de-a1e8-336f392f93b4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "85335ba1-3bc4-4c5f-b3e1-952b1721df79-attachment.txt", "type": "text/plain"}], "start": 1761729701989, "stop": 1761729702046}], "attachments": [{"name": "时区处理", "source": "8b1627fb-5f4b-4a05-88f9-da70393f09a7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0ec9d6c8-8d8f-42e2-9463-2a66f4e56b20-attachment.txt", "type": "text/plain"}], "start": 1761729701989, "stop": 1761729702046}, {"name": "轮询中（已等待19.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9db5f751-06a7-453a-a3ac-2fd7556e37ea-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "34aeb322-298f-46a1-bcd0-7eb000f4e32e-attachment.txt", "type": "text/plain"}], "start": 1761729702046, "stop": 1761729702047}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9614fb57-f107-4850-8e9c-ccd78a20142b-attachment.txt", "type": "text/plain"}], "start": 1761729702047, "stop": 1761729702047}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7ebe0be7-68f7-4f7f-8ab5-e3fbc833ba95-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f27c6079-4d28-419e-80e3-7a55c42919a8-attachment.txt", "type": "text/plain"}], "start": 1761729704105, "stop": 1761729704156}], "attachments": [{"name": "时区处理", "source": "305dc8ab-eb94-457d-9f30-f8c90727b096-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f06647e7-003a-46a9-b5d9-4ca328561ba9-attachment.txt", "type": "text/plain"}], "start": 1761729704104, "stop": 1761729704156}, {"name": "轮询中（已等待21.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "055f30b9-df18-43ec-87a6-b3672d25a540-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "83284b04-9127-4d06-8ff0-8718011d67d4-attachment.txt", "type": "text/plain"}], "start": 1761729704156, "stop": 1761729704157}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b5fff600-9bd2-4fb3-bde7-f0716926a43a-attachment.txt", "type": "text/plain"}], "start": 1761729704157, "stop": 1761729704157}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3df50837-c9e1-4b98-a586-57b3fa175433-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ead10246-89a6-446c-9314-11771a0e0566-attachment.txt", "type": "text/plain"}], "start": 1761729706210, "stop": 1761729706261}], "attachments": [{"name": "时区处理", "source": "ccf29044-7eec-41b6-b8c9-f4cc0cdbb9f0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d629f4f1-2e42-4ade-8097-35720c547950-attachment.txt", "type": "text/plain"}], "start": 1761729706209, "stop": 1761729706261}, {"name": "轮询中（已等待23.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "507ba3a4-d538-41df-87a0-7a42ba70f464-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0dd91164-eb04-4d60-9973-1b40b31da58b-attachment.txt", "type": "text/plain"}], "start": 1761729706261, "stop": 1761729706262}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "30111993-7c00-4ed2-b9ba-81d3453632b4-attachment.txt", "type": "text/plain"}], "start": 1761729706262, "stop": 1761729706262}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "856bfe51-ceb7-46a5-92d7-9ccf15700718-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "40fabfea-7e48-4db0-b004-bb4cca113913-attachment.txt", "type": "text/plain"}], "start": 1761729708313, "stop": 1761729708364}], "attachments": [{"name": "时区处理", "source": "0b9dd342-69a6-441c-9c96-fe6ae00f4a89-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f5308ce8-80e4-4cbe-a0ef-e4f386a66c19-attachment.txt", "type": "text/plain"}], "start": 1761729708312, "stop": 1761729708364}, {"name": "轮询中（已等待25.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1598d31c-f3b1-4d07-a173-7cb4bab5747f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "114299ec-921c-42a1-8f53-59536b705415-attachment.txt", "type": "text/plain"}], "start": 1761729708364, "stop": 1761729708366}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1346c4cb-ad9a-4801-8764-10381ea6ec21-attachment.txt", "type": "text/plain"}], "start": 1761729708366, "stop": 1761729708366}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f2a73416-d3a7-439c-8fbf-ff033f0b5d03-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ff334288-6475-434f-9642-3be54a506bb2-attachment.txt", "type": "text/plain"}], "start": 1761729710423, "stop": 1761729710480}], "attachments": [{"name": "时区处理", "source": "74d1c670-0c21-4290-a2e8-a94508df0310-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "23269e76-5f1a-4963-8021-c4c8d363889d-attachment.txt", "type": "text/plain"}], "start": 1761729710422, "stop": 1761729710480}, {"name": "轮询中（已等待27.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5d555b1f-6260-4b72-9ff0-4a424710bbff-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a2a393c0-a341-4fb5-a6a0-743183ca1da1-attachment.txt", "type": "text/plain"}], "start": 1761729710480, "stop": 1761729710482}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3022079a-8c62-4f46-a33f-f53ab4816dca-attachment.txt", "type": "text/plain"}], "start": 1761729710482, "stop": 1761729710483}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3d1cff58-db06-4d8a-b805-49d866bfea10-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b19b3f4c-a448-48c4-b752-d9a766919fd9-attachment.txt", "type": "text/plain"}], "start": 1761729712546, "stop": 1761729712600}], "attachments": [{"name": "时区处理", "source": "b450f058-19a7-439f-93df-d348499b75f8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7b2e0051-a46e-4a2f-aac5-88d3e1b72bda-attachment.txt", "type": "text/plain"}], "start": 1761729712545, "stop": 1761729712600}, {"name": "轮询中（已等待29.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a1c04cef-09c1-4d9d-9fd7-2997735e34f4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3d7bf1ff-cfa0-4915-9737-d49ce9fbf6da-attachment.txt", "type": "text/plain"}], "start": 1761729712600, "stop": 1761729712601}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d7385d66-bb7c-4bc1-bc83-72575e58df25-attachment.txt", "type": "text/plain"}], "start": 1761729712601, "stop": 1761729712601}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "8180ed91-8f19-4d52-ab28-70f334f09d95-attachment.txt", "type": "text/plain"}], "start": 1761729714603, "stop": 1761729714603}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9886e975-716c-4393-a178-99f5f30eb6e2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "88ee7739-7776-459f-a48e-121fb24524f7-attachment.txt", "type": "text/plain"}, {"name": "查询结果（共0条，显示前50条）", "source": "1feb0bcf-9ca7-4a9f-bb07-0d0bc447b8be-attachment.json", "type": "application/json"}], "start": 1761729714604, "stop": 1761729714665}], "attachments": [{"name": "时区处理", "source": "c2154e1f-9199-4836-b25c-8b1d100636b6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "99c8d509-0fd1-4ec4-a61d-bd682fdb6716-attachment.txt", "type": "text/plain"}], "start": 1761729714604, "stop": 1761729714665}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "802e840f-2a92-4e49-83da-a1512b7b9651-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "7928dd8f-547a-40c1-b183-048a6bbe20ea-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b61cd911-8d36-46d1-aac1-42ead6ef0764-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "06f26783-9ab0-4bbf-80b9-8f9c157d7f58-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "614207b2-63ca-49c0-afc2-9357a8593c02-attachment.txt", "type": "text/plain"}], "start": 1761729714665, "stop": 1761729714667}], "start": 1761729682780, "stop": 1761729714667}], "start": 1761729682780, "stop": 1761729714667}], "attachments": [{"name": "log", "source": "c3a72290-f8d9-4db6-b65f-7a5525d5ed94-attachment.txt", "type": "text/plain"}], "start": 1761729682780, "stop": 1761729714667, "uuid": "7671ec23-9ee6-42a7-9396-595e69742e4e", "historyId": "018a12d79c1a508055a9b2a2f11ec47b", "testCaseId": "018a12d79c1a508055a9b2a2f11ec47b", "fullName": "test_cloudTrader.test_cloudOrder_open_level.Testcloudstargy_addstatus#test_dbMT5cloudTrader_cloudOrderClose", "labels": [{"name": "feature", "value": "云策略-策略账号交易下单-漏单场景"}, {"name": "story", "value": "场景3：交易下单-云策略复制下单-策略账号-策略状态关闭"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestMT5cloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "80940-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}