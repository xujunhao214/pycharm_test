{"name": "数据库校验-交易平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuanMT5_1029.test_vps.test_lianxi2.TestVPSMasOrdersend.TestVPStradingOrders1 object at 0x00000240F8F3ED30>\nclass_random_str = '4e420041'\nvar_manager = <lingkuanMT5_1029.commons.variable_manager.VariableManager object at 0x00000240F8F4E3D0>\ndb_transaction = <pymysql.connections.Connection object at 0x00000240F9021E50>\n\n    @allure.title(\"数据库校验-交易平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, class_random_str, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                    SELECT\n                        fod.size,\n                        fod.close_no,\n                        fod.magical,\n                        fod.open_price,\n                        fod.comment,\n                        fod.symbol,\n                        fod.order_no,\n                        foi.true_total_lots,\n                        foi.order_no,\n                        foi.operation_type,\n                        foi.create_time,\n                        foi.status\n                    FROM\n                        follow_order_detail fod\n                    INNER JOIN\n                        follow_order_instruct foi\n                    ON\n                        foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                    WHERE foi.operation_type = %s\n                        AND fod.account = %s\n                        AND fod.comment = %s\n                        \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                class_random_str\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_lianxi2.py:301: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1029.test_vps.test_lianxi2.TestVPSMasOrdersend.TestVPStradingOrders1 object at 0x00000240F8F3ED30>\ndb_transaction = <pymysql.connections.Connection object at 0x00000240F9021E50>\nsql = '\\n                        SELECT \\n                            fod.size,\\n                            fod.close_no,\\n...                  AND fod.account = %s\\n                            AND fod.comment = %s\\n                            '\nparams = ('1', '66938911', '4e420041'), time_field = 'fod.close_time'\ntime_range = 3, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1119: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\test_vps\\test_lianxi2.py\", line 301, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "91e88938-82dd-4b57-8f31-f2dbab925d5f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "714cf89a-affe-4a58-8547-12dfd7941682-attachment.txt", "type": "text/plain"}], "start": 1761730081097, "stop": 1761730081149}], "attachments": [{"name": "时区处理", "source": "12660f00-0dbb-4933-9647-1e7e76cf8d5a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2e7a1953-cf1b-47b6-8208-4e1803bf8dda-attachment.txt", "type": "text/plain"}], "start": 1761730081096, "stop": 1761730081149}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8ecc2eed-77f6-492a-9cf1-c8d7d53e8d28-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "20fcb4a4-b01d-44ce-8cd1-73f5114fb676-attachment.txt", "type": "text/plain"}], "start": 1761730081149, "stop": 1761730081149}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "49df5e65-b097-495a-b503-f5485d6787db-attachment.txt", "type": "text/plain"}], "start": 1761730081149, "stop": 1761730081150}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2344f899-5810-4925-9e62-66dcc12fb23a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "975fbe53-bf44-4786-94b2-37dc31202230-attachment.txt", "type": "text/plain"}], "start": 1761730083198, "stop": 1761730083253}], "attachments": [{"name": "时区处理", "source": "d27e6b2a-9534-4f82-906f-b0dcb320b0d1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bc6463f2-85c7-4489-bcd2-93db5570352a-attachment.txt", "type": "text/plain"}], "start": 1761730083197, "stop": 1761730083253}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0040d256-1faf-4455-9f30-a851861e349a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d126d549-b48d-4e87-9440-690efcab03d8-attachment.txt", "type": "text/plain"}], "start": 1761730083253, "stop": 1761730083254}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7a04aaaa-1ab1-4ee4-9b58-684d7db5fda8-attachment.txt", "type": "text/plain"}], "start": 1761730083254, "stop": 1761730083254}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1c224756-c5f7-408e-b726-c9c61c5195d6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f57e3e48-9d40-433f-998e-84c7c350ad58-attachment.txt", "type": "text/plain"}], "start": 1761730085309, "stop": 1761730085358}], "attachments": [{"name": "时区处理", "source": "43b3d83b-a6d7-4ba8-bf3b-92c3b1cc14bc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0e56ecdf-6cc9-42a2-bd3e-00a7714d24b9-attachment.txt", "type": "text/plain"}], "start": 1761730085307, "stop": 1761730085358}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9ab2fa6b-77d1-4290-acb6-8c9239bff9e8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a6a9ab58-54d9-4c74-bbc1-43789312ec08-attachment.txt", "type": "text/plain"}], "start": 1761730085358, "stop": 1761730085359}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "236f2fc4-fb40-4a47-87f1-accdcc86af18-attachment.txt", "type": "text/plain"}], "start": 1761730085359, "stop": 1761730085359}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b5f36686-8631-493b-9945-bb8e1358a6f4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bed6ebe2-632e-4d9d-96be-ce92e5480688-attachment.txt", "type": "text/plain"}], "start": 1761730087410, "stop": 1761730087463}], "attachments": [{"name": "时区处理", "source": "2003c223-fd5e-4ce9-aa49-796f4a14990c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "51a913c9-ca1f-4368-bb3a-ebbee030c5bc-attachment.txt", "type": "text/plain"}], "start": 1761730087409, "stop": 1761730087463}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d5cdd492-0305-46c4-8ec9-1cdd5122ec46-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "743a3d3c-5bc3-4955-a4cc-96234d61334d-attachment.txt", "type": "text/plain"}], "start": 1761730087463, "stop": 1761730087464}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fb643a77-e81f-4c49-b7cc-bc9c26713319-attachment.txt", "type": "text/plain"}], "start": 1761730087464, "stop": 1761730087464}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7867f444-c423-45ad-9d5b-0e1309162ea1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b8e2ca88-6f4e-48bc-82a6-b150786570c1-attachment.txt", "type": "text/plain"}], "start": 1761730089529, "stop": 1761730089578}], "attachments": [{"name": "时区处理", "source": "d690f8ff-cad0-425d-a863-eff07034f1de-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1803431c-0d2e-4dd4-bd45-d6106f29655a-attachment.txt", "type": "text/plain"}], "start": 1761730089528, "stop": 1761730089578}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "be32e6f7-9ec1-4922-89ab-0d71bb03d4bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f696e3d8-5cf2-45c0-b0d6-9aa8f92fa807-attachment.txt", "type": "text/plain"}], "start": 1761730089578, "stop": 1761730089579}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b2b162eb-985c-417b-8aed-91822f943544-attachment.txt", "type": "text/plain"}], "start": 1761730089579, "stop": 1761730089579}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a44ec810-fe5e-4af8-9820-9d56aa496522-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f436409a-51ff-4d11-b7aa-000c9d918228-attachment.txt", "type": "text/plain"}], "start": 1761730091638, "stop": 1761730091689}], "attachments": [{"name": "时区处理", "source": "b754a3c0-cd30-4578-b556-831bbc7320dc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2fca2506-ffc5-40af-8b80-80c1909ad5e7-attachment.txt", "type": "text/plain"}], "start": 1761730091638, "stop": 1761730091689}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d2ae9698-3c43-4d7e-bf82-ba867ed2d0db-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7442b9c5-5842-4ea0-ab66-cdae4cb8fbae-attachment.txt", "type": "text/plain"}], "start": 1761730091689, "stop": 1761730091689}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c9202d27-ad31-4b8d-aca5-1abc36f883be-attachment.txt", "type": "text/plain"}], "start": 1761730091689, "stop": 1761730091690}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f2cc6dc7-9c78-4211-bdd6-9a4ed8a616d6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "69b5aa5a-b64f-4bf1-9092-9bd3c5b918da-attachment.txt", "type": "text/plain"}], "start": 1761730093750, "stop": 1761730093809}], "attachments": [{"name": "时区处理", "source": "1be15dac-d2c0-4de8-83b8-fa96f5d9d94a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5cfd8fd2-09ea-4ac7-8d40-fc8db45d1af3-attachment.txt", "type": "text/plain"}], "start": 1761730093749, "stop": 1761730093809}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2100a50a-0c02-4e27-8c86-5fe6213b9855-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "210993b4-fd72-46d0-8d75-f2cf5d376fd0-attachment.txt", "type": "text/plain"}], "start": 1761730093809, "stop": 1761730093810}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0c8a8bea-d3a8-41a2-90c0-73abd24126b3-attachment.txt", "type": "text/plain"}], "start": 1761730093810, "stop": 1761730093810}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2ecde544-fad7-4234-a0cd-e61405c6d03f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "641ee125-08c5-4ebb-ace1-0f21b64faa5f-attachment.txt", "type": "text/plain"}], "start": 1761730095865, "stop": 1761730095915}], "attachments": [{"name": "时区处理", "source": "9c07ed57-a49a-40ef-873d-967b6c5ecba5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "67362263-6eaa-4c2b-8386-014af4bb98f5-attachment.txt", "type": "text/plain"}], "start": 1761730095865, "stop": 1761730095915}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f7bbde48-97b6-4d70-8a3a-400888094ac5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "44188fe9-9923-49b5-9265-e47133ea100f-attachment.txt", "type": "text/plain"}], "start": 1761730095915, "stop": 1761730095916}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "92541965-3c46-4dab-918f-a3851a999539-attachment.txt", "type": "text/plain"}], "start": 1761730095916, "stop": 1761730095916}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9f45798d-5425-47ec-94a6-78314758f100-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "331f23a4-63f8-48e3-9d72-ead0a31d7863-attachment.txt", "type": "text/plain"}], "start": 1761730097979, "stop": 1761730098030}], "attachments": [{"name": "时区处理", "source": "906f72f4-6ef9-4b32-89ec-ce7aa4beecdd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "73633a08-ad4b-4703-98a0-eebd78e6c86a-attachment.txt", "type": "text/plain"}], "start": 1761730097978, "stop": 1761730098030}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "45d16be8-14ac-421b-ada1-91bdce6062d9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "906c040a-3f44-4d60-ad9e-8e69da001f27-attachment.txt", "type": "text/plain"}], "start": 1761730098030, "stop": 1761730098031}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5b9ea2dc-280f-4ee6-b146-7e7c92240cf0-attachment.txt", "type": "text/plain"}], "start": 1761730098031, "stop": 1761730098031}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1b061473-bfbc-49fb-b85e-e30da73d5a0d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d96f04fe-c146-438b-bab6-c5a295304984-attachment.txt", "type": "text/plain"}], "start": 1761730100102, "stop": 1761730100152}], "attachments": [{"name": "时区处理", "source": "3e39b1f1-dafa-4b19-b94d-414fa69dfab4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ff8b300d-6422-4eb1-a2e6-1822c9af236a-attachment.txt", "type": "text/plain"}], "start": 1761730100101, "stop": 1761730100152}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "43c94a4b-48bc-498f-a8ba-f9d986029ea5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c79beee2-8dff-4a8a-88db-4077ba4922b3-attachment.txt", "type": "text/plain"}], "start": 1761730100152, "stop": 1761730100153}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3ead259f-5699-447e-a8b0-eba6881ad75f-attachment.txt", "type": "text/plain"}], "start": 1761730100153, "stop": 1761730100154}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c0f6aac8-b781-4ba4-84c8-e22a5b23aa8d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "da3ce6c0-f1b0-4668-b9c3-bf83d44833fd-attachment.txt", "type": "text/plain"}], "start": 1761730102207, "stop": 1761730102256}], "attachments": [{"name": "时区处理", "source": "b565e152-844c-4747-acd2-b17ea811ba1e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b5559204-8f76-4ebd-b35a-7906d563f575-attachment.txt", "type": "text/plain"}], "start": 1761730102206, "stop": 1761730102256}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8d849356-0cc2-439e-85ce-d2403a857bee-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0997011d-438d-4b98-b45d-d88037a0315a-attachment.txt", "type": "text/plain"}], "start": 1761730102256, "stop": 1761730102257}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3a075206-3f05-4559-94cc-6ae09b259f68-attachment.txt", "type": "text/plain"}], "start": 1761730102257, "stop": 1761730102257}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6bfb8b25-bfd9-4616-b5dd-3443e006b953-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e4ef4070-1376-40e7-826b-699e13066426-attachment.txt", "type": "text/plain"}], "start": 1761730104308, "stop": 1761730104358}], "attachments": [{"name": "时区处理", "source": "796b75c6-0857-4aff-8f6c-cbf0b755d0fc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "eec645ed-6310-4564-9927-e0e385121e27-attachment.txt", "type": "text/plain"}], "start": 1761730104306, "stop": 1761730104358}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ffdce594-1a25-4e0d-a46b-0b713eca7ed8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d6c2cd0a-997d-4020-9d94-b4174ec2ea67-attachment.txt", "type": "text/plain"}], "start": 1761730104358, "stop": 1761730104359}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "50e98bbc-77a2-4a16-8844-0fc1bfc8e1ac-attachment.txt", "type": "text/plain"}], "start": 1761730104359, "stop": 1761730104359}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "72d33bb0-74ba-449b-9100-0fbd2bb31210-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3c4c7340-ef04-4620-9a82-81772efc6ffd-attachment.txt", "type": "text/plain"}], "start": 1761730106417, "stop": 1761730106470}], "attachments": [{"name": "时区处理", "source": "5a92a3e8-e1d1-41d2-a9f3-717c290e1659-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fc7743a3-1509-4a8e-ae24-91c475970495-attachment.txt", "type": "text/plain"}], "start": 1761730106416, "stop": 1761730106470}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4590074b-9e86-469f-a1c0-eeda58ab6e33-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2e78d472-6da2-4954-b1d4-8c0506c1533d-attachment.txt", "type": "text/plain"}], "start": 1761730106470, "stop": 1761730106471}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "eba430cf-8983-4c3d-8c75-421a9883265a-attachment.txt", "type": "text/plain"}], "start": 1761730106471, "stop": 1761730106471}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "36afdcea-bc24-491a-931e-68cc6d9f623c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "de17e511-0ed4-49e1-85f1-8d82661e54fe-attachment.txt", "type": "text/plain"}], "start": 1761730108531, "stop": 1761730108581}], "attachments": [{"name": "时区处理", "source": "bf6a1982-04ce-45f1-b276-d68b774b6fa0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8639ded1-43ff-4829-af94-9cd4473f57b6-attachment.txt", "type": "text/plain"}], "start": 1761730108531, "stop": 1761730108581}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4f9dd295-8060-4cf2-bd88-c16a6882377f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0c7873d4-8c23-41cc-af85-407fc4ed7f95-attachment.txt", "type": "text/plain"}], "start": 1761730108581, "stop": 1761730108582}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f58e15bb-83a8-4d94-8d9e-63f3f97653c8-attachment.txt", "type": "text/plain"}], "start": 1761730108582, "stop": 1761730108582}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "de97772e-d260-4a14-b143-82e632d19451-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1da1dcfc-628d-48f9-bf91-95ffba04eacb-attachment.txt", "type": "text/plain"}], "start": 1761730110637, "stop": 1761730110691}], "attachments": [{"name": "时区处理", "source": "99f8d7c0-2927-40df-909c-c8da0e7f5e00-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "60a1144a-ab51-40cc-bb34-479954f0abca-attachment.txt", "type": "text/plain"}], "start": 1761730110635, "stop": 1761730110691}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "48bdc8ca-dab5-46c5-a388-4973ff9c928b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c26e9af3-2a86-4387-9a0e-8839ba7d837a-attachment.txt", "type": "text/plain"}], "start": 1761730110692, "stop": 1761730110692}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "315f35ab-fe9d-4cbb-9d74-bdbde63f3cd1-attachment.txt", "type": "text/plain"}], "start": 1761730110692, "stop": 1761730110692}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "bb74dcb0-bf92-4bdc-8ab5-d3af7e8ca81e-attachment.txt", "type": "text/plain"}], "start": 1761730112699, "stop": 1761730112700}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d20e59d6-88b6-4cd6-8e1e-4b95682d3433-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d0bd511f-c705-42f9-8cfd-9536488fb4f3-attachment.txt", "type": "text/plain"}, {"name": "查询结果（共0条，显示前50条）", "source": "60aabd95-5da6-4171-ac20-3da600edf435-attachment.json", "type": "application/json"}], "start": 1761730112701, "stop": 1761730112756}], "attachments": [{"name": "时区处理", "source": "ca9ca8a9-dc0f-4e2a-9e64-959c494ecc23-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f2c76b17-d775-49bc-83b0-a3152c9c6f75-attachment.txt", "type": "text/plain"}], "start": 1761730112700, "stop": 1761730112756}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "37715459-3781-434b-9d61-cbf77b4a2ca8-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "1207e9f4-10d1-4bbc-954c-f991e750b620-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4b272f30-aff3-4feb-9db9-278d5d84f165-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "ddc0fdf3-5c8f-499c-9df2-7b67434963a4-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "d7f1ac8a-cab5-4b8a-bebe-6bdf9c5d256b-attachment.txt", "type": "text/plain"}], "start": 1761730112756, "stop": 1761730112759}], "start": 1761730081047, "stop": 1761730112759}], "start": 1761730081047, "stop": 1761730112760}], "attachments": [{"name": "log", "source": "cd4326a5-cfaa-44cf-9560-5003d176246d-attachment.txt", "type": "text/plain"}], "start": 1761730081047, "stop": 1761730112761, "uuid": "adf00c20-ebf0-48bf-87d5-4ef07747ac23", "historyId": "d397d0bce3d1b92318aea44d8b4b3e7b", "testCaseId": "d397d0bce3d1b92318aea44d8b4b3e7b", "fullName": "test_vps.test_lianxi2.TestVPStradingOrders1#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略账号交易下单-开仓的场景校验"}, {"name": "story", "value": "场景1：分配下单-手数0.1-1，总手数1"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi2"}, {"name": "subSuite", "value": "TestVPSMasOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "80704-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi2"}]}