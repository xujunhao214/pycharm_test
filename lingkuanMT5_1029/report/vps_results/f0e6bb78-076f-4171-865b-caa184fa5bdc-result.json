{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036983042, "stop": 1764036983098}], "attachments": [{"name": "时区处理", "source": "6a2357ce-0494-4e5b-bcce-328f2affcb09-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ff26db56-83b0-450c-9612-83df01ab8824-attachment.txt", "type": "text/plain"}], "start": 1764036983040, "stop": 1764036983098}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "79c2b028-0974-4e87-8a0d-2100d499de39-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9d88ad94-92db-44e5-9c13-29385c79d49e-attachment.txt", "type": "text/plain"}], "start": 1764036983098, "stop": 1764036983101}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "f4991a5d-8b3e-45c1-a33c-01616a343abd-attachment.txt", "type": "text/plain"}], "start": 1764036983101, "stop": 1764036983102}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "57661aec-c681-44b6-aefe-9758e489e791-attachment.txt", "type": "text/plain"}], "start": 1764036983102, "stop": 1764036983103}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036985166, "stop": 1764036985217}], "attachments": [{"name": "时区处理", "source": "6200a072-80b6-4985-9d9a-b0f0578139af-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7abfc320-6ef6-4779-a995-1aa53b9426bf-attachment.txt", "type": "text/plain"}], "start": 1764036985165, "stop": 1764036985217}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "22fd4d5c-6123-4bda-9931-38a6266d0f64-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "34e6ba7b-6353-4c0f-ad5b-7ef44973c88f-attachment.txt", "type": "text/plain"}], "start": 1764036985217, "stop": 1764036985218}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "be6b28d4-2af1-4fc6-8f1b-56cfe8d4a129-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "a2d2b08e-7cd8-4d84-b5eb-08ca18bea3c1-attachment.txt", "type": "text/plain"}], "start": 1764036985218, "stop": 1764036985219}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7c068133-289b-460d-b59c-842dc16f6fc8-attachment.txt", "type": "text/plain"}], "start": 1764036985219, "stop": 1764036985219}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036987271, "stop": 1764036987321}], "attachments": [{"name": "时区处理", "source": "e8ee18bc-fac1-46e8-a5d1-fd7771542885-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cd544726-f4bb-478f-95f3-df46446dc1df-attachment.txt", "type": "text/plain"}], "start": 1764036987270, "stop": 1764036987321}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e0ce91ab-7cee-47a9-ae60-21180853ccb3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ec07428f-736b-4045-9416-c0c220cf8360-attachment.txt", "type": "text/plain"}], "start": 1764036987321, "stop": 1764036987321}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "09b967e2-d49d-4728-b014-17606efc87d7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "894bcb2b-8a31-4852-96d6-87ec9a8adbff-attachment.txt", "type": "text/plain"}], "start": 1764036987322, "stop": 1764036987322}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "c1d4b8c2-3568-413a-b4e0-e7f84ed91c6e-attachment.txt", "type": "text/plain"}], "start": 1764036987322, "stop": 1764036987322}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036989382, "stop": 1764036989431}], "attachments": [{"name": "时区处理", "source": "318d2416-a14b-4903-913f-78ac03b390fc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4665d48d-da52-4a32-8227-a4cafca7e247-attachment.txt", "type": "text/plain"}], "start": 1764036989381, "stop": 1764036989431}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "15089587-a602-4cb2-8491-bae7f0488041-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d3e26085-4a70-4052-a3f2-d2127026804c-attachment.txt", "type": "text/plain"}], "start": 1764036989431, "stop": 1764036989432}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ae81ee87-2036-4354-8785-080978c8c822-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0e137ffb-fed7-4008-808b-c3ff6bae5596-attachment.txt", "type": "text/plain"}], "start": 1764036989432, "stop": 1764036989433}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "ef96c115-6cba-43eb-9187-b59ae2aaf21d-attachment.txt", "type": "text/plain"}], "start": 1764036989433, "stop": 1764036989433}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共9条，显示前50条）", "source": "7e2507c1-2fb2-4486-80cc-3e9f496a00ba-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "6b5fd9da-2351-450b-882d-8e4c5b98b8ff-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a2cf1886-38d6-43cb-a22a-d85b0edce7e0-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "296d8159-e92e-413e-aef9-777abef58cf6-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "bf6739e8-ef9e-4b5c-9a35-b66b72a10e9e-attachment.txt", "type": "text/plain"}], "start": 1764036989433, "stop": 1764036989434}], "start": 1764036982990, "stop": 1764036989434}], "start": 1764036982990, "stop": 1764036989435}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "89ff75b1-4cf8-45eb-be46-3011c0c2735d-attachment.attach", "type": "text/plain"}], "start": 1764036989435, "stop": 1764036989435}], "start": 1764036989435, "stop": 1764036989435}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "1594718a-7cfc-4ed3-a499-db91c0dcbca0-attachment.attach", "type": "text/plain"}], "start": 1764036989435, "stop": 1764036989435}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "d96f9ab5-6bed-4334-83ff-b7975305d57f-attachment.attach", "type": "text/plain"}], "start": 1764036989435, "stop": 1764036989436}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "ccd335ff-4ba8-47bb-a24c-352775b6750f-attachment.attach", "type": "text/plain"}], "start": 1764036989436, "stop": 1764036989436}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "ddfc74c7-d641-442e-8340-afd40660d453-attachment.attach", "type": "text/plain"}], "start": 1764036989436, "stop": 1764036989436}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "0fec8e22-cde7-462a-b931-4457161b4ae3-attachment.attach", "type": "text/plain"}], "start": 1764036989436, "stop": 1764036989437}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "68bb463f-8308-4cf9-b836-5ef619be15b0-attachment.attach", "type": "text/plain"}], "start": 1764036989437, "stop": 1764036989437}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "d1553290-7c63-43ae-b427-487be2ff946c-attachment.attach", "type": "text/plain"}], "start": 1764036989437, "stop": 1764036989437}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "50048653-d007-4dfa-b9a8-8eca827dbbdb-attachment.attach", "type": "text/plain"}], "start": 1764036989437, "stop": 1764036989438}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "01abc0b5-e20f-45c9-8f1f-7ba8be2bec16-attachment.attach", "type": "text/plain"}], "start": 1764036989438, "stop": 1764036989438}], "start": 1764036989435, "stop": 1764036989438}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "5c56c58f-cf98-43af-a921-03c85b84dc15-attachment.attach", "type": "text/plain"}], "start": 1764036989438, "stop": 1764036989438}], "start": 1764036989438, "stop": 1764036989438}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "74042027-560e-4594-a215-e1566f7b4a80-attachment.attach", "type": "text/plain"}], "start": 1764036989439, "stop": 1764036989439}], "start": 1764036989439, "stop": 1764036989439}], "start": 1764036989435, "stop": 1764036989439}], "attachments": [{"name": "log", "source": "2fb610a8-44a3-4c84-9cc8-c60513370234-attachment.txt", "type": "text/plain"}], "start": 1764036982990, "stop": 1764036989439, "uuid": "ab9a63cc-d4a1-49b8-8c06-0ddd8f93be96", "historyId": "aa9cad2104c6c6ca39e998befb5a1503", "testCaseId": "aa9cad2104c6c6ca39e998befb5a1503", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}