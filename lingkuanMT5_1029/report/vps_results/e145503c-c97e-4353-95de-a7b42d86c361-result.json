{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415545769, "stop": 1762415545818}], "attachments": [{"name": "时区处理", "source": "031779e7-7dba-474e-a85a-24aa25a69593-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5dd472af-5cde-4bb6-b66f-4654f10faf24-attachment.txt", "type": "text/plain"}], "start": 1762415545769, "stop": 1762415545818}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "74c54ee9-ee2d-4e49-8d03-c5d843baf479-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a5a0ca7c-6b38-4636-b479-29d2798cd196-attachment.txt", "type": "text/plain"}], "start": 1762415545818, "stop": 1762415545819}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "4e7b196a-7310-4a9b-8f04-cf515f94811b-attachment.txt", "type": "text/plain"}], "start": 1762415545819, "stop": 1762415545820}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7b5cbc80-7045-4b7f-91b6-711b0c05e593-attachment.txt", "type": "text/plain"}], "start": 1762415545820, "stop": 1762415545820}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415547875, "stop": 1762415547927}], "attachments": [{"name": "时区处理", "source": "5a49baba-6a47-41f2-840e-cb8fa10ad4c5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "33aa8f24-64ff-4890-8d70-2521ef4d53ff-attachment.txt", "type": "text/plain"}], "start": 1762415547874, "stop": 1762415547927}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6f5400d5-903b-4cc0-917d-9a7c73c22d67-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f5d02d02-192b-427c-863a-d2cf378d0fdd-attachment.txt", "type": "text/plain"}], "start": 1762415547927, "stop": 1762415547928}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "85e33460-deb2-4081-9014-6acbf7de5b4e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "1568ecc3-d461-4945-8efa-8912061a76e7-attachment.txt", "type": "text/plain"}], "start": 1762415547928, "stop": 1762415547928}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8d1dc531-b99d-4624-b6d3-79b47bb24d25-attachment.txt", "type": "text/plain"}], "start": 1762415547928, "stop": 1762415547929}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415549978, "stop": 1762415550028}], "attachments": [{"name": "时区处理", "source": "19063aae-1723-4ed9-8339-e92f30eeebe1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1ff151b6-034f-4165-a6a1-46d2ac888bd3-attachment.txt", "type": "text/plain"}], "start": 1762415549977, "stop": 1762415550028}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "264b454b-1a49-48b5-8187-04a8e40dedfb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cf61460e-ac61-4bd9-95d3-29d39e66444d-attachment.txt", "type": "text/plain"}], "start": 1762415550028, "stop": 1762415550029}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "bf431b0a-1d37-482a-8c9c-2bd763323155-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4513ba2e-3f0a-46dc-a8cc-77e0a67a7e1a-attachment.txt", "type": "text/plain"}], "start": 1762415550029, "stop": 1762415550030}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "f4e9c277-9671-4eeb-a314-75e46485e7a7-attachment.txt", "type": "text/plain"}], "start": 1762415550030, "stop": 1762415550030}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415552097, "stop": 1762415552187}], "attachments": [{"name": "时区处理", "source": "9cc2ab3e-06b9-4690-a1f2-afde198f16e7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "00365215-e5e0-4b69-9fb1-eedb6d758428-attachment.txt", "type": "text/plain"}], "start": 1762415552097, "stop": 1762415552187}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "44f1a9d8-0d90-49a3-9977-d005a8dfe5d5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "559640e0-badb-430c-a60d-5bfef94596d1-attachment.txt", "type": "text/plain"}], "start": 1762415552187, "stop": 1762415552188}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "79696385-7120-4f41-a0d6-d885a5309d68-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d5f3f6ba-7b42-4e64-8a76-f145735d336f-attachment.txt", "type": "text/plain"}], "start": 1762415552188, "stop": 1762415552189}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "8fcce444-d749-4daf-bea0-e8e468e6b5f3-attachment.txt", "type": "text/plain"}], "start": 1762415552189, "stop": 1762415552189}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "1b5f3886-eefe-4bb7-b103-6be3de3e32c1-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "94000c22-13be-447b-aa9e-6c9f964883fa-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b32f59de-d9ea-42f5-9562-37f8015751c3-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "ae84ef84-cf4b-4880-a0b2-1f725bf0d410-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "91e1a7ca-9b30-4656-9882-0e34ea926f5e-attachment.txt", "type": "text/plain"}], "start": 1762415552189, "stop": 1762415552190}], "start": 1762415545721, "stop": 1762415552190}], "start": 1762415545720, "stop": 1762415552190}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "b10ddbb7-0843-4cef-a18c-05246547a40f-attachment.attach", "type": "text/plain"}], "start": 1762415552191, "stop": 1762415552191}], "start": 1762415552191, "stop": 1762415552191}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "4c6fc362-1653-4be3-9a7d-9c36fc3f56aa-attachment.attach", "type": "text/plain"}], "start": 1762415552191, "stop": 1762415552191}], "start": 1762415552191, "stop": 1762415552191}], "start": 1762415552190, "stop": 1762415552191}], "attachments": [{"name": "log", "source": "ebd3c5aa-647d-4500-8d9e-973c588d2174-attachment.txt", "type": "text/plain"}], "start": 1762415545720, "stop": 1762415552191, "uuid": "43bac55c-88e7-4119-8f53-eef3d9453a86", "historyId": "ddaea6d4d0b40b636d97751756b9c7a2", "testCaseId": "ddaea6d4d0b40b636d97751756b9c7a2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend10#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "34244-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}