{"name": "数据库校验-交易平仓-跟单指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuanMT5_1029.test_vps.test_lianxi2.TestVPSMasOrdersend.TestVPStradingOrders1 object at 0x00000240F8F3EF40>\nclass_random_str = '4e420041'\nvar_manager = <lingkuanMT5_1029.commons.variable_manager.VariableManager object at 0x00000240F8F4E3D0>\ndb_transaction = <pymysql.connections.Connection object at 0x00000240F9162580>\n\n    @allure.title(\"数据库校验-交易平仓-跟单指令及订单详情数据检查\")\n    def test_dbquery_addsalve_orderSendclose(self, class_random_str, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            MT5vps_user_accounts_1 = var_manager.get_variable(\"MT5vps_user_accounts_1\")\n            MT5vps_addslave_id = var_manager.get_variable(\"MT5vps_addslave_id\")\n            sql = f\"\"\"\n                    SELECT\n                        fod.size,\n                        fod.close_no,\n                        fod.magical,\n                        fod.open_price,\n                        fod.comment,\n                        fod.symbol,\n                        fod.order_no,\n                        foi.true_total_lots,\n                        foi.order_no,\n                        foi.operation_type,\n                        foi.create_time,\n                        foi.status,\n                        foi.min_lot_size,\n                        foi.max_lot_size,\n                        foi.total_lots,\n                        foi.master_order,\n                        foi.total_orders\n                    FROM\n                        follow_order_detail fod\n                    INNER JOIN\n                        follow_order_instruct foi\n                    ON\n                        foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                    WHERE foi.operation_type = %s\n                        AND fod.account = %s\n                        AND fod.trader_id = %s\n                        AND fod.comment = %s\n                        \"\"\"\n            params = (\n                '1',\n                MT5vps_user_accounts_1,\n                MT5vps_addslave_id,\n                class_random_str\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_lianxi2.py:377: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1029.test_vps.test_lianxi2.TestVPSMasOrdersend.TestVPStradingOrders1 object at 0x00000240F8F3EF40>\ndb_transaction = <pymysql.connections.Connection object at 0x00000240F9162580>\nsql = '\\n                        SELECT \\n                            fod.size,\\n                            fod.close_no,\\n...                AND fod.trader_id = %s\\n                            AND fod.comment = %s\\n                            '\nparams = ('1', '66938913', 13818, '4e420041'), time_field = 'fod.close_time'\ntime_range = 3, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1119: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\test_vps\\test_lianxi2.py\", line 377, in test_dbquery_addsalve_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "60d1633c-b95d-4650-b208-b78611c3c268-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0002eb06-2896-460c-97f4-ed0cd1a15155-attachment.txt", "type": "text/plain"}], "start": 1761730113142, "stop": 1761730113191}], "attachments": [{"name": "时区处理", "source": "9baa09cf-1783-4b1f-b86c-92f0e7b18873-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "29685d94-13a4-4801-bc86-550a590e70b8-attachment.txt", "type": "text/plain"}], "start": 1761730113140, "stop": 1761730113191}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8647958a-0bae-4e02-878c-bacc7061226f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d608865d-1125-438c-b13b-35b2c703ada2-attachment.txt", "type": "text/plain"}], "start": 1761730113191, "stop": 1761730113193}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2b5f4773-2f78-43a5-9f8b-8b897a3bc238-attachment.txt", "type": "text/plain"}], "start": 1761730113193, "stop": 1761730113193}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c6ef2075-8ce8-4b8f-a591-e07a93bec22e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ec926606-3043-4d07-b5d4-249006c90605-attachment.txt", "type": "text/plain"}], "start": 1761730115244, "stop": 1761730115293}], "attachments": [{"name": "时区处理", "source": "11cd28c6-4fff-4cc1-bda3-140bdea3fc3b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "dc3d9200-50de-47c0-a30c-a9f8f93f2bb0-attachment.txt", "type": "text/plain"}], "start": 1761730115243, "stop": 1761730115293}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6b5b456a-ec43-4520-845a-d3826a3d9fe3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "50521c72-7ba6-4e1f-94ff-5ed7fca7556d-attachment.txt", "type": "text/plain"}], "start": 1761730115293, "stop": 1761730115295}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a748fa17-4736-446a-88ca-06c2334b4c3f-attachment.txt", "type": "text/plain"}], "start": 1761730115295, "stop": 1761730115295}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "333067e5-7bcc-469c-84f7-0ee0a48452ae-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e197595b-46bc-4b83-aca5-ed83a7c03ed4-attachment.txt", "type": "text/plain"}], "start": 1761730117341, "stop": 1761730117390}], "attachments": [{"name": "时区处理", "source": "55e5de5d-11f7-4def-98f5-2eceaa08280e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4ad32607-e08e-4873-927e-fcbfdc5dacaf-attachment.txt", "type": "text/plain"}], "start": 1761730117341, "stop": 1761730117390}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3c17488d-fb65-42cc-a761-0b73add843c6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8ae23a08-d0d0-4b04-8822-16113ce7a1b1-attachment.txt", "type": "text/plain"}], "start": 1761730117390, "stop": 1761730117391}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "43784e0f-4477-4ac1-bd22-bdba501bea9a-attachment.txt", "type": "text/plain"}], "start": 1761730117391, "stop": 1761730117391}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8e329798-9523-474d-ac65-f7ac5d1a01c3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a644cdd8-5d5a-4fdb-8b66-565f9b4b18f7-attachment.txt", "type": "text/plain"}], "start": 1761730119440, "stop": 1761730119487}], "attachments": [{"name": "时区处理", "source": "111f316f-3c80-4663-aa4a-a193307f3b1a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b62977f4-c7e3-43e8-b6a4-ee8ae993da3c-attachment.txt", "type": "text/plain"}], "start": 1761730119439, "stop": 1761730119487}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ee572910-7378-4179-8fb5-e39997cdddab-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a3cafcfa-8e55-4c41-98d2-a19ba785bead-attachment.txt", "type": "text/plain"}], "start": 1761730119487, "stop": 1761730119488}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b0d832c5-5bdb-4a00-807f-49ab9ac49d47-attachment.txt", "type": "text/plain"}], "start": 1761730119488, "stop": 1761730119489}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "dc1a0448-e9e8-4687-948b-22d327112c1f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3f52ccd2-a66d-4a28-bb09-75d4d49400cb-attachment.txt", "type": "text/plain"}], "start": 1761730121534, "stop": 1761730121736}], "attachments": [{"name": "时区处理", "source": "acedff38-8580-4c65-b6d2-4c02b6f20858-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f0b582b0-e090-4781-b608-f24e28f3c3db-attachment.txt", "type": "text/plain"}], "start": 1761730121534, "stop": 1761730121736}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8ed22b1e-63cf-475a-9fcd-09738ed80790-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ba12ae93-cba1-44e8-b237-829c62dba4ab-attachment.txt", "type": "text/plain"}], "start": 1761730121736, "stop": 1761730121737}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b9ce1da9-9867-480c-b016-bba836b6f3e5-attachment.txt", "type": "text/plain"}], "start": 1761730121737, "stop": 1761730121737}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1c5b9f31-41cb-4841-a461-4fe53b1bdf44-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5c47f13d-c4fe-4c95-a878-bdd7daa420e3-attachment.txt", "type": "text/plain"}], "start": 1761730123821, "stop": 1761730123871}], "attachments": [{"name": "时区处理", "source": "03657e53-cfc3-40f9-8531-1e8c8f7db689-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5099edce-ed16-4d15-8edc-0086c2b5f6f3-attachment.txt", "type": "text/plain"}], "start": 1761730123820, "stop": 1761730123871}, {"name": "轮询中（已等待10.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "84a5e318-f761-499b-a4d5-aaa6c288cc41-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3a459b9a-5a3d-457a-9a0c-c1014b3a5534-attachment.txt", "type": "text/plain"}], "start": 1761730123871, "stop": 1761730123872}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "89f9e70c-8e79-454d-8698-93cedd960f20-attachment.txt", "type": "text/plain"}], "start": 1761730123872, "stop": 1761730123872}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7d41aea1-35d8-4d27-9c19-4fcd11fe4ec0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e517012e-1c11-48b0-a24b-b307c9cf20be-attachment.txt", "type": "text/plain"}], "start": 1761730125934, "stop": 1761730126146}], "attachments": [{"name": "时区处理", "source": "3f987e64-991b-421a-8613-caddc8b5768f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7bbd3531-99ef-492a-8882-7f229655e11b-attachment.txt", "type": "text/plain"}], "start": 1761730125933, "stop": 1761730126146}, {"name": "轮询中（已等待13.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3c4b200b-8676-4d0e-8491-f412c321700a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "14c8f801-66ce-4dae-a525-3eed95663684-attachment.txt", "type": "text/plain"}], "start": 1761730126146, "stop": 1761730126146}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1a4ea098-44b2-4b56-9fb4-519af7b97bc3-attachment.txt", "type": "text/plain"}], "start": 1761730126146, "stop": 1761730126147}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "caaa91db-8205-47ec-82af-a35e26150132-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4a26909d-7d2c-40c1-832b-8572a149546c-attachment.txt", "type": "text/plain"}], "start": 1761730128214, "stop": 1761730128277}], "attachments": [{"name": "时区处理", "source": "32eb3ff9-1651-4f44-a394-8982ab078c11-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "09397c5c-8849-44ce-9149-1ca7c0c52161-attachment.txt", "type": "text/plain"}], "start": 1761730128213, "stop": 1761730128277}, {"name": "轮询中（已等待15.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c435135b-eba6-450b-ae61-bb40225ac7e0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "139c6d33-6d7e-4596-abc5-b6e54ee7e8be-attachment.txt", "type": "text/plain"}], "start": 1761730128277, "stop": 1761730128278}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0137290f-ede3-44b9-a79d-e3871553f875-attachment.txt", "type": "text/plain"}], "start": 1761730128278, "stop": 1761730128279}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4e162d0d-2f83-412d-97be-c152bcccd47d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7c624bb8-d828-4504-8849-ae336479c76d-attachment.txt", "type": "text/plain"}], "start": 1761730130337, "stop": 1761730130384}], "attachments": [{"name": "时区处理", "source": "e2dea66a-c1b1-4b79-a022-08165fed765c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "19ed7d04-ca42-4749-8cb8-41456eb97a28-attachment.txt", "type": "text/plain"}], "start": 1761730130336, "stop": 1761730130384}, {"name": "轮询中（已等待17.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f711e7e7-33e5-45f4-b88b-ff2a90902479-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ff890a71-09fb-4ca3-8067-75273d11e68e-attachment.txt", "type": "text/plain"}], "start": 1761730130384, "stop": 1761730130386}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f5e33f12-2177-419f-9e12-b374d4c08357-attachment.txt", "type": "text/plain"}], "start": 1761730130386, "stop": 1761730130386}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "507e9339-3354-4a33-ac5a-8b704faad7ec-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ce216624-7093-4382-a212-121900aead0c-attachment.txt", "type": "text/plain"}], "start": 1761730132435, "stop": 1761730132484}], "attachments": [{"name": "时区处理", "source": "bf87391d-1ad0-4aaa-b396-ccac74ce5a4d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "28cfedf9-ccef-45de-b3ae-55407d05bf0e-attachment.txt", "type": "text/plain"}], "start": 1761730132434, "stop": 1761730132484}, {"name": "轮询中（已等待19.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "df9555cd-2511-446f-8687-9e987497a001-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b9a77ad0-3665-417e-a79e-8b046de1aeea-attachment.txt", "type": "text/plain"}], "start": 1761730132484, "stop": 1761730132485}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "19724876-5861-42df-96fd-24adfb2d5835-attachment.txt", "type": "text/plain"}], "start": 1761730132485, "stop": 1761730132486}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4eda9518-e86c-46ea-bab2-3d92b078512a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "032f6bb1-e241-4cd3-9de2-b00477694f35-attachment.txt", "type": "text/plain"}], "start": 1761730134559, "stop": 1761730134607}], "attachments": [{"name": "时区处理", "source": "0e2faa6e-bbe1-4024-bb46-94b283bf1ffd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "abf4f297-3b9c-4e39-b111-a1740e3c1b0e-attachment.txt", "type": "text/plain"}], "start": 1761730134558, "stop": 1761730134607}, {"name": "轮询中（已等待21.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d3ec188d-2429-411e-8ec5-7ffe86f4f7bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b9eefc52-ad34-43a7-8ba7-644f55944ffc-attachment.txt", "type": "text/plain"}], "start": 1761730134607, "stop": 1761730134609}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "add28f8e-1168-47dc-a348-3140ba9400b4-attachment.txt", "type": "text/plain"}], "start": 1761730134609, "stop": 1761730134610}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9f437982-be3b-4dfb-bbb2-faca3d858468-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e2661cd1-eeb8-4b7d-bcdc-fe4f025dedcd-attachment.txt", "type": "text/plain"}], "start": 1761730136664, "stop": 1761730136712}], "attachments": [{"name": "时区处理", "source": "aa0cd0b0-eb17-43b8-a16a-dacfb441d0fa-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b2d224c3-d425-4c53-b91d-e91502ba507a-attachment.txt", "type": "text/plain"}], "start": 1761730136663, "stop": 1761730136712}, {"name": "轮询中（已等待23.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b2f3617a-5a7e-4c96-98a8-3cbf69750de8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1e43f808-f00b-4ac2-9b53-d372f11cc63e-attachment.txt", "type": "text/plain"}], "start": 1761730136712, "stop": 1761730136714}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2ed4cf59-5f3d-4f1b-98cd-d2098a80fae0-attachment.txt", "type": "text/plain"}], "start": 1761730136714, "stop": 1761730136714}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a7b099e2-84ac-4050-95c6-2061d975cd38-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "91d3a135-22ba-47ce-a562-822570551081-attachment.txt", "type": "text/plain"}], "start": 1761730138761, "stop": 1761730138808}], "attachments": [{"name": "时区处理", "source": "fa4832d7-20ff-4726-9a48-50ba2298a39b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f5c02097-6d2d-4033-a8db-afd820e7e072-attachment.txt", "type": "text/plain"}], "start": 1761730138759, "stop": 1761730138808}, {"name": "轮询中（已等待25.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b8c1e0e2-6b2b-4b9b-a37f-a845e287b526-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d81b66b0-c16c-400d-99fe-f2606f85695f-attachment.txt", "type": "text/plain"}], "start": 1761730138808, "stop": 1761730138809}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1be74dd3-f875-46f6-9195-5703ed203f21-attachment.txt", "type": "text/plain"}], "start": 1761730138809, "stop": 1761730138810}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1203d6ba-d24a-4d2c-a93a-5ed67cd145c2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a93df38d-fa00-46c0-bee0-8a0c16a88b12-attachment.txt", "type": "text/plain"}], "start": 1761730140863, "stop": 1761730140912}], "attachments": [{"name": "时区处理", "source": "ea1398a3-5f22-4c1c-9484-648e7cc4acfc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "82dd1340-0479-418e-9766-69664101155d-attachment.txt", "type": "text/plain"}], "start": 1761730140860, "stop": 1761730140912}, {"name": "轮询中（已等待27.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cf451543-941f-4ff4-b3e6-429134909894-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "468550ea-6247-42f5-bda3-07a81c07c8fe-attachment.txt", "type": "text/plain"}], "start": 1761730140912, "stop": 1761730140913}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e2d41927-db7a-413e-b7ac-7112998b3fce-attachment.txt", "type": "text/plain"}], "start": 1761730140913, "stop": 1761730140913}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "86b4e9c1-d448-476e-a165-f652b2a59030-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d516e010-12a5-449d-a716-d74799af9885-attachment.txt", "type": "text/plain"}], "start": 1761730142964, "stop": 1761730143026}], "attachments": [{"name": "时区处理", "source": "74f4c5f5-5830-417f-bb7a-31ac4323aaad-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4b837c78-5551-4683-8ebc-ab8dea99bf1b-attachment.txt", "type": "text/plain"}], "start": 1761730142963, "stop": 1761730143026}, {"name": "轮询中（已等待29.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d8f5b67c-0249-424b-b49c-3989df9c3e92-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7568cba8-dbcd-4f11-a243-dd085e4190bb-attachment.txt", "type": "text/plain"}], "start": 1761730143026, "stop": 1761730143027}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7e815e03-5bf3-4e36-bdc8-45d864e1b279-attachment.txt", "type": "text/plain"}], "start": 1761730143027, "stop": 1761730143028}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "e016132d-4368-48e8-ae16-c903e34452ff-attachment.txt", "type": "text/plain"}], "start": 1761730145042, "stop": 1761730145042}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "939c4247-5ab1-4aaf-893f-e1246f544336-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fc20b45d-4fda-461e-b91b-db326b6f6ab7-attachment.txt", "type": "text/plain"}, {"name": "查询结果（共0条，显示前50条）", "source": "d597fc5f-4a25-4bc7-8ba8-660385e6d675-attachment.json", "type": "application/json"}], "start": 1761730145043, "stop": 1761730145090}], "attachments": [{"name": "时区处理", "source": "eac97bdc-cf10-40c4-8625-41cff1b1b862-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e2237a3f-c393-4a32-9e8b-0f19c28f2276-attachment.txt", "type": "text/plain"}], "start": 1761730145042, "stop": 1761730145090}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "963d86ec-5531-477c-902f-baabb4a1a32f-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "48e8f020-9c6d-4e27-88c1-915f1040f688-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b4aa2d7d-0da6-4fef-89ba-c8e6b4765203-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "a1eb8d8c-95f2-4d7b-9621-c8e59cdd3fdc-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "1985bd66-41b9-487e-a52f-943940c8c526-attachment.txt", "type": "text/plain"}], "start": 1761730145090, "stop": 1761730145091}], "start": 1761730113079, "stop": 1761730145091}], "start": 1761730113078, "stop": 1761730145091}], "attachments": [{"name": "log", "source": "bade5ebd-81eb-45e5-b575-66cb1784f998-attachment.txt", "type": "text/plain"}], "start": 1761730113078, "stop": 1761730145092, "uuid": "08635764-4c7c-4a07-a129-3285eb11043c", "historyId": "f2b438806c60758843b8fc3bed1f6d7e", "testCaseId": "f2b438806c60758843b8fc3bed1f6d7e", "fullName": "test_vps.test_lianxi2.TestVPStradingOrders1#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略账号交易下单-开仓的场景校验"}, {"name": "story", "value": "场景1：分配下单-手数0.1-1，总手数1"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi2"}, {"name": "subSuite", "value": "TestVPSMasOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "80704-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi2"}]}