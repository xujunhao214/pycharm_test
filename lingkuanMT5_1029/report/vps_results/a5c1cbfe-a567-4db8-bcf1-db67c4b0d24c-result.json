{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037143438, "stop": 1764037143488}], "attachments": [{"name": "时区处理", "source": "5971c682-e072-4ada-9d3a-0d7d35087fbb-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0d41c162-bd50-48af-9c48-b711efa19a7e-attachment.txt", "type": "text/plain"}], "start": 1764037143437, "stop": 1764037143488}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b1163a6f-fd5e-40aa-8e95-0c152e67d716-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d7f65487-0c9a-423e-8a72-ef14e4bd7e32-attachment.txt", "type": "text/plain"}], "start": 1764037143488, "stop": 1764037143489}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "7bb22ce9-2eb0-4bc0-906b-075e774ae68c-attachment.txt", "type": "text/plain"}], "start": 1764037143489, "stop": 1764037143489}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8f6f50a1-e082-4c32-b22a-53089912dbb5-attachment.txt", "type": "text/plain"}], "start": 1764037143489, "stop": 1764037143490}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037145554, "stop": 1764037145603}], "attachments": [{"name": "时区处理", "source": "363416b4-30b7-4b4f-bd5b-4e5c1364f621-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3343f282-2a6a-4685-8575-5996f9ac5cf2-attachment.txt", "type": "text/plain"}], "start": 1764037145553, "stop": 1764037145603}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6cce0f42-38a8-4aa0-9d19-4bbaec9cdb34-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2866e733-f1d0-4f04-b1b5-0006f21e230c-attachment.txt", "type": "text/plain"}], "start": 1764037145603, "stop": 1764037145603}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "66b9ce62-8ab4-497d-a064-94cfb7cb0feb-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0b82952a-c229-4f02-b406-cd50498be438-attachment.txt", "type": "text/plain"}], "start": 1764037145604, "stop": 1764037145604}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d6c60a75-7b7e-4c3f-970c-3aa72512045a-attachment.txt", "type": "text/plain"}], "start": 1764037145604, "stop": 1764037145605}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037147658, "stop": 1764037147707}], "attachments": [{"name": "时区处理", "source": "3e8937e7-45df-4d9c-bdd3-287464539cb9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f32733db-1dac-4924-ac73-66febe6dfaa0-attachment.txt", "type": "text/plain"}], "start": 1764037147657, "stop": 1764037147707}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "560d8ba9-dfab-4e4c-a133-c5dd06cfe948-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "03599ad2-7cbd-47b0-9cb8-c22cde59ef31-attachment.txt", "type": "text/plain"}], "start": 1764037147707, "stop": 1764037147708}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "da7f796e-ae0a-4810-9df4-df2ede976444-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6bab541c-e228-4a96-ba5c-f67425b4e751-attachment.txt", "type": "text/plain"}], "start": 1764037147708, "stop": 1764037147709}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "e0f2e4c8-ac8f-47cc-a9b9-fa2180b2bf42-attachment.txt", "type": "text/plain"}], "start": 1764037147709, "stop": 1764037147709}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037149777, "stop": 1764037149828}], "attachments": [{"name": "时区处理", "source": "6bf30ae9-3db6-41c0-93d0-561f2f7252f0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "591edce7-260f-4131-ab53-ef5e5f7cde28-attachment.txt", "type": "text/plain"}], "start": 1764037149777, "stop": 1764037149828}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1d2e1f74-53b8-4dd3-8b7b-42200db06db2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4f617d1f-ce98-477a-a733-0cfbb44466a7-attachment.txt", "type": "text/plain"}], "start": 1764037149828, "stop": 1764037149828}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "3c70b4f8-cb69-419e-bbb5-18652de21ca8-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "72353495-f549-47ba-a3ba-0cb3563831b8-attachment.txt", "type": "text/plain"}], "start": 1764037149828, "stop": 1764037149829}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f986ccfe-7eca-4496-9df8-be8bfcc8a28d-attachment.txt", "type": "text/plain"}], "start": 1764037149829, "stop": 1764037149829}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "4097863b-ae26-4e53-96b5-e6bbbc571fe7-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "d915764e-9198-40c6-a3d0-c05bed597a45-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ce2f9017-133a-4fcf-9702-bdbf8c03878b-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "d7cc897e-319e-490e-9136-4a37429e636f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "77523a57-ced1-4da2-8743-4378b0d98f04-attachment.txt", "type": "text/plain"}], "start": 1764037149829, "stop": 1764037149831}], "start": 1764037143388, "stop": 1764037149831}], "start": 1764037143388, "stop": 1764037149831}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "6f083967-fb0e-4789-b097-129ef521b68f-attachment.attach", "type": "text/plain"}], "start": 1764037149831, "stop": 1764037149831}], "start": 1764037149831, "stop": 1764037149831}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "e4e9e956-2abd-419f-95f7-d6cfeb72be82-attachment.attach", "type": "text/plain"}], "start": 1764037149831, "stop": 1764037149831}], "start": 1764037149831, "stop": 1764037149831}], "start": 1764037149831, "stop": 1764037149831}], "attachments": [{"name": "log", "source": "3ad15273-934a-464b-85c1-ecc4d16df37a-attachment.txt", "type": "text/plain"}], "start": 1764037143388, "stop": 1764037149832, "uuid": "c397b8ca-15fc-4f25-88bb-48e83ea8df60", "historyId": "f3776e6377ccffe70f6d430afab79a1d", "testCaseId": "f3776e6377ccffe70f6d430afab79a1d", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend9#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景9：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}