{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160817056, "stop": 1762160817108}], "attachments": [{"name": "查询条件", "source": "c5659246-5ff1-40d7-8dcb-9383f330c73e-attachment.txt", "type": "text/plain"}], "start": 1762160817056, "stop": 1762160817108}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4b6557b4-36ce-4945-a16d-b6caac3a0ebc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eb3836a8-745f-44fe-87c6-76b1e4692c22-attachment.txt", "type": "text/plain"}], "start": 1762160817108, "stop": 1762160817110}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "bfeb7596-7565-4519-b0c6-362823d593e0-attachment.txt", "type": "text/plain"}], "start": 1762160817110, "stop": 1762160817110}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c6f8c903-7ae2-4e6d-a7c1-d76fd64ff132-attachment.txt", "type": "text/plain"}], "start": 1762160817110, "stop": 1762160817111}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160819165, "stop": 1762160819219}], "attachments": [{"name": "查询条件", "source": "ffe9ce88-fdb8-4ae7-b7bf-84857f1879a4-attachment.txt", "type": "text/plain"}], "start": 1762160819165, "stop": 1762160819219}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3d5d2f64-d355-443a-a402-098f214142dc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ef3e860e-235b-407a-b209-05c89daa0382-attachment.txt", "type": "text/plain"}], "start": 1762160819219, "stop": 1762160819220}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "8defc997-db44-466c-aff5-fbfb81ce4c65-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "5ccc845f-b835-4b1c-b162-22ae38490be5-attachment.txt", "type": "text/plain"}], "start": 1762160819220, "stop": 1762160819221}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "88d6c915-9593-4c5b-a56c-190270c2c2ca-attachment.txt", "type": "text/plain"}], "start": 1762160819221, "stop": 1762160819221}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160821286, "stop": 1762160821343}], "attachments": [{"name": "查询条件", "source": "ad46cd50-fde7-48be-a041-0a6033a574ab-attachment.txt", "type": "text/plain"}], "start": 1762160821286, "stop": 1762160821343}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "251c6c41-c2df-4edf-82ae-624ca994ea03-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "53b2bb9a-a4f2-47bc-8625-2c7e3295c4d9-attachment.txt", "type": "text/plain"}], "start": 1762160821343, "stop": 1762160821344}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "0c6c8e28-8dd4-4883-b047-7ddd47a5b7dd-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c6adc00c-bb5d-46ab-8d05-af7bda6ccfc1-attachment.txt", "type": "text/plain"}], "start": 1762160821344, "stop": 1762160821344}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "ea2f7b44-2248-42e8-812c-4c7736478fa8-attachment.txt", "type": "text/plain"}], "start": 1762160821345, "stop": 1762160821345}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "81c1a660-59aa-4f1b-bef2-16d3bca1eef5-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "65263cec-ed29-4dbc-be7c-7e13a2940b37-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bf6b2a5a-1313-4118-bc2a-cadf1ad5146b-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "ae1917c2-5f2f-4d57-8938-93227db8e5f0-attachment.txt", "type": "text/plain"}], "start": 1762160821345, "stop": 1762160821347}], "start": 1762160817007, "stop": 1762160821347}], "start": 1762160817006, "stop": 1762160821347}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1762160821347, "stop": 1762160821347}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "93f935cd-65ec-4bfe-8ca0-9db6cb4b3a4d-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "2090d8b6-ef5f-4669-863b-ddf768e9c095-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "6d27554d-7cd8-4b7d-a316-948da3032509-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "11ba763c-e31a-4d53-a078-74d0f9ff66f2-attachment.json", "type": "application/json"}], "start": 1762160821348, "stop": 1762160821349}], "start": 1762160821348, "stop": 1762160821349}], "attachments": [{"name": "log", "source": "83ce0fae-1cb4-4d12-9b2b-c67b10b6a437-attachment.txt", "type": "text/plain"}], "start": 1762160817006, "stop": 1762160821349, "uuid": "22b45ae6-f15c-4c26-a2cf-d32ea0d2782d", "historyId": "17a27df411a4b4a6099a42e3ece5099e", "testCaseId": "17a27df411a4b4a6099a42e3ece5099e", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_redis", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56296-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}