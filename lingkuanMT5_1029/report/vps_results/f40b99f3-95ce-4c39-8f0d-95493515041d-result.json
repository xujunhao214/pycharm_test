{"name": "数据库校验-交易下单-跟单指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuanMT5_1029.test_vps.test_lianxi2.TestVPSMasOrdersend.TestVPStradingOrders1 object at 0x00000240F8F3E580>\nclass_random_str = '4e420041'\nvar_manager = <lingkuanMT5_1029.commons.variable_manager.VariableManager object at 0x00000240F8F4E3D0>\ndb_transaction = <pymysql.connections.Connection object at 0x00000240F900BC10>\n\n    @allure.title(\"数据库校验-交易下单-跟单指令及订单详情数据检查\")\n    def test_dbquery_addsalve_orderSend(self, class_random_str, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            MT5vps_user_accounts_1 = var_manager.get_variable(\"MT5vps_user_accounts_1\")\n            sql = f\"\"\"\n                   SELECT\n                       fod.size,\n                       fod.send_no,\n                       fod.magical,\n                       fod.open_price,\n                       fod.comment,\n                       fod.symbol,\n                       fod.order_no,\n                       foi.true_total_lots,\n                       foi.order_no,\n                       foi.operation_type,\n                       foi.create_time,\n                       foi.status,\n                       foi.total_lots,\n                       foi.total_orders\n                   FROM\n                       follow_order_detail fod\n                   INNER JOIN\n                       follow_order_instruct foi\n                   ON\n                       foi.order_no = fod.send_no COLLATE utf8mb4_0900_ai_ci\n                   WHERE foi.operation_type = %s\n                       AND fod.account = %s\n                       AND fod.comment = %s\n                       \"\"\"\n            params = (\n                '0',\n                MT5vps_user_accounts_1,\n                class_random_str\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.open_time\"\n            )\n\ntest_vps\\test_lianxi2.py:199: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1029.test_vps.test_lianxi2.TestVPSMasOrdersend.TestVPStradingOrders1 object at 0x00000240F8F3E580>\ndb_transaction = <pymysql.connections.Connection object at 0x00000240F900BC10>\nsql = '\\n                       SELECT \\n                           fod.size,\\n                           fod.send_no,\\n    ...                    AND fod.account = %s\\n                           AND fod.comment = %s\\n                           '\nparams = ('0', '66938913', '4e420041'), time_field = 'fod.open_time'\ntime_range = 3, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1119: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\test_vps\\test_lianxi2.py\", line 199, in test_dbquery_addsalve_orderSend\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1029\\commons\\api_base.py\", line 1119, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "03526b21-a0ed-4e36-a77e-d0f0d31e8708-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c8fe486c-86b4-4526-bc5e-67b6ae8284b8-attachment.txt", "type": "text/plain"}], "start": 1761730047611, "stop": 1761730047659}], "attachments": [{"name": "时区处理", "source": "0374e43b-9c0a-4c8d-8298-c0054ac396c9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5be6ebd7-a389-4dd0-8c2b-b3e5b4270275-attachment.txt", "type": "text/plain"}], "start": 1761730047609, "stop": 1761730047659}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "85c4b91a-2a85-47eb-872d-0cb6920ce1f6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "92935d9b-10ef-4a45-97db-b52d50b7e094-attachment.txt", "type": "text/plain"}], "start": 1761730047659, "stop": 1761730047660}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fa921eab-5572-4f50-8872-e0b823246e3b-attachment.txt", "type": "text/plain"}], "start": 1761730047660, "stop": 1761730047660}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0aa462d4-aa2e-4864-9ab3-ad555ac90f12-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d460f891-415d-4c7d-b2ab-4484cc394a8e-attachment.txt", "type": "text/plain"}], "start": 1761730049709, "stop": 1761730049771}], "attachments": [{"name": "时区处理", "source": "e4cccee0-08f3-4edf-baac-432071c1c953-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2073bf92-648f-4d2f-b2e7-1e22e07aca49-attachment.txt", "type": "text/plain"}], "start": 1761730049708, "stop": 1761730049771}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1b19195d-7b22-404a-86eb-4a328bdb6540-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3cbc6abe-9372-4882-adaa-b7c928bfe13e-attachment.txt", "type": "text/plain"}], "start": 1761730049771, "stop": 1761730049772}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ba9463b6-831c-4a6c-b158-5defa2f98c64-attachment.txt", "type": "text/plain"}], "start": 1761730049772, "stop": 1761730049772}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1770c1fe-d979-4ec7-adfa-b5ae28a83051-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ab43fd10-72b1-4e17-afc6-b69885549d74-attachment.txt", "type": "text/plain"}], "start": 1761730051827, "stop": 1761730051875}], "attachments": [{"name": "时区处理", "source": "583fc58d-6975-436f-8cd0-03c4bc925875-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b414c6cd-1928-4a44-8c2e-0c170b4d2815-attachment.txt", "type": "text/plain"}], "start": 1761730051826, "stop": 1761730051875}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dda94c30-ac7e-4d1b-8b1b-cde7a73da971-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6adc9b0e-2341-4b05-8dd6-81c5c34dedb5-attachment.txt", "type": "text/plain"}], "start": 1761730051875, "stop": 1761730051876}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "765dcbae-357f-46fb-9f9b-eb664f19004f-attachment.txt", "type": "text/plain"}], "start": 1761730051876, "stop": 1761730051876}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "40f4d4c8-00eb-43bf-b2b3-0a7708ff6853-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6245d2a4-1139-4432-8db4-80b968c5d563-attachment.txt", "type": "text/plain"}], "start": 1761730053925, "stop": 1761730053975}], "attachments": [{"name": "时区处理", "source": "2926b5b9-0484-439b-bfb4-a82ee4c8b75f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c59d052c-98cd-4137-bf55-52832adfeac3-attachment.txt", "type": "text/plain"}], "start": 1761730053924, "stop": 1761730053975}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "838280b1-593d-44a9-be12-97aa2c764c3e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "de3bdf44-fe1a-45b2-9526-b6809415ab67-attachment.txt", "type": "text/plain"}], "start": 1761730053975, "stop": 1761730053976}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "242d992d-d418-4543-a784-65274086e330-attachment.txt", "type": "text/plain"}], "start": 1761730053976, "stop": 1761730053976}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "63373acd-042b-40fc-a030-62405185d669-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ee097b53-f7c3-4139-aedf-5cb6159cf416-attachment.txt", "type": "text/plain"}], "start": 1761730056024, "stop": 1761730056074}], "attachments": [{"name": "时区处理", "source": "ee68abf1-ece1-4310-8268-3c6cb87fbca7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1899c31c-77d2-4d9c-8a04-4daff5a8e08f-attachment.txt", "type": "text/plain"}], "start": 1761730056023, "stop": 1761730056074}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f6c0f42d-3a5f-482e-82b7-a495fa923f1d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2439d830-b83e-4e01-a24e-667fbae076a8-attachment.txt", "type": "text/plain"}], "start": 1761730056074, "stop": 1761730056075}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f87ceb6f-e453-49bd-a6c7-b97291ca3907-attachment.txt", "type": "text/plain"}], "start": 1761730056075, "stop": 1761730056076}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ccff5dd7-774b-47f7-a728-0ac6cedf5895-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "48239373-5c26-445d-962f-38131c6de663-attachment.txt", "type": "text/plain"}], "start": 1761730058129, "stop": 1761730058178}], "attachments": [{"name": "时区处理", "source": "3fe4e47a-7650-4a58-9317-5e1da8baa147-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "526022b7-595f-4c16-873d-e4f774809357-attachment.txt", "type": "text/plain"}], "start": 1761730058129, "stop": 1761730058178}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "227fd935-8532-41fe-bcb3-0103a09282bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "884e2b11-2a88-4a33-ab42-d2fac23bc3ea-attachment.txt", "type": "text/plain"}], "start": 1761730058178, "stop": 1761730058178}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "40636863-1512-4902-929a-81c70452bfb0-attachment.txt", "type": "text/plain"}], "start": 1761730058178, "stop": 1761730058179}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "757a7ad6-ca45-4ef0-9f45-517d0f44a85d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b9bc8ce0-fff1-4b71-b91e-b7924cf24922-attachment.txt", "type": "text/plain"}], "start": 1761730060232, "stop": 1761730060281}], "attachments": [{"name": "时区处理", "source": "e148694e-110a-4215-b72d-c826a0863948-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2e8457c8-2945-4ee3-b576-f5342ba4472a-attachment.txt", "type": "text/plain"}], "start": 1761730060231, "stop": 1761730060281}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "82a2b2c8-55e4-4572-99ae-690d0e7bfe1f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "52feb269-241b-4244-ab01-4cc3ea96607c-attachment.txt", "type": "text/plain"}], "start": 1761730060281, "stop": 1761730060282}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e1d4bdc1-e576-4546-a026-ea3d702cb462-attachment.txt", "type": "text/plain"}], "start": 1761730060282, "stop": 1761730060282}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c2f09149-99c3-4cf2-8886-d43b1b85f898-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "01131492-6bba-4a3a-a568-705db17ef414-attachment.txt", "type": "text/plain"}], "start": 1761730062334, "stop": 1761730062381}], "attachments": [{"name": "时区处理", "source": "d7096bca-e3a5-4c8c-8970-ea1b8cb8b1cd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e3b81f30-4997-4380-85aa-fdc32f1eb807-attachment.txt", "type": "text/plain"}], "start": 1761730062332, "stop": 1761730062381}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bce7b1b2-6769-44eb-8519-494fb5677ef6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0561409c-c51d-494a-b72c-f608f92e8c8d-attachment.txt", "type": "text/plain"}], "start": 1761730062381, "stop": 1761730062382}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "25421ca1-e405-42b6-8d01-8b0292c68ad4-attachment.txt", "type": "text/plain"}], "start": 1761730062382, "stop": 1761730062382}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "05706d3c-6760-40bb-b0d6-b1191e75c3c0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8e9ff9d3-5e9a-4091-b76a-2a06caf35355-attachment.txt", "type": "text/plain"}], "start": 1761730064440, "stop": 1761730064487}], "attachments": [{"name": "时区处理", "source": "1d060e03-46b0-4dab-871f-428ec5309bc5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c97408a2-cbc0-4439-b1aa-04f47e301a18-attachment.txt", "type": "text/plain"}], "start": 1761730064439, "stop": 1761730064487}, {"name": "轮询中（已等待16.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "82f01ca0-ece0-42d2-b38e-b8d1c0a12b32-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "269f3f2d-918d-4f1e-af28-82fc3333af72-attachment.txt", "type": "text/plain"}], "start": 1761730064487, "stop": 1761730064488}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f04fb65c-5763-4329-912a-1d72655079cc-attachment.txt", "type": "text/plain"}], "start": 1761730064488, "stop": 1761730064489}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "01ff297b-503a-46cd-8435-8a41c0e6ab03-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "806504fc-05a9-41fa-8a3c-a3a8073f6efd-attachment.txt", "type": "text/plain"}], "start": 1761730066537, "stop": 1761730066587}], "attachments": [{"name": "时区处理", "source": "d1136667-a9fe-4c35-a65c-c183c6c643c3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "424b7d7e-5f1b-4cb7-ab64-2af866e395b5-attachment.txt", "type": "text/plain"}], "start": 1761730066536, "stop": 1761730066587}, {"name": "轮询中（已等待19.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f1e60d2f-2c34-4a8a-bc16-468687ddddad-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "48116abc-57e2-40fc-8cc4-9b45ffdeb187-attachment.txt", "type": "text/plain"}], "start": 1761730066587, "stop": 1761730066588}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "05ddcfc3-1b32-47ec-bcd1-40acffceb7da-attachment.txt", "type": "text/plain"}], "start": 1761730066588, "stop": 1761730066588}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2a141c32-5412-47d5-a31a-9a4adceb76ef-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fa6305ce-4c33-4441-9f0b-31aa28cadec6-attachment.txt", "type": "text/plain"}], "start": 1761730068636, "stop": 1761730068684}], "attachments": [{"name": "时区处理", "source": "0ccdb71e-d651-4b09-a9c5-d2dcf3831a8a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "15082d61-071c-4043-9350-6e769e401a6a-attachment.txt", "type": "text/plain"}], "start": 1761730068635, "stop": 1761730068684}, {"name": "轮询中（已等待21.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a830a6d1-74c4-49df-a72c-506f1d18bc37-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1476d136-8807-4093-bacb-4b3d38117b65-attachment.txt", "type": "text/plain"}], "start": 1761730068684, "stop": 1761730068684}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "40eae7e0-f438-4a54-8e9c-5365fa310f90-attachment.txt", "type": "text/plain"}], "start": 1761730068684, "stop": 1761730068685}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "92a02b9e-2afd-4dd9-b34b-55673fa0fb4d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2d5bb280-dee4-425c-9b8a-2bd36cde7b94-attachment.txt", "type": "text/plain"}], "start": 1761730070736, "stop": 1761730070786}], "attachments": [{"name": "时区处理", "source": "87081df4-25fa-4f47-940a-6ba5dad0b18b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5afff30c-cb62-4949-bcfd-d0172e32e1b9-attachment.txt", "type": "text/plain"}], "start": 1761730070735, "stop": 1761730070786}, {"name": "轮询中（已等待23.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "221a37ed-f9a6-4044-aac7-bf934bdf2c58-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7dc0acd0-6ec3-4d03-88f6-a89b3c3369a6-attachment.txt", "type": "text/plain"}], "start": 1761730070786, "stop": 1761730070787}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f984b534-0078-42e2-ac83-dec9e0555150-attachment.txt", "type": "text/plain"}], "start": 1761730070787, "stop": 1761730070787}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "06d0e6ff-eea4-4c89-9526-6b1f54aa0731-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bc99a308-0b5f-4a56-b618-33ab18bb70eb-attachment.txt", "type": "text/plain"}], "start": 1761730072859, "stop": 1761730072908}], "attachments": [{"name": "时区处理", "source": "f9248732-ed22-40cd-983e-0ef74773a126-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8cd267f3-14f0-46b7-b437-ee66b5780696-attachment.txt", "type": "text/plain"}], "start": 1761730072858, "stop": 1761730072908}, {"name": "轮询中（已等待25.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "034f1a59-41d3-459b-a2f8-2ee360c1f964-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6944ab9e-7c9d-4324-a23d-bd8a2d12b995-attachment.txt", "type": "text/plain"}], "start": 1761730072908, "stop": 1761730072909}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a80c965b-9a2e-4d06-8682-8ece819ecbc5-attachment.txt", "type": "text/plain"}], "start": 1761730072909, "stop": 1761730072909}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9846aae7-0b88-4cf9-a5fe-3bdfa77adc3d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b6d8bc74-15b5-4f4d-996f-9fa3f0dda059-attachment.txt", "type": "text/plain"}], "start": 1761730074966, "stop": 1761730075018}], "attachments": [{"name": "时区处理", "source": "7cd400b9-ac8f-47f1-a9c1-37ddbd9ca385-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7d75ebbf-751d-43e8-9785-4611731996b5-attachment.txt", "type": "text/plain"}], "start": 1761730074965, "stop": 1761730075018}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3eee90b0-0e5a-4282-be54-3f8a8596cf66-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f1f3f65a-eade-4e5d-8cc9-93ca1c479a8d-attachment.txt", "type": "text/plain"}], "start": 1761730075018, "stop": 1761730075019}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8842e50e-3130-4aa8-9443-cc09a0fea52d-attachment.txt", "type": "text/plain"}], "start": 1761730075019, "stop": 1761730075019}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "55cbee33-dc41-4e35-b4a7-8dfbcf780e27-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5883d79e-50d2-4851-b7a0-4156e38eb302-attachment.txt", "type": "text/plain"}], "start": 1761730077072, "stop": 1761730077121}], "attachments": [{"name": "时区处理", "source": "1fff90fd-74dc-423d-8712-b9364bddf6e4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8823ed1d-1bed-4292-baf7-193c19549a38-attachment.txt", "type": "text/plain"}], "start": 1761730077071, "stop": 1761730077121}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d3aa0747-5160-48a9-8aa4-7b588c03953d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7d3f2fd8-4fc9-44a9-ad70-63fcb9aabf5c-attachment.txt", "type": "text/plain"}], "start": 1761730077121, "stop": 1761730077122}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3056bd2d-9ef9-4466-8696-7474335fbac5-attachment.txt", "type": "text/plain"}], "start": 1761730077122, "stop": 1761730077123}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "175b5a9c-3f83-4d16-a9ce-3ea37cfb2468-attachment.txt", "type": "text/plain"}], "start": 1761730079125, "stop": 1761730079125}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2995cf5d-a0c6-40cb-8a99-6b375f189e0e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d0e70335-c0fe-475b-bf8b-6f5074513bd1-attachment.txt", "type": "text/plain"}, {"name": "查询结果（共0条，显示前50条）", "source": "6afca74b-45f1-491e-8284-38d8abc7f413-attachment.json", "type": "application/json"}], "start": 1761730079126, "stop": 1761730079174}], "attachments": [{"name": "时区处理", "source": "87922dcc-86c4-48d8-9420-54fa802116bd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f54d29ee-f466-4e29-bbc9-58d1bbe15ccd-attachment.txt", "type": "text/plain"}], "start": 1761730079125, "stop": 1761730079174}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "b15a06e0-5aea-401c-9fb1-90cbd8ec39c5-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "3cfbc13b-38e7-41ca-8bda-636d62a3c745-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "61eae9d4-375b-467d-8d2c-51b9fd8f314f-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "fb2c29fe-ec07-4eca-b35e-a4242348a36f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "a90b9bf9-2fa6-4c6b-8755-cba82c089ea5-attachment.txt", "type": "text/plain"}], "start": 1761730079174, "stop": 1761730079175}], "start": 1761730047564, "stop": 1761730079175}], "start": 1761730047563, "stop": 1761730079177}], "attachments": [{"name": "log", "source": "ec7beb78-e215-4b9c-9da7-d6bc35ae97f6-attachment.txt", "type": "text/plain"}], "start": 1761730047563, "stop": 1761730079177, "uuid": "6f065180-979b-4d6a-b0ab-2ef4b672ad87", "historyId": "bd2d66b823f9270e11237507e0561c3d", "testCaseId": "bd2d66b823f9270e11237507e0561c3d", "fullName": "test_vps.test_lianxi2.TestVPStradingOrders1#test_dbquery_addsalve_orderSend", "labels": [{"name": "feature", "value": "VPS策略账号交易下单-开仓的场景校验"}, {"name": "story", "value": "场景1：分配下单-手数0.1-1，总手数1"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi2"}, {"name": "subSuite", "value": "TestVPSMasOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "80704-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi2"}]}