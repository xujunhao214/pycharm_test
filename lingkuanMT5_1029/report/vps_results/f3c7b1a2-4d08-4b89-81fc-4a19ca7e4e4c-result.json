{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.01\n      3. 校验账号的数据是否正确-下单手数是0.01*0.25*0.5=0.00125，最低下单手数是0.01\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037169412, "stop": 1764037169463}], "attachments": [{"name": "时区处理", "source": "072e1871-2b12-4c7e-9821-21098627f22c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "26b3675d-8376-43de-915d-b634d928a4a5-attachment.txt", "type": "text/plain"}], "start": 1764037169411, "stop": 1764037169463}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "07458686-cd0e-4fe4-a562-02b6c49dbed2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f62c67d5-60b0-46d8-b8de-d29613a5248d-attachment.txt", "type": "text/plain"}], "start": 1764037169463, "stop": 1764037169463}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "d90314ea-a60d-4291-9981-d9dbe6d5aafe-attachment.txt", "type": "text/plain"}], "start": 1764037169463, "stop": 1764037169464}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "691e9583-066a-428b-bd96-27bf1e0045b7-attachment.txt", "type": "text/plain"}], "start": 1764037169464, "stop": 1764037169464}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037171526, "stop": 1764037171578}], "attachments": [{"name": "时区处理", "source": "67d5fe5d-e19c-4793-ae74-a8adfd75f380-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a8ad05fd-4dcf-4bb0-b27f-f2d9ed20e92c-attachment.txt", "type": "text/plain"}], "start": 1764037171526, "stop": 1764037171578}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fe2b97af-8e12-4a08-ae19-d13cbd281586-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b94ace4e-e262-4139-b03a-7ddf789cf473-attachment.txt", "type": "text/plain"}], "start": 1764037171578, "stop": 1764037171578}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d24907da-55c7-4660-819f-d8c9a483a8d9-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0170f5f0-a99c-49a8-bd5d-5b818cefb8ea-attachment.txt", "type": "text/plain"}], "start": 1764037171578, "stop": 1764037171579}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bf1a4d21-4377-4d22-8fe0-df42ff56a513-attachment.txt", "type": "text/plain"}], "start": 1764037171579, "stop": 1764037171579}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037173636, "stop": 1764037173688}], "attachments": [{"name": "时区处理", "source": "ca22109d-8490-4a0f-93ac-6c6716a94a8d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e2108911-aaac-4fe1-afa8-13bb7600353a-attachment.txt", "type": "text/plain"}], "start": 1764037173635, "stop": 1764037173688}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "eb8787df-9af7-4fde-8468-e5e05d96e27d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c647fbdb-0a92-417a-ac80-0176ff35316c-attachment.txt", "type": "text/plain"}], "start": 1764037173688, "stop": 1764037173689}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f320ed31-df43-4d38-ae41-754381da10c8-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "99279254-c348-40f1-b427-9f1bd3ef63b9-attachment.txt", "type": "text/plain"}], "start": 1764037173689, "stop": 1764037173690}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "f841490e-9706-44ea-9fa7-1cee739d139b-attachment.txt", "type": "text/plain"}], "start": 1764037173690, "stop": 1764037173690}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037175745, "stop": 1764037175805}], "attachments": [{"name": "时区处理", "source": "81aa952a-0921-427d-8664-e71e602ec988-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e56f8e38-4c65-4b5e-a581-492df95a7cb2-attachment.txt", "type": "text/plain"}], "start": 1764037175743, "stop": 1764037175805}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0de6278d-3598-4fe2-8947-819e7b80e404-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "444d5346-8ed5-4a99-8ec0-e874f03f683a-attachment.txt", "type": "text/plain"}], "start": 1764037175805, "stop": 1764037175806}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "51611133-3bb6-4ec4-a8ba-686b63279cc4-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "91f0b97c-6430-44c7-b1da-64d003c532e0-attachment.txt", "type": "text/plain"}], "start": 1764037175806, "stop": 1764037175806}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "c766a0c2-4985-49db-a346-7fa30a24c985-attachment.txt", "type": "text/plain"}], "start": 1764037175807, "stop": 1764037175807}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "7c642baf-b1d6-41ae-9644-536429286a56-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "7e4e1ddb-dd72-44a9-8acf-e09629497632-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "95cce42b-c114-4f13-957b-3bee945d02a0-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "3a5389d2-01a2-49f6-b378-976ca3a68a69-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "974cf4e6-1784-4644-87a1-5da5a0104449-attachment.txt", "type": "text/plain"}], "start": 1764037175807, "stop": 1764037175809}], "start": 1764037169362, "stop": 1764037175809}], "start": 1764037169362, "stop": 1764037175809}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "9f8c4211-7d63-4d81-a87c-91d78b3638ce-attachment.attach", "type": "text/plain"}], "start": 1764037175809, "stop": 1764037175809}], "start": 1764037175809, "stop": 1764037175809}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "14503821-870b-45fe-8759-3b7cf88289fc-attachment.attach", "type": "text/plain"}], "start": 1764037175809, "stop": 1764037175810}], "start": 1764037175809, "stop": 1764037175810}], "start": 1764037175809, "stop": 1764037175810}], "attachments": [{"name": "log", "source": "ef9df4a7-5b49-4b0d-9f93-856a56e9a5ba-attachment.txt", "type": "text/plain"}], "start": 1764037169362, "stop": 1764037175810, "uuid": "22b0bf78-3fd3-4345-8601-f4ec79e2574e", "historyId": "ddaea6d4d0b40b636d97751756b9c7a2", "testCaseId": "ddaea6d4d0b40b636d97751756b9c7a2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend10#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.01"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}