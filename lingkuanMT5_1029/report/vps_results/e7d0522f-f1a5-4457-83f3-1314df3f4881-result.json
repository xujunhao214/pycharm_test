{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415576336, "stop": 1762415576542}], "attachments": [{"name": "时区处理", "source": "5181fdc5-84ad-4bfd-bed1-88df94cd1e84-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "69354b86-a3bd-496e-b211-6d8857f30143-attachment.txt", "type": "text/plain"}], "start": 1762415576336, "stop": 1762415576542}, {"name": "轮询中（已等待0.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c943d4ab-bb8e-48e1-85d4-7fc2eb759d48-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c40bbdb2-5192-4785-84a8-0d4f051ef55b-attachment.txt", "type": "text/plain"}], "start": 1762415576542, "stop": 1762415576543}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "35de0e78-74e5-41e4-9113-a06f7fef831c-attachment.txt", "type": "text/plain"}], "start": 1762415576543, "stop": 1762415576543}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c995a574-859e-4b84-9773-b51c9ba0d802-attachment.txt", "type": "text/plain"}], "start": 1762415576543, "stop": 1762415576544}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415578603, "stop": 1762415578807}], "attachments": [{"name": "时区处理", "source": "1709d746-a5fd-4a40-bdfe-02be82386927-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4709fbf2-4428-494a-805d-2bc72da84171-attachment.txt", "type": "text/plain"}], "start": 1762415578602, "stop": 1762415578807}, {"name": "轮询中（已等待2.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3516c385-8976-4f82-947d-05d3ed72594a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1c8b3192-d053-4331-8173-95bdb989efac-attachment.txt", "type": "text/plain"}], "start": 1762415578807, "stop": 1762415578808}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e5ab80e7-4d15-4b0b-82f1-5d175fe81347-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "1903997e-09d8-42fd-8cd1-823c7aed2dfa-attachment.txt", "type": "text/plain"}], "start": 1762415578808, "stop": 1762415578810}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cc0a6a20-49a4-4550-ae0b-545fde1289e4-attachment.txt", "type": "text/plain"}], "start": 1762415578810, "stop": 1762415578810}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415580869, "stop": 1762415580919}], "attachments": [{"name": "时区处理", "source": "9c94099a-d760-4f1c-b73a-124f81cca442-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "eebb460f-c366-4ed1-ba25-75670916c4a0-attachment.txt", "type": "text/plain"}], "start": 1762415580868, "stop": 1762415580919}, {"name": "轮询中（已等待4.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "26049e45-1e9c-4121-9712-b4be3455ad58-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d2825bcd-083c-4e56-a652-c28d4fa66559-attachment.txt", "type": "text/plain"}], "start": 1762415580919, "stop": 1762415580920}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d2e16402-d405-434e-b6af-b4e53482bb7b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8e01c8aa-dae2-4f56-b406-46f54280a787-attachment.txt", "type": "text/plain"}], "start": 1762415580920, "stop": 1762415580921}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "9f3c6b54-340d-4e53-bad0-2fe3b1a0388b-attachment.txt", "type": "text/plain"}], "start": 1762415580921, "stop": 1762415580922}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415582983, "stop": 1762415583032}], "attachments": [{"name": "时区处理", "source": "887d24a8-c433-4c0a-b7e3-6ac8383ce3ac-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a07bd458-0964-479b-967e-dc813c852b28-attachment.txt", "type": "text/plain"}], "start": 1762415582981, "stop": 1762415583032}, {"name": "轮询中（已等待6.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fd65dd16-4ef7-4649-b398-20fd67e4faf1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8da09638-ea6a-4308-b31b-ba9ef1eaaee4-attachment.txt", "type": "text/plain"}], "start": 1762415583032, "stop": 1762415583034}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "053c5521-7240-451f-8b04-abc72d06b93d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "3c490972-d47e-484e-b328-a54e21137aea-attachment.txt", "type": "text/plain"}], "start": 1762415583034, "stop": 1762415583035}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "c4baad62-15b0-419c-8e26-f7fa08ad32f9-attachment.txt", "type": "text/plain"}], "start": 1762415583035, "stop": 1762415583035}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "8532d3b3-b5ac-4c03-a7e2-951b49259dd5-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "7c929f3e-7fa3-428d-98a7-692e626adfc6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fedfb9f2-ac21-4a79-b9b6-c045304f3c24-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "cd17bfd2-a378-49a3-9309-862afc3c20c5-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "7262a056-5f9a-42f3-a691-22f7ffa110a3-attachment.txt", "type": "text/plain"}], "start": 1762415583036, "stop": 1762415583041}], "start": 1762415576282, "stop": 1762415583041}], "start": 1762415576281, "stop": 1762415583041}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "9b14614f-57f8-44ff-8d91-4536c1c3eedf-attachment.attach", "type": "text/plain"}], "start": 1762415583041, "stop": 1762415583041}], "start": 1762415583041, "stop": 1762415583042}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "3fd59699-b404-486c-b6e0-af685f0ff560-attachment.attach", "type": "text/plain"}], "start": 1762415583042, "stop": 1762415583042}], "start": 1762415583042, "stop": 1762415583042}], "start": 1762415583041, "stop": 1762415583042}], "attachments": [{"name": "log", "source": "9baa6d25-19f5-4460-b415-287b9844a17b-attachment.txt", "type": "text/plain"}], "start": 1762415576281, "stop": 1762415583043, "uuid": "6266d514-b0a8-4d08-97ab-72e89bfc13b4", "historyId": "0a78685f7291a4036be796935d74306c", "testCaseId": "0a78685f7291a4036be796935d74306c", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend11#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "34244-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}