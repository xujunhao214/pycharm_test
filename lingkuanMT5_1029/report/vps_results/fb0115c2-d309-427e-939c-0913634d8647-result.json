{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160806640, "stop": 1762160806691}], "attachments": [{"name": "时区处理", "source": "6ef867e1-a685-47a2-947d-788ded803d09-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "97cbc41f-198c-4025-bac7-f13b89d761d0-attachment.txt", "type": "text/plain"}], "start": 1762160806639, "stop": 1762160806691}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "26c4d742-0274-45de-95ff-66f3f5403905-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ff74632d-0413-4e86-a224-b80a0d33b36a-attachment.txt", "type": "text/plain"}], "start": 1762160806691, "stop": 1762160806692}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "9ce50485-fc5c-4b2d-9851-383fb0861009-attachment.txt", "type": "text/plain"}], "start": 1762160806692, "stop": 1762160806693}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f4a7ef8c-1dbe-4376-8ece-ab949603494e-attachment.txt", "type": "text/plain"}], "start": 1762160806693, "stop": 1762160806693}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160808755, "stop": 1762160808812}], "attachments": [{"name": "时区处理", "source": "bfa36ac9-321b-43a5-8d9a-97d3a63d1181-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d15fb556-fc51-4e96-a50b-f6c91ce41246-attachment.txt", "type": "text/plain"}], "start": 1762160808754, "stop": 1762160808812}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4d5031cc-dff3-4155-9d68-4fba321592b9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5a66beb2-9faf-4919-a8c8-beeb75e3b0d9-attachment.txt", "type": "text/plain"}], "start": 1762160808812, "stop": 1762160808813}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e72cb2bd-b4d7-40da-8d41-702159f5aa9a-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "abb60ecd-fb7f-4c2b-82d3-4e4d14b21234-attachment.txt", "type": "text/plain"}], "start": 1762160808813, "stop": 1762160808814}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "01de63d6-845a-45f6-8346-af68d90bcf0e-attachment.txt", "type": "text/plain"}], "start": 1762160808814, "stop": 1762160808814}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160810874, "stop": 1762160810926}], "attachments": [{"name": "时区处理", "source": "9bc311ff-ec65-4c46-9555-79d3f3c4f358-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7a274e9a-b6b2-4dfb-a5a8-9a9be61de1a2-attachment.txt", "type": "text/plain"}], "start": 1762160810873, "stop": 1762160810926}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fe249615-8555-449e-b00c-89ce27fb126b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eb92923f-bd31-408d-b32e-7adcb30fd58d-attachment.txt", "type": "text/plain"}], "start": 1762160810926, "stop": 1762160810927}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "a318b9a7-1381-4d5e-bccc-efa8a30f7ccd-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "466ebfec-a74c-4f48-8817-5356bc22c6ef-attachment.txt", "type": "text/plain"}], "start": 1762160810927, "stop": 1762160810928}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "cdeae972-27db-435d-b6b5-237b78344d5a-attachment.txt", "type": "text/plain"}], "start": 1762160810928, "stop": 1762160810928}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "2146424b-98a0-489c-8227-44beb82936b1-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "6c6281ce-0370-4499-ba4e-4295be8767b2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "95b76917-3d2f-4627-94d9-c30a5468aab7-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "b4f4d818-0ce3-449b-a631-196adab243cf-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "108f693b-1675-4d18-b874-9483705b6223-attachment.txt", "type": "text/plain"}], "start": 1762160810928, "stop": 1762160810930}], "start": 1762160806592, "stop": 1762160810930}], "start": 1762160806592, "stop": 1762160810930}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "62e9432a-d015-468e-a28f-d147a9b69697-attachment.attach", "type": "text/plain"}], "start": 1762160810930, "stop": 1762160810930}], "start": 1762160810930, "stop": 1762160810930}, {"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "225fa376-dfb9-4918-b8d2-bf8cd611066a-attachment.attach", "type": "text/plain"}], "start": 1762160810930, "stop": 1762160810931}], "start": 1762160810930, "stop": 1762160810931}, {"name": "验证手数范围-开始手数", "status": "passed", "steps": [{"name": "校验: 开始手数应符合预期", "status": "passed", "attachments": [{"name": "开始手数详情", "source": "fc3b7df0-e21f-41f8-948f-f5d2806e4daa-attachment.attach", "type": "text/plain"}], "start": 1762160810931, "stop": 1762160810931}], "start": 1762160810931, "stop": 1762160810931}, {"name": "验证手数范围-结束手数", "status": "passed", "steps": [{"name": "校验: 结束手数应符合预期", "status": "passed", "attachments": [{"name": "结束手数详情", "source": "eec7863f-e1cb-4329-8e71-7257452852f2-attachment.attach", "type": "text/plain"}], "start": 1762160810931, "stop": 1762160810931}], "start": 1762160810931, "stop": 1762160810931}, {"name": "验证指令总手数", "status": "passed", "steps": [{"name": "校验: 指令总手数应符合预期", "status": "passed", "attachments": [{"name": "指令总手数详情", "source": "acb1fdd6-aa7b-43d5-9a2f-fcf1528b21a3-attachment.attach", "type": "text/plain"}], "start": 1762160810931, "stop": 1762160810932}], "start": 1762160810931, "stop": 1762160810932}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "1d13292c-ba9f-4b50-b8b4-0bdceb457407-attachment.attach", "type": "text/plain"}], "start": 1762160810932, "stop": 1762160810932}], "start": 1762160810932, "stop": 1762160810932}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "817b806f-5c44-4bcb-a3c6-d1953dae08ee-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "450470fe-964b-4688-9b32-af68007ddd87-attachment.attach", "type": "text/plain"}], "start": 1762160810932, "stop": 1762160810933}], "start": 1762160810932, "stop": 1762160810933}], "start": 1762160810930, "stop": 1762160810933}], "attachments": [{"name": "log", "source": "3b311ca2-9621-4860-943c-da7d251264b9-attachment.txt", "type": "text/plain"}], "start": 1762160806591, "stop": 1762160810933, "uuid": "6323f8d0-337c-49e2-913f-24536e736591", "historyId": "af23d2907cbb672b05c4900943cbf0ec", "testCaseId": "af23d2907cbb672b05c4900943cbf0ec", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56296-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}