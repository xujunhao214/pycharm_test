{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.01\n      3. 校验账号的数据是否正确-下单手数是0.01*0.25*0.5=0.00125，最低下单手数是0.01\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时45秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415626984, "stop": 1762415627036}], "attachments": [{"name": "时区处理", "source": "9daf3d63-2760-4663-a8db-0adad7e98e02-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "df87c139-4a23-4307-8dba-e5a312f48fd3-attachment.txt", "type": "text/plain"}], "start": 1762415626982, "stop": 1762415627036}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a23e762b-cc9b-44ce-a535-a56ff883867a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9c684c84-c54f-4e55-9740-c8cbc09c80da-attachment.txt", "type": "text/plain"}], "start": 1762415627036, "stop": 1762415627038}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "5c5c2ceb-b325-469c-9de3-766551e407cf-attachment.txt", "type": "text/plain"}], "start": 1762415627038, "stop": 1762415627038}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c5e8cde4-3c1a-41f5-8aad-6f567eea8447-attachment.txt", "type": "text/plain"}], "start": 1762415627038, "stop": 1762415627039}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415629087, "stop": 1762415629292}], "attachments": [{"name": "时区处理", "source": "047b19a0-f974-4bf2-9eec-ec9ec40fdb32-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "de8c16d5-844d-4cdd-829f-6e5ad7a60f61-attachment.txt", "type": "text/plain"}], "start": 1762415629086, "stop": 1762415629292}, {"name": "轮询中（已等待2.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c7597adb-7c30-4c59-9b88-2502fe0f32d3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7a727e60-d7e7-437a-b2be-e8e6de9dc305-attachment.txt", "type": "text/plain"}], "start": 1762415629292, "stop": 1762415629293}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "38f8c234-4ee4-40ea-8912-9a885f95dbbb-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "68f58d3c-a15f-4075-a4f6-8e4e70362990-attachment.txt", "type": "text/plain"}], "start": 1762415629293, "stop": 1762415629295}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "e3df402c-788f-4326-aac0-c4dee32093c7-attachment.txt", "type": "text/plain"}], "start": 1762415629295, "stop": 1762415629296}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762415631348, "stop": 1762415631557}], "attachments": [{"name": "时区处理", "source": "0daaa952-ee88-4b7d-8f08-5102b1875ca2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "81ec5717-e90f-43f0-b8a3-e4e90ecdcb9f-attachment.txt", "type": "text/plain"}], "start": 1762415631347, "stop": 1762415631557}, {"name": "轮询中（已等待4.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f325fc5c-2fd4-4272-b8e6-9d841e0e8c81-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9ffad843-4cfe-4d38-8448-fa101276a0de-attachment.txt", "type": "text/plain"}], "start": 1762415631557, "stop": 1762415631559}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c2142e36-6634-4389-ac8b-a08dc60f265c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "34fa68da-2679-4ab1-a868-74aebb66ff38-attachment.txt", "type": "text/plain"}], "start": 1762415631559, "stop": 1762415631560}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "99b462fd-ba2f-4a8c-8752-1c80bafb31e7-attachment.txt", "type": "text/plain"}], "start": 1762415631560, "stop": 1762415631561}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "2e5e3f71-dbbd-4032-8341-cc0be2257039-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "daff5767-96bc-4f70-b555-5afba5dd2db6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5d4460e4-0975-4da2-8041-4357d65ec66b-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "6ca307e3-8cf1-47a7-8af0-f29fecf3c8bd-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "cd337c2f-f256-4f27-9e54-45b9392316a4-attachment.txt", "type": "text/plain"}], "start": 1762415631561, "stop": 1762415631565}], "start": 1762415626935, "stop": 1762415631565}], "start": 1762415626935, "stop": 1762415631565}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "d4aceab8-d4f5-4866-94cb-1bfaf1a3a4f9-attachment.attach", "type": "text/plain"}], "start": 1762415631565, "stop": 1762415631565}], "start": 1762415631565, "stop": 1762415631565}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "72eebb00-7b2c-4fa9-bf3d-67b7a8ac3c4e-attachment.attach", "type": "text/plain"}], "start": 1762415631565, "stop": 1762415631566}], "start": 1762415631565, "stop": 1762415631566}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "6c8b76fa-8e89-4b0e-b5af-99ecd1695218-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "edef2a2a-fe5d-4b60-9fe9-bac771eb03f4-attachment.attach", "type": "text/plain"}], "start": 1762415631566, "stop": 1762415631567}], "start": 1762415631566, "stop": 1762415631568}], "start": 1762415631565, "stop": 1762415631568}], "attachments": [{"name": "log", "source": "a091a9ba-8fb2-4002-b09d-be782e1288a4-attachment.txt", "type": "text/plain"}], "start": 1762415626935, "stop": 1762415631568, "uuid": "98d50dd3-4b3a-4aa1-aebc-4420b46da349", "historyId": "94df439009475e0edc6cd158385dcf21", "testCaseId": "94df439009475e0edc6cd158385dcf21", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend12#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景12：复制下单-手数范围0.01-1，总手数0.01"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "34244-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}