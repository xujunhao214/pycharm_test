{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037103943, "stop": 1764037103994}], "attachments": [{"name": "时区处理", "source": "f66cd274-82b2-469e-b7d1-c13066393368-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1e53789d-f72e-4fdc-b8e2-8bdc7882f0f0-attachment.txt", "type": "text/plain"}], "start": 1764037103942, "stop": 1764037103994}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "60da96f1-176a-42ee-8653-44796ea40758-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "20dcc685-2fab-4f00-8b1d-76b79374e4de-attachment.txt", "type": "text/plain"}], "start": 1764037103994, "stop": 1764037103995}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "95573d2d-067b-4202-8edb-2664e19eefd8-attachment.txt", "type": "text/plain"}], "start": 1764037103995, "stop": 1764037103995}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7f076a92-81db-4193-849c-502d4eed77f4-attachment.txt", "type": "text/plain"}], "start": 1764037103995, "stop": 1764037103995}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037106057, "stop": 1764037106107}], "attachments": [{"name": "时区处理", "source": "de79ddde-4750-4d4e-b4b9-b29b3e9f886e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "aa454c0f-3790-436b-81f1-c9350e9971ab-attachment.txt", "type": "text/plain"}], "start": 1764037106056, "stop": 1764037106107}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ce1160e9-81f0-48fb-bdf3-1b383fd15a15-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0bebdc67-0b70-470a-b537-21b046c3c30d-attachment.txt", "type": "text/plain"}], "start": 1764037106107, "stop": 1764037106108}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "4607a79e-6f18-46e7-b628-f8cc47a1a927-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "118a61ff-c35c-4301-94aa-5db05b906e7f-attachment.txt", "type": "text/plain"}], "start": 1764037106108, "stop": 1764037106108}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "36e5f87e-ef51-4d82-a7db-a0a9de8ef537-attachment.txt", "type": "text/plain"}], "start": 1764037106108, "stop": 1764037106109}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037108182, "stop": 1764037108232}], "attachments": [{"name": "时区处理", "source": "2edb3242-1a59-4816-b4ec-9606aeb4dc62-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4ac27acd-5ead-49dd-b673-4c3148fd8632-attachment.txt", "type": "text/plain"}], "start": 1764037108181, "stop": 1764037108232}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b3dd70fa-495c-4936-9471-5b0dfdf8731e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e4aed238-d4da-4c4e-81fd-5ed43f42b2bf-attachment.txt", "type": "text/plain"}], "start": 1764037108232, "stop": 1764037108234}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "cbaaab03-8b07-4320-8d1d-e5047de10cde-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "99479af6-9324-468e-8ffc-73e7490f38c3-attachment.txt", "type": "text/plain"}], "start": 1764037108234, "stop": 1764037108234}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "04bdc94f-f817-4f29-ad00-bd305b127ecf-attachment.txt", "type": "text/plain"}], "start": 1764037108235, "stop": 1764037108235}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "f32eb1b1-08d5-42bd-b0df-f446d4d97379-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "dd3ce47b-dbca-4e12-a39f-2b4cdc858d7a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d35dd7b1-d3a3-4784-90d3-0210b6286031-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "36a8bc28-3b4a-43b0-afc0-773f016cac9a-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "c0cd31bf-f1f3-4479-b8c0-4120189a54ff-attachment.txt", "type": "text/plain"}], "start": 1764037108235, "stop": 1764037108237}], "start": 1764037103885, "stop": 1764037108237}], "start": 1764037103885, "stop": 1764037108237}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "b112384f-7c03-40dd-817a-eaf5d87ad83d-attachment.attach", "type": "text/plain"}], "start": 1764037108237, "stop": 1764037108237}], "start": 1764037108237, "stop": 1764037108237}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "1a03375b-a7ae-4e27-99b1-ead21ff0a06e-attachment.attach", "type": "text/plain"}], "start": 1764037108237, "stop": 1764037108238}], "start": 1764037108237, "stop": 1764037108238}], "start": 1764037108237, "stop": 1764037108238}], "attachments": [{"name": "log", "source": "dfd3f365-805d-46d8-bb7b-42c7d7e9d480-attachment.txt", "type": "text/plain"}], "start": 1764037103885, "stop": 1764037108238, "uuid": "6470bfc8-9943-41cc-adda-31720e0420bf", "historyId": "cbeb1f39e623f9b4a1d60f1494640537", "testCaseId": "cbeb1f39e623f9b4a1d60f1494640537", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend8#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景8：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}