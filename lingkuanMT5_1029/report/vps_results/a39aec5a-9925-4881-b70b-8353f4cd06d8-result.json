{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037024670, "stop": 1764037024720}], "attachments": [{"name": "时区处理", "source": "e5182f75-6a0f-41da-9f32-6c0763530d83-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d72c8d70-28f9-4596-886f-7911da40319b-attachment.txt", "type": "text/plain"}], "start": 1764037024669, "stop": 1764037024720}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3ac73a4c-6e5c-4d1d-9b82-40d37225969c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "19c8a0fc-6d55-4b44-860a-09cad2cc9ccf-attachment.txt", "type": "text/plain"}], "start": 1764037024720, "stop": 1764037024721}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "3e2cf1de-20ec-48ac-bb2e-1399b8b14ca3-attachment.txt", "type": "text/plain"}], "start": 1764037024721, "stop": 1764037024721}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "022b9da9-c90c-4e13-a1d6-ceb3d49c9662-attachment.txt", "type": "text/plain"}], "start": 1764037024722, "stop": 1764037024722}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037026784, "stop": 1764037026835}], "attachments": [{"name": "时区处理", "source": "39b073aa-eab8-4691-9e9e-b8f3c5b1548d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8069de34-e39b-40d0-b4ba-ea92b2e1458a-attachment.txt", "type": "text/plain"}], "start": 1764037026782, "stop": 1764037026835}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fe818014-0705-486f-9297-c9c7284ea183-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "558e2bdc-81c8-417d-bd28-3e95a75fc092-attachment.txt", "type": "text/plain"}], "start": 1764037026835, "stop": 1764037026836}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "94aa42e7-f021-4662-aa8d-480b1499f95b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "9df469c9-8b96-4399-b6eb-12c0a785caa0-attachment.txt", "type": "text/plain"}], "start": 1764037026836, "stop": 1764037026837}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "e0bee18f-9406-41ad-a124-cce4c9b6e739-attachment.txt", "type": "text/plain"}], "start": 1764037026837, "stop": 1764037026837}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037028896, "stop": 1764037028946}], "attachments": [{"name": "时区处理", "source": "fda99132-d7b7-4561-80d0-294fed949610-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "53b6c638-64f4-453c-86ad-24cd94786019-attachment.txt", "type": "text/plain"}], "start": 1764037028895, "stop": 1764037028946}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ac6812b7-8588-43c4-9abf-19167a2ede67-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3efa3dec-e34e-411e-9aa9-c08184c1cede-attachment.txt", "type": "text/plain"}], "start": 1764037028946, "stop": 1764037028947}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "461c87e9-ad9b-4302-ab79-ceac2eec8fb0-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d0ba3fcd-84a2-4204-a81b-1ec5cd296bc7-attachment.txt", "type": "text/plain"}], "start": 1764037028947, "stop": 1764037028947}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "a6c60a54-2940-4610-b376-e4f5ded0afd7-attachment.txt", "type": "text/plain"}], "start": 1764037028947, "stop": 1764037028948}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共9条，显示前50条）", "source": "b5da62c4-db9d-461f-8bbd-0a5ff7e113a4-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "633f7dd1-b33f-4953-9ffd-4a9613ca6120-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "366b2fb5-b058-4ec5-9984-874a7db3378a-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "dc00d72a-d4ba-4423-ad96-dca2935fcbe1-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "7ff56ee5-193f-4bc0-89b3-0bed466c6a3c-attachment.txt", "type": "text/plain"}], "start": 1764037028948, "stop": 1764037028950}], "start": 1764037024613, "stop": 1764037028950}], "start": 1764037024612, "stop": 1764037028950}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "62398f65-7d5a-4ab0-94ea-08dceef2fd8a-attachment.attach", "type": "text/plain"}], "start": 1764037028950, "stop": 1764037028950}], "start": 1764037028950, "stop": 1764037028950}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "e0cc8aba-f411-4f67-b310-7a5e49053ca9-attachment.attach", "type": "text/plain"}], "start": 1764037028950, "stop": 1764037028951}], "start": 1764037028950, "stop": 1764037028951}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "4f653a5d-df4b-48d6-8b79-28775dd23bef-attachment.attach", "type": "text/plain"}], "start": 1764037028951, "stop": 1764037028951}], "start": 1764037028951, "stop": 1764037028951}], "start": 1764037028950, "stop": 1764037028951}], "attachments": [{"name": "log", "source": "154a0383-2821-4833-abef-43d42f1e4e48-attachment.txt", "type": "text/plain"}], "start": 1764037024612, "stop": 1764037028951, "uuid": "bdee1ff3-d052-4bd8-81ab-39e3fd2c8f75", "historyId": "e0c4aa0b74c0975b887022aabaaed9e2", "testCaseId": "e0c4aa0b74c0975b887022aabaaed9e2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}