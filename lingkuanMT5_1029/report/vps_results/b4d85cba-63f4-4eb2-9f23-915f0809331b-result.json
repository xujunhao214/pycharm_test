{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037162034, "stop": 1764037162093}], "attachments": [{"name": "时区处理", "source": "e5b5aaf1-8427-4d98-bd88-dcc4541971d6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "83e58628-33af-46f5-af15-2795324e7987-attachment.txt", "type": "text/plain"}], "start": 1764037162034, "stop": 1764037162093}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e81081b7-0dcf-43cd-ac94-e338829b2e41-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e88d025a-928e-434e-9fd0-03ce29a6c995-attachment.txt", "type": "text/plain"}], "start": 1764037162093, "stop": 1764037162095}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "9ca9c017-89b0-4de6-bf2c-8e7568b0d184-attachment.txt", "type": "text/plain"}], "start": 1764037162095, "stop": 1764037162095}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ed8dee92-a263-4e38-af9c-a3d69bb2a876-attachment.txt", "type": "text/plain"}], "start": 1764037162095, "stop": 1764037162095}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037164149, "stop": 1764037164207}], "attachments": [{"name": "时区处理", "source": "0a69bcb3-3c2f-47f6-abbc-c2f40b51375f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fdd839a5-6bed-40cb-902b-6accb1ac8210-attachment.txt", "type": "text/plain"}], "start": 1764037164149, "stop": 1764037164208}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f2f984cc-9c18-486c-bb0f-6df8da117ba7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cff4a39b-d3f0-43e7-b090-1bf7f8ad1e2e-attachment.txt", "type": "text/plain"}], "start": 1764037164208, "stop": 1764037164208}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "32848b1a-6350-4ad5-a764-4ab375e8fa94-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "bf23b264-baea-4cad-b5b1-50063856a946-attachment.txt", "type": "text/plain"}], "start": 1764037164208, "stop": 1764037164209}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "40a85c1b-5f60-493c-9df2-383cbaf7184b-attachment.txt", "type": "text/plain"}], "start": 1764037164209, "stop": 1764037164209}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037166266, "stop": 1764037166329}], "attachments": [{"name": "时区处理", "source": "51584031-92b4-4861-89d9-d7e7f80a35a6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8c8ef806-d617-4ed5-96ac-8753e51532b6-attachment.txt", "type": "text/plain"}], "start": 1764037166265, "stop": 1764037166329}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "424e4bc9-1502-4683-884b-cdaf08a5b4d2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e9091e4e-d82a-45bf-975b-bd3d7f07526a-attachment.txt", "type": "text/plain"}], "start": 1764037166329, "stop": 1764037166330}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "126fc00d-ab05-4975-a531-73b658387d4c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "3820a578-60d8-4ed4-a565-e8fe91ed693a-attachment.txt", "type": "text/plain"}], "start": 1764037166330, "stop": 1764037166330}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "389eff7b-4d2e-4e26-8b3f-86b66d7650ba-attachment.txt", "type": "text/plain"}], "start": 1764037166330, "stop": 1764037166331}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "6487353d-53b0-4505-b6a6-42f9bed7c67f-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "0378739d-f6a0-4933-811c-5014dcdeb55d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "87ad7da3-5dfd-43c0-92de-c9e1ef4b5d5a-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "1ff693e2-b985-426b-b601-fb05d19a5a91-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "a27ec5aa-660c-498e-8fa7-7e10b508f87d-attachment.txt", "type": "text/plain"}], "start": 1764037166331, "stop": 1764037166332}], "start": 1764037161987, "stop": 1764037166332}], "start": 1764037161987, "stop": 1764037166332}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "96d19be2-4b37-4c9a-b310-312e8976ae91-attachment.attach", "type": "text/plain"}], "start": 1764037166332, "stop": 1764037166332}], "start": 1764037166332, "stop": 1764037166332}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "cb8eeda5-28f0-4d5d-9361-1545a04b862b-attachment.attach", "type": "text/plain"}], "start": 1764037166332, "stop": 1764037166333}], "start": 1764037166332, "stop": 1764037166333}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "总手数列表", "source": "ca8db6db-26bc-4e73-82c8-14ee7da7940f-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "c5b601d8-2b2f-4c9b-872e-c4b61692d92b-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "045d3800-0a51-4dda-b248-3d7573e2595c-attachment.attach", "type": "text/plain"}], "start": 1764037166333, "stop": 1764037166334}], "start": 1764037166333, "stop": 1764037166334}], "start": 1764037166332, "stop": 1764037166334}], "attachments": [{"name": "log", "source": "f50ce5c5-1b0f-43cc-ad2d-1b7fb9f84bb7-attachment.txt", "type": "text/plain"}], "start": 1764037161987, "stop": 1764037166334, "uuid": "8b83a648-4288-4073-8e8f-a7aa80bbe2b9", "historyId": "9443083a7f0dab465aa339b2b80a7e98", "testCaseId": "9443083a7f0dab465aa339b2b80a7e98", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend9#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景9：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}