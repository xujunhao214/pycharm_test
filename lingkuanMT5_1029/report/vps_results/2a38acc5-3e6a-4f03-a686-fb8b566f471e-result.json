{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总订单3，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036768477, "stop": 1764036768536}], "attachments": [{"name": "时区处理", "source": "e9ddcc10-2cbd-4300-9577-979827708866-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bc2f9515-320b-4aec-a034-2beb2d203279-attachment.txt", "type": "text/plain"}], "start": 1764036768475, "stop": 1764036768536}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "820c8840-3958-4073-bd54-135ce9b1eb89-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4a9fa0c6-1a91-4e86-baa0-0502bf771ed2-attachment.txt", "type": "text/plain"}], "start": 1764036768536, "stop": 1764036768538}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "6247d6da-8ef0-4f57-bbbe-08c57aa4db14-attachment.txt", "type": "text/plain"}], "start": 1764036768538, "stop": 1764036768539}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "11155ee4-a97d-49da-8c12-b86b4aba0099-attachment.txt", "type": "text/plain"}], "start": 1764036768539, "stop": 1764036768539}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036770589, "stop": 1764036770648}], "attachments": [{"name": "时区处理", "source": "b41a3e4c-abce-49be-8ebd-f05ef5d462bc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "81af0ea5-2f69-41e0-85f0-cf3679103e50-attachment.txt", "type": "text/plain"}], "start": 1764036770587, "stop": 1764036770648}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5fd68a08-2d97-4c76-94e6-18551ff13497-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1b4fd388-374a-4f56-972d-4107d6da7956-attachment.txt", "type": "text/plain"}], "start": 1764036770649, "stop": 1764036770650}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "2dfca879-93d4-4f72-87f0-74cd67151326-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "9ef08e6b-4c57-4b7c-a536-05c555bb4f81-attachment.txt", "type": "text/plain"}], "start": 1764036770650, "stop": 1764036770652}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "bc947342-968f-4b3c-80a0-ec297518b781-attachment.txt", "type": "text/plain"}], "start": 1764036770652, "stop": 1764036770653}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036772708, "stop": 1764036772766}], "attachments": [{"name": "时区处理", "source": "ea75cd91-624f-4407-92e0-8438c252dfd7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3baca487-14e3-43ab-980a-32c340fd240b-attachment.txt", "type": "text/plain"}], "start": 1764036772706, "stop": 1764036772766}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "adfa81f0-ced1-43d3-a290-d54f6069b714-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "826254ad-35c0-4754-a689-37e82d77977d-attachment.txt", "type": "text/plain"}], "start": 1764036772766, "stop": 1764036772768}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d33b7a3e-0b82-4434-a0d8-1f433c1ba487-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4cb3500b-a5bb-4fb9-b1b2-bb4aef9ddd38-attachment.txt", "type": "text/plain"}], "start": 1764036772768, "stop": 1764036772769}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "0140f402-221a-4e6f-8406-31210f5e06de-attachment.txt", "type": "text/plain"}], "start": 1764036772769, "stop": 1764036772769}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "9077aefa-bef7-4b31-96f8-e08c37639aa4-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "f098eb19-b7d9-4029-b868-c8ceb26e5ac9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fb0f5062-4975-4cd9-9a0c-4ee5fc56f587-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "727eeb3e-c971-484d-bcdf-a572cbdb3a3f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "dce106f8-66d3-4a6c-a44d-fc523c9a753e-attachment.txt", "type": "text/plain"}], "start": 1764036772769, "stop": 1764036772773}], "start": 1764036768427, "stop": 1764036772773}], "start": 1764036768427, "stop": 1764036772773}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "558d112b-3bef-48ed-8233-cf68e8320f61-attachment.attach", "type": "text/plain"}], "start": 1764036772773, "stop": 1764036772773}], "start": 1764036772773, "stop": 1764036772773}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "7e0160dc-3e61-4650-9400-62b2ef250fee-attachment.attach", "type": "text/plain"}], "start": 1764036772773, "stop": 1764036772773}], "start": 1764036772773, "stop": 1764036772774}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "总手数列表", "source": "d3a342fe-ce88-4300-858a-d0c0ac41db97-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "17e9eb6f-5300-4020-8c29-3b7628c2999d-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "cc94839d-4d19-4049-9705-b2c6fe2cac96-attachment.attach", "type": "text/plain"}], "start": 1764036772774, "stop": 1764036772775}], "start": 1764036772774, "stop": 1764036772776}], "start": 1764036772773, "stop": 1764036772776}], "attachments": [{"name": "log", "source": "768c9240-a672-4d58-a91f-db514c9ec5f5-attachment.txt", "type": "text/plain"}], "start": 1764036768427, "stop": 1764036772776, "uuid": "1b946d43-1b7d-4504-bfb3-7d3a3ac40782", "historyId": "018cb73113bb0349399511f48891dcde", "testCaseId": "018cb73113bb0349399511f48891dcde", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend1#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景1：复制下单-手数0.1-1，总订单3，总手数1"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}