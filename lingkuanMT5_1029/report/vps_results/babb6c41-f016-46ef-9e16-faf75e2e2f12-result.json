{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037064139, "stop": 1764037064190}], "attachments": [{"name": "时区处理", "source": "0134a3a1-f15f-4983-82ed-14afacfcbb01-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "745d2494-d7bb-489b-a195-4ccb529acc4a-attachment.txt", "type": "text/plain"}], "start": 1764037064138, "stop": 1764037064190}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cf545ddb-bd5b-4c0d-b785-28bef7064995-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f22b86b6-a62e-4280-972e-24cb46abc115-attachment.txt", "type": "text/plain"}], "start": 1764037064190, "stop": 1764037064191}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "c678b126-207d-4367-83fb-d0745502007c-attachment.txt", "type": "text/plain"}], "start": 1764037064191, "stop": 1764037064191}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "62752ba1-e39b-4ca4-833f-5fd90a7b0bcb-attachment.txt", "type": "text/plain"}], "start": 1764037064191, "stop": 1764037064192}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037066244, "stop": 1764037066297}], "attachments": [{"name": "时区处理", "source": "7c926086-6c89-46f1-9025-7b0ebcd71405-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3410eeab-f9f8-445c-8bb1-17a0ff4c91e7-attachment.txt", "type": "text/plain"}], "start": 1764037066243, "stop": 1764037066297}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f8fadec6-e04a-43b5-a212-0d7f91e0daad-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6c0fb2da-d145-44ea-bef6-8639d9625a73-attachment.txt", "type": "text/plain"}], "start": 1764037066297, "stop": 1764037066298}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "b393ffce-f972-4088-a677-fd504003925b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d07f92df-d813-459f-82d4-73a5cd323545-attachment.txt", "type": "text/plain"}], "start": 1764037066298, "stop": 1764037066299}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2d6cffae-aaf8-41a0-aa96-f1ddf402669d-attachment.txt", "type": "text/plain"}], "start": 1764037066299, "stop": 1764037066299}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037068357, "stop": 1764037068407}], "attachments": [{"name": "时区处理", "source": "0eaf81f2-a9bd-4c51-927b-34e6b12a6e46-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "97abeb09-ee5b-4e4b-8ccf-b04fd81d1c74-attachment.txt", "type": "text/plain"}], "start": 1764037068356, "stop": 1764037068408}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4c5d3ae0-868f-44a8-ac0f-f168fac4f3db-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5ae32975-a6bf-468f-ba5d-9fc656195284-attachment.txt", "type": "text/plain"}], "start": 1764037068408, "stop": 1764037068408}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d9d5fafa-d192-4235-a3b8-0fba63f2a0b7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "33b0dea8-7653-4c55-a7a5-9f2bebd1d7f3-attachment.txt", "type": "text/plain"}], "start": 1764037068408, "stop": 1764037068409}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "22c4c0cb-63f3-4cc7-b012-832fceb6f5be-attachment.txt", "type": "text/plain"}], "start": 1764037068409, "stop": 1764037068410}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764037070462, "stop": 1764037070512}], "attachments": [{"name": "时区处理", "source": "f8126d92-9c3b-4ed7-84e6-a9413806bc06-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5b1aab3a-6a61-48f5-aa19-7f5cd77ea308-attachment.txt", "type": "text/plain"}], "start": 1764037070462, "stop": 1764037070512}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "419ab60d-dedc-449b-b89f-aa6fa6c148ab-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e9173ab8-61ab-43c1-b104-4c64b4c2098d-attachment.txt", "type": "text/plain"}], "start": 1764037070512, "stop": 1764037070513}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "17101030-99f8-4189-bfba-503cfff2568d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "bd8311f9-6080-4f20-ac4c-d43c1263ced8-attachment.txt", "type": "text/plain"}], "start": 1764037070513, "stop": 1764037070514}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "870edd36-c024-431f-ac7c-3851533684ea-attachment.txt", "type": "text/plain"}], "start": 1764037070514, "stop": 1764037070514}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "9612799d-46b5-401a-9db6-20f4eb808bd7-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "2271e436-1143-4e47-a696-11914d859a3f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "841b9808-9f8a-4e85-b88e-c8b8ec53f2cf-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "7a54c5ac-d188-49af-978a-f6f6d4cdcc9c-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "c7a36ff9-93d9-43cb-93a1-3fbf46ee2b7f-attachment.txt", "type": "text/plain"}], "start": 1764037070514, "stop": 1764037070516}], "start": 1764037064089, "stop": 1764037070516}], "start": 1764037064089, "stop": 1764037070516}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "0c7c9f2c-10dd-4779-84d2-74eea91aface-attachment.attach", "type": "text/plain"}], "start": 1764037070516, "stop": 1764037070516}], "start": 1764037070516, "stop": 1764037070516}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "15ea8bd3-bda6-4cf6-965e-ba660704f9e3-attachment.attach", "type": "text/plain"}], "start": 1764037070516, "stop": 1764037070517}], "start": 1764037070516, "stop": 1764037070517}], "start": 1764037070516, "stop": 1764037070517}], "attachments": [{"name": "log", "source": "e03f3ab4-d5c4-44a3-8692-36ee305880b1-attachment.txt", "type": "text/plain"}], "start": 1764037064089, "stop": 1764037070517, "uuid": "75562d38-f6e7-4a24-989c-749c9ccd5b6e", "historyId": "bf4f74e167791ee3998b63b10aed35b0", "testCaseId": "bf4f74e167791ee3998b63b10aed35b0", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend8#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景8：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}