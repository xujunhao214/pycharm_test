{"name": "数据库校验-策略开仓-跟单开仓指令-根据status状态发现有漏单", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有vps策略和vps跟单\n    - 操作步骤：\n      1. 修改vps跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改vps跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 查询数据库验证是否有跟单开仓指令", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 45秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160811429, "stop": 1762160811598}], "attachments": [{"name": "查询条件", "source": "4b29ebf7-f96d-4f99-b818-f5ef09b73c1b-attachment.txt", "type": "text/plain"}], "start": 1762160811429, "stop": 1762160811598}, {"name": "轮询中（已等待0.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c630dfae-eaeb-4e34-a808-50a78ecd6910-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9142f483-5055-4c5d-bd7f-34d650605919-attachment.txt", "type": "text/plain"}], "start": 1762160811598, "stop": 1762160811599}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "656a85e8-8998-4784-809e-589cd8c57daa-attachment.txt", "type": "text/plain"}], "start": 1762160811599, "stop": 1762160811600}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "60bbd470-4c2e-4742-8a6b-29a1fd84fdd5-attachment.txt", "type": "text/plain"}], "start": 1762160811600, "stop": 1762160811600}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160813658, "stop": 1762160813827}], "attachments": [{"name": "查询条件", "source": "59297755-5b56-4df3-ba10-9bb9e67e21f4-attachment.txt", "type": "text/plain"}], "start": 1762160813658, "stop": 1762160813827}, {"name": "轮询中（已等待2.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1555b252-d335-4898-b8ae-26252d117c06-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f62d1994-8d83-46be-90ea-aa6991d5dace-attachment.txt", "type": "text/plain"}], "start": 1762160813827, "stop": 1762160813828}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "4f2d50ed-f06b-4ccb-bada-1d049c1f7970-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "2deba467-6a7b-448f-b3fe-f51f6d148b8e-attachment.txt", "type": "text/plain"}], "start": 1762160813828, "stop": 1762160813830}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "07e2b419-09a4-4510-957f-117996e94f91-attachment.txt", "type": "text/plain"}], "start": 1762160813830, "stop": 1762160813831}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1762160815890, "stop": 1762160816063}], "attachments": [{"name": "查询条件", "source": "54638b41-8c69-4f4b-9b58-a3f5694c2774-attachment.txt", "type": "text/plain"}], "start": 1762160815889, "stop": 1762160816063}, {"name": "轮询中（已等待4.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6bb6d100-3b16-4545-ace9-b3e0c469ef05-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0c69fd36-993c-4c9d-a284-1bcfe64dbb0a-attachment.txt", "type": "text/plain"}], "start": 1762160816063, "stop": 1762160816063}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c785eee4-45c6-498a-9bb1-84d291d04c25-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0c0115d9-03d3-4110-86c9-ef1748985b92-attachment.txt", "type": "text/plain"}], "start": 1762160816063, "stop": 1762160816064}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "6176078d-7a76-42f4-b998-03c097d53b19-attachment.txt", "type": "text/plain"}], "start": 1762160816064, "stop": 1762160816064}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "e8341443-f21d-4b66-8c83-07c80250ac27-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "d34871d4-e21c-49d6-83cb-a46885477713-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a68f1bed-4404-45a4-94f4-1a6616bab343-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "0cd3562f-9b18-4f29-8980-07f106ebcde9-attachment.txt", "type": "text/plain"}], "start": 1762160816064, "stop": 1762160816065}], "start": 1762160811379, "stop": 1762160816065}], "start": 1762160811379, "stop": 1762160816065}, {"name": "2. 对订单状态进行校验", "status": "passed", "start": 1762160816065, "stop": 1762160816065}], "attachments": [{"name": "log", "source": "a88848f7-eeac-4e9d-b40f-cab33310e456-attachment.txt", "type": "text/plain"}], "start": 1762160811379, "stop": 1762160816065, "uuid": "41ef3c14-66a4-433d-91c6-72f221d51195", "historyId": "fd891c8dd023369403ddf4f0b0e3a35c", "testCaseId": "fd891c8dd023369403ddf4f0b0e3a35c", "fullName": "test_vps.test_vpsOrder_open_level.TestLeakageopen#test_dbquery_orderSend_addsalve", "labels": [{"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vpsOrder_open_level"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56296-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vpsOrder_open_level"}]}