{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036867156, "stop": 1764036867215}], "attachments": [{"name": "时区处理", "source": "508eb253-5926-4cf8-9704-5c62c6170339-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "81e2728d-3602-447b-9f40-f93efd6d42bd-attachment.txt", "type": "text/plain"}], "start": 1764036867156, "stop": 1764036867215}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "591d2203-505e-4caf-ac1c-a42f6995738f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fe5cadf7-4c65-40a4-93a8-1bbc46575d67-attachment.txt", "type": "text/plain"}], "start": 1764036867215, "stop": 1764036867216}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "d9dac032-8b59-4775-b1a8-2069e1e9f24d-attachment.txt", "type": "text/plain"}], "start": 1764036867216, "stop": 1764036867216}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "989d1ef4-bb62-4737-9644-94ee7b18f9dc-attachment.txt", "type": "text/plain"}], "start": 1764036867216, "stop": 1764036867216}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036869274, "stop": 1764036869333}], "attachments": [{"name": "时区处理", "source": "644b333b-b982-4525-b18c-696789ec8f6c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "de7b703b-aa80-4f82-a2c4-35495b1927f0-attachment.txt", "type": "text/plain"}], "start": 1764036869273, "stop": 1764036869333}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fbb50bc3-505f-44c1-8706-f5d722a4cdb6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "763460d9-bdd2-4165-979e-04c4811c08e8-attachment.txt", "type": "text/plain"}], "start": 1764036869333, "stop": 1764036869334}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "42ea7941-e05f-42ac-a84e-c2be403bb293-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "ca7bd13c-ddcf-4600-84e4-daea9720ff83-attachment.txt", "type": "text/plain"}], "start": 1764036869334, "stop": 1764036869335}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "b3dbcf16-3be9-4626-9970-c923fc2ae5e4-attachment.txt", "type": "text/plain"}], "start": 1764036869335, "stop": 1764036869335}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764036871383, "stop": 1764036871446}], "attachments": [{"name": "时区处理", "source": "8b47cc8a-239f-41fc-bcfd-72898d48ca96-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cea0a62d-c2d5-4619-b229-fd94c189499d-attachment.txt", "type": "text/plain"}], "start": 1764036871382, "stop": 1764036871446}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "611595bc-a74e-4151-9ae4-a27fc60a40ff-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cd72883a-93b4-443e-97f6-4e997fe33c08-attachment.txt", "type": "text/plain"}], "start": 1764036871446, "stop": 1764036871447}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5daa9f7c-f59e-4cd6-8395-d01faddd64b4-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "931e0e78-8f52-4fee-bddc-96c6ae202acc-attachment.txt", "type": "text/plain"}], "start": 1764036871447, "stop": 1764036871448}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "76d0e751-1187-4219-9161-067be1ae37a1-attachment.txt", "type": "text/plain"}], "start": 1764036871448, "stop": 1764036871448}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "b48b481c-cb0e-4dc4-bbd8-368f02343904-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "1b17e3c1-6d2a-4006-98ac-ddd3a9f565c9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "58f0ad46-1eeb-43b8-9d14-bf6156064dfd-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "34906c26-4eb4-4865-a8f3-98c989100fdf-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "584c60d7-9c7e-4d1f-b4b0-98cf53ad1f03-attachment.txt", "type": "text/plain"}], "start": 1764036871448, "stop": 1764036871449}], "start": 1764036867105, "stop": 1764036871449}], "start": 1764036867105, "stop": 1764036871449}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "bf074b90-c940-4fa4-99ff-f0718c474895-attachment.attach", "type": "text/plain"}], "start": 1764036871449, "stop": 1764036871450}], "start": 1764036871449, "stop": 1764036871450}, {"name": "验证开仓的订单数量", "status": "passed", "steps": [{"name": "校验: 开仓的订单数量应该不是5", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "1f81d983-1d9a-459b-ad27-73a0490fd56a-attachment.attach", "type": "text/plain"}], "start": 1764036871450, "stop": 1764036871450}], "start": 1764036871450, "stop": 1764036871450}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "总手数列表", "source": "88f89bd7-cd9c-4280-90e3-81260a282e95-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "f9ebd82f-663b-4ca7-9ea2-0902fad178b9-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "a3909926-6daa-4498-9698-4a69aaf4607d-attachment.attach", "type": "text/plain"}], "start": 1764036871450, "stop": 1764036871451}], "start": 1764036871450, "stop": 1764036871451}], "start": 1764036871449, "stop": 1764036871451}], "attachments": [{"name": "log", "source": "ed488682-78bf-4d5c-9d50-1b35bef0aeee-attachment.txt", "type": "text/plain"}], "start": 1764036867105, "stop": 1764036901463, "uuid": "7bf7a97e-4722-411b-ba10-a642717c746a", "historyId": "db2baa3388208c33ec9ab848595a6d9f", "testCaseId": "db2baa3388208c33ec9ab848595a6d9f", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend5#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "54280-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}