{"name": "平台管理-品种管理-删除品种", "status": "failed", "statusDetails": {"message": "AssertionError: 响应msg字段应为success\n实际值: 策略者或者跟单者绑定了该模板不能删除\n期望值: success", "trace": "self = <lingkuan_705.test_foundation.test_delete_scene.TestDeleteTrader object at 0x00000289FABE12B0>\napi_session = <lingkuan_705.commons.session.EnvironmentSession object at 0x00000289FAE576A0>\nvar_manager = <lingkuan_705.commons.variable_manager.VariableManager object at 0x00000289FACA4190>\nlogged_session = <lingkuan_705.commons.session.EnvironmentSession object at 0x00000289FAE576A0>\ndb_transaction = <pymysql.connections.Connection object at 0x00000289FABE18B0>\n\n    @allure.title(\"平台管理-品种管理-删除品种\")\n    def test_deleteTemplate(self, api_session, var_manager, logged_session, db_transaction):\n        \"\"\"测试删除用户接口\"\"\"\n        # 1. 发送删除品种请求\n        template_id2 = var_manager.get_variable(\"template_id2\")\n        response = self.send_delete_request(\n            api_session,\n            '/mascontrol/variety/deleteTemplate',\n            json_data=[template_id2]\n        )\n    \n        # 2. 验证响应状态码\n        self.assert_response_status(\n            response,\n            200,\n            \"删除品种失败\"\n        )\n    \n        # 3. 验证JSON返回内容\n>       self.assert_json_value(\n            response,\n            \"$.msg\",\n            \"success\",\n            \"响应msg字段应为success\"\n        )\n\ntest_foundation\\test_delete_scene.py:245: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_705.test_foundation.test_delete_scene.TestDeleteTrader object at 0x00000289FABE12B0>\nresponse = <Response [200]>, json_path = '$.msg', expected_value = 'success'\nerror_msg = '响应msg字段应为success'\n\n    def assert_json_value(self, response, json_path, expected_value, error_msg):\n        \"\"\"断言JSON路径对应的值\"\"\"\n        # 假设response对象有extract_jsonpath方法\n        actual_value = response.extract_jsonpath(json_path)\n>       assert actual_value == expected_value, (\n            f\"{error_msg}\\n\"\n            f\"实际值: {actual_value}\\n\"\n            f\"期望值: {expected_value}\"\n        )\nE       AssertionError: 响应msg字段应为success\nE       实际值: 策略者或者跟单者绑定了该模板不能删除\nE       期望值: success\n\ncommons\\api_base.py:116: AssertionError"}, "description": "测试删除用户接口", "steps": [{"name": "发送DELETE请求到 /mascontrol/variety/deleteTemplate", "status": "passed", "attachments": [{"name": "请求参数", "source": "d0a3f76c-51e1-48b0-b7ad-0b106273f2b0-attachment.json", "type": "application/json"}, {"name": "响应结果", "source": "f840ce03-5416-4f63-8cc7-fcae9226a9e1-attachment.txt", "type": "text/plain"}], "start": 1751769273719, "stop": 1751769278794}], "attachments": [{"name": "log", "source": "87b57d35-04eb-4cbf-8eff-9ffcf42d242e-attachment.txt", "type": "text/plain"}], "start": 1751769273718, "stop": 1751769278801, "uuid": "443ea116-4dcc-4e26-a0c8-52c6e2504208", "historyId": "530a7bfe45f9b1a4983f38708ca65aa4", "testCaseId": "530a7bfe45f9b1a4983f38708ca65aa4", "fullName": "test_foundation.test_delete_scene.TestDeleteTrader#test_deleteTemplate", "labels": [{"name": "feature", "value": "删除跟单账号和策略账号"}, {"name": "parentSuite", "value": "test_foundation"}, {"name": "suite", "value": "test_delete_scene"}, {"name": "subSuite", "value": "TestDeleteTrader"}, {"name": "host", "value": "xujunhao"}, {"name": "thread", "value": "22792-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_foundation.test_delete_scene"}]}