{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuanMT5_1112.test_cloudTrader.test_create.TestCreate_MT5cloudTrader object at 0x0000019013B27C70>\nclass_random_str = 'zdhli0586'\nvar_manager = <lingkuanMT5_1112.commons.variable_manager.VariableManager object at 0x0000019013AB1130>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x0000019013BB11F0>\n\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, class_random_str, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_MT5cloudTrader = []\n        MT5cloudTrader_user_count = var_manager.get_variable(\"MT5cloudTrader_user_count\")\n        for i in range(2, MT5cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            MT5cloudTrader_account_var_name = f\"MT5cloudTrader_user_accounts_{i}\"\n            MT5cloudTrader_account = var_manager.get_variable(MT5cloudTrader_account_var_name)\n            if not MT5cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{MT5cloudTrader_account_var_name}）\")\n            all_accounts_MT5cloudTrader.append(MT5cloudTrader_account)\n        print(f\"\\n将校验的后9个账号：{all_accounts_MT5cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_MT5cloudTrader = []\n        for idx, MT5cloudTrader_account in enumerate(all_accounts_MT5cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{MT5cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (MT5cloudTrader_account,)\n    \n                db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n    \n                )\n                print(f\"验证第{idx}个账号（{MT5cloudTrader_account}）的数据库记录\")\n    \n                if not db_data:\n                    pytest.fail(f\"账号 {MT5cloudTrader_account} 在主表中未找到记录\")\n    \n                # 保存账号ID并校验状态/净值/订阅表（代码与之前一致）\n                MT5cloudTrader_MT5vps_id = db_data[0][\"id\"]\n                all_ids_MT5cloudTrader.append(MT5cloudTrader_MT5vps_id)\n                var_manager.set_runtime_variable(f\"MT5cloudTrader_MT5vps_ids_{idx}\", MT5cloudTrader_MT5vps_id)\n                print(\n                    f\"账号 {MT5cloudTrader_account} 的ID为：{MT5cloudTrader_MT5vps_id}，已保存到变量 MT5cloudTrader_MT5vps_ids_{idx}\")\n    \n            with allure.step(\"校验账号状态和净值\"):\n                status = db_data[0][\"status\"]\n                assert status == 0, f\"账号 {MT5cloudTrader_account} 状态异常：预期status=0，实际={status}\"\n                logging.info(f\"账号 {MT5cloudTrader_account} 状态异常：预期status=0，实际={status}\")\n    \n                # euqit = db_data[0][\"euqit\"]\n                # assert euqit >= 0, f\"账号 {MT5cloudTrader_account} 净值异常：预期euqit>=0，实际={euqit}\"\n                # logging.info(f\"账号 {MT5cloudTrader_account} 净值异常：预期euqit>=0，实际={euqit}\")\n    \n                # 校验订阅表记录（代码与之前一致）\n                sql = f\"SELECT * FROM follow_trader_subscribe WHERE slave_account = %s\"\n                params = (MT5cloudTrader_account,)\n>               db_sub_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"slave_account ASC\"\n                )\n\ntest_cloudTrader\\test_create.py:300: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuanMT5_1112.test_cloudTrader.test_create.TestCreate_MT5cloudTrader object at 0x0000019013B27C70>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x0000019013BB11F0>\nsql = 'SELECT * FROM follow_trader_subscribe WHERE slave_account = %s'\nparams = ('66938831',), time_field = None, time_range = 3\norder_by = 'slave_account ASC', timeout = 30, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} \\n继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(\n                        f\"等待{timeout}秒后仍无查询结果\",\n                        \"超时详情\", allure.attachment_type.TEXT)\n                error_msg = f\"Failed: 等待记录出现超时（{timeout}秒）\"\n>               raise TimeoutError(error_msg)\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:652: TimeoutError"}, "steps": [{"name": "验证第1个账号（66938831）的数据库记录", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110733524, "stop": 1763110733570}], "attachments": [{"name": "查询条件", "source": "0bcda80e-06bb-49f9-a012-5557bbe93c05-attachment.txt", "type": "text/plain"}], "start": 1763110733523, "stop": 1763110733570}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2b765100-09dc-4a47-b51a-770263ddc61e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3f639fb7-b04f-48a3-a14b-fd47c292b415-attachment.txt", "type": "text/plain"}], "start": 1763110733570, "stop": 1763110733571}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "c709f1ac-44d2-45a2-919c-ad894030dfac-attachment.txt", "type": "text/plain"}], "start": 1763110733571, "stop": 1763110733572}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cca9a8b9-de53-4edd-a477-1be1af56a892-attachment.txt", "type": "text/plain"}], "start": 1763110733572, "stop": 1763110733573}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110735633, "stop": 1763110735686}], "attachments": [{"name": "查询条件", "source": "78f68540-dff9-472f-8b3c-2bd75e06c039-attachment.txt", "type": "text/plain"}], "start": 1763110735632, "stop": 1763110735686}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "de900878-4a3a-4bbd-a1d8-2a7feb504b2b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "825ddbe5-6d8f-4cc4-a951-4024f81664bc-attachment.txt", "type": "text/plain"}], "start": 1763110735686, "stop": 1763110735688}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "0edd4872-4815-4d1b-a3ba-a733f68a17f0-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4a4f26fc-451c-4d83-ae64-bb713e0f2d2f-attachment.txt", "type": "text/plain"}], "start": 1763110735688, "stop": 1763110735689}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "f95943d0-b43c-4e26-92ba-d38558927a6a-attachment.txt", "type": "text/plain"}], "start": 1763110735689, "stop": 1763110735690}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110737742, "stop": 1763110737790}], "attachments": [{"name": "查询条件", "source": "aaeb06c4-ff5d-40c4-8756-cde9165f67a2-attachment.txt", "type": "text/plain"}], "start": 1763110737742, "stop": 1763110737790}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c96d2ba1-8157-4c70-8a5c-3c4fc4caf3aa-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b50e14b5-6d7d-457c-9506-0e94f6c3b62f-attachment.txt", "type": "text/plain"}], "start": 1763110737790, "stop": 1763110737792}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "b8dd7786-dfd8-4b49-bf7c-e39df8b4274f-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "2aa7ae84-6dcf-44e4-aadb-3babd8ca25d7-attachment.txt", "type": "text/plain"}], "start": 1763110737792, "stop": 1763110737793}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "b30f797c-2e64-4223-9e6c-c0bf4dc8e7ba-attachment.txt", "type": "text/plain"}], "start": 1763110737793, "stop": 1763110737793}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "7d822673-701b-4139-b96e-dbbbdae41876-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "6ad3f60c-6813-44cc-806e-6a18a2f66b08-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a3a46c82-00ea-442c-a5eb-1b7f041a49b8-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "7c3cc239-e1c2-4d05-8302-c5b311db289d-attachment.txt", "type": "text/plain"}], "start": 1763110737793, "stop": 1763110737796}], "start": 1763110733478, "stop": 1763110737796}], "start": 1763110733477, "stop": 1763110737797}, {"name": "校验账号状态和净值", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1112\\test_cloudTrader\\test_create.py\", line 300, in test_dbimport_addSlave\n    db_sub_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuanMT5_1112\\commons\\api_base.py\", line 652, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuanMT5_1112\\commons\\api_base.py\", line 652, in query_database_with_time\n    raise TimeoutError(error_msg)\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110737850, "stop": 1763110738099}], "attachments": [{"name": "查询条件", "source": "2a71956f-ff8e-4716-8879-8139f714a720-attachment.txt", "type": "text/plain"}], "start": 1763110737849, "stop": 1763110738099}, {"name": "轮询中（已等待0.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0fe851ed-ccdf-4b1e-b9b6-d8a2f11a2e5f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "56e7bae8-835e-4057-a77a-1f86e697d887-attachment.txt", "type": "text/plain"}], "start": 1763110738099, "stop": 1763110738100}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "08f415fb-9b29-4284-8b77-46c1dec718ff-attachment.txt", "type": "text/plain"}], "start": 1763110738100, "stop": 1763110738100}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110740153, "stop": 1763110740246}], "attachments": [{"name": "查询条件", "source": "ddb6c692-d48d-48b3-a1bb-82a4f5c59932-attachment.txt", "type": "text/plain"}], "start": 1763110740152, "stop": 1763110740247}, {"name": "轮询中（已等待2.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "64facad4-573d-4a57-b32f-4c1e4cd3af8a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2c4366f1-7476-4f03-87eb-b8b9d85fc89f-attachment.txt", "type": "text/plain"}], "start": 1763110740247, "stop": 1763110740248}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0cbda993-cb86-4b95-84e5-0afa1214ea33-attachment.txt", "type": "text/plain"}], "start": 1763110740248, "stop": 1763110740249}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110742294, "stop": 1763110742339}], "attachments": [{"name": "查询条件", "source": "667e28d6-d8bc-48b8-9094-371e3325e407-attachment.txt", "type": "text/plain"}], "start": 1763110742293, "stop": 1763110742339}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cd5f5cd4-e63c-4085-8fe9-ae45ad94c586-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eb004807-c272-42d9-bd98-3d5e1fd61a80-attachment.txt", "type": "text/plain"}], "start": 1763110742339, "stop": 1763110742340}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "13a05b34-6097-452a-bbed-da6606591d0e-attachment.txt", "type": "text/plain"}], "start": 1763110742341, "stop": 1763110742341}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110744395, "stop": 1763110744611}], "attachments": [{"name": "查询条件", "source": "971a497a-bcaf-43a9-98f1-e40e115f3e17-attachment.txt", "type": "text/plain"}], "start": 1763110744395, "stop": 1763110744611}, {"name": "轮询中（已等待6.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fecdf281-7277-400f-9145-2b640e69e5eb-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "646061a8-db81-4aaf-9412-c9130d85db1d-attachment.txt", "type": "text/plain"}], "start": 1763110744611, "stop": 1763110744612}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "49500b3f-cef0-4b03-80f6-86e32e1f4a9f-attachment.txt", "type": "text/plain"}], "start": 1763110744612, "stop": 1763110744612}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110746660, "stop": 1763110746749}], "attachments": [{"name": "查询条件", "source": "9f8e0026-fcff-4130-a05f-d9879516ea46-attachment.txt", "type": "text/plain"}], "start": 1763110746659, "stop": 1763110746749}, {"name": "轮询中（已等待9.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ef9bbf4b-3516-4a01-b82b-f8afb6feaad6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "723104cc-44f4-4ea2-9ae3-b95696069308-attachment.txt", "type": "text/plain"}], "start": 1763110746749, "stop": 1763110746750}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "55fc6fd2-af6a-443e-93a2-a0611e437796-attachment.txt", "type": "text/plain"}], "start": 1763110746750, "stop": 1763110746751}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110748804, "stop": 1763110748851}], "attachments": [{"name": "查询条件", "source": "ff061ea7-4d9c-4a88-87e4-e27b9ee4bc36-attachment.txt", "type": "text/plain"}], "start": 1763110748802, "stop": 1763110748851}, {"name": "轮询中（已等待11.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "534598bc-6dd3-4249-97dd-a2734767c65a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "57c09aee-af0f-44a5-a30f-7826e627e864-attachment.txt", "type": "text/plain"}], "start": 1763110748851, "stop": 1763110748852}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "aea11786-50d7-4c21-888e-cdc9fc15966b-attachment.txt", "type": "text/plain"}], "start": 1763110748852, "stop": 1763110748852}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110750897, "stop": 1763110751412}], "attachments": [{"name": "查询条件", "source": "5a9c3ae8-326a-4499-9e26-baa059b2e83a-attachment.txt", "type": "text/plain"}], "start": 1763110750897, "stop": 1763110751412}, {"name": "轮询中（已等待13.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a18f2caa-0e74-4c28-afe5-1cec226867aa-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a635b507-8def-4e30-af4d-65d06a9c8bef-attachment.txt", "type": "text/plain"}], "start": 1763110751412, "stop": 1763110751412}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "37079a78-9c67-40fe-a646-3e4402b0d244-attachment.txt", "type": "text/plain"}], "start": 1763110751412, "stop": 1763110751413}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110753464, "stop": 1763110753511}], "attachments": [{"name": "查询条件", "source": "81a03f26-1b5c-4604-9a08-176465318b57-attachment.txt", "type": "text/plain"}], "start": 1763110753464, "stop": 1763110753511}, {"name": "轮询中（已等待15.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8a8d64a3-7d32-4a6e-b3f0-1f9819e60701-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7bb337a3-72b2-49ea-8e66-0175bc93e0e2-attachment.txt", "type": "text/plain"}], "start": 1763110753511, "stop": 1763110753512}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "0c8ec166-8759-4d9f-beed-29242dca0237-attachment.txt", "type": "text/plain"}], "start": 1763110753512, "stop": 1763110753512}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110755571, "stop": 1763110755615}], "attachments": [{"name": "查询条件", "source": "890356af-1dca-4f64-95c7-191bfb79b2c2-attachment.txt", "type": "text/plain"}], "start": 1763110755571, "stop": 1763110755615}, {"name": "轮询中（已等待17.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7f5db6d2-7a0d-44dc-a1ee-d89c54f9175c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "828030ba-4e9c-45b6-aca1-ffd9235889a0-attachment.txt", "type": "text/plain"}], "start": 1763110755615, "stop": 1763110755616}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "732e8f3f-1c41-4ac0-9db1-510b4dc58499-attachment.txt", "type": "text/plain"}], "start": 1763110755616, "stop": 1763110755616}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110757665, "stop": 1763110757714}], "attachments": [{"name": "查询条件", "source": "cc25be49-6a4f-4e5e-a13f-614e9a3816bb-attachment.txt", "type": "text/plain"}], "start": 1763110757665, "stop": 1763110757714}, {"name": "轮询中（已等待19.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "30f698d5-6dc0-4e2c-99f6-45e217f1b718-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c329f770-d12f-45a4-929a-1e835adc6367-attachment.txt", "type": "text/plain"}], "start": 1763110757714, "stop": 1763110757714}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "016b80de-de76-4afc-8388-72baa3c672bd-attachment.txt", "type": "text/plain"}], "start": 1763110757714, "stop": 1763110757715}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110759772, "stop": 1763110759817}], "attachments": [{"name": "查询条件", "source": "3eb53e9c-e54a-4582-9a65-9cad099a6508-attachment.txt", "type": "text/plain"}], "start": 1763110759772, "stop": 1763110759817}, {"name": "轮询中（已等待22.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "404270e8-055a-41a6-b13c-0e56d1dc6497-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a44c30ee-f02c-4d38-9970-0e562bf5b342-attachment.txt", "type": "text/plain"}], "start": 1763110759817, "stop": 1763110759818}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8f9fe7ba-9c9b-4393-82ba-8cd2bbcb59d3-attachment.txt", "type": "text/plain"}], "start": 1763110759818, "stop": 1763110759819}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110761876, "stop": 1763110761926}], "attachments": [{"name": "查询条件", "source": "019e6b3a-ada5-4a7a-aa9f-63083ecc2467-attachment.txt", "type": "text/plain"}], "start": 1763110761875, "stop": 1763110761926}, {"name": "轮询中（已等待24.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "092368ef-ac74-4bf6-aa49-862fccdd5402-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "94879548-bd52-4e79-86c7-234e83da533e-attachment.txt", "type": "text/plain"}], "start": 1763110761926, "stop": 1763110761927}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "38211ee6-7794-459e-8828-c1461cdc9162-attachment.txt", "type": "text/plain"}], "start": 1763110761927, "stop": 1763110761928}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110763991, "stop": 1763110764036}], "attachments": [{"name": "查询条件", "source": "ef066bb0-e1a9-4c50-bb2a-26df8ebb20b9-attachment.txt", "type": "text/plain"}], "start": 1763110763991, "stop": 1763110764036}, {"name": "轮询中（已等待26.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7c440902-0f8b-45d7-b57c-5a0ccea53b63-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d4190788-7f55-444c-a81f-1cc499850f30-attachment.txt", "type": "text/plain"}], "start": 1763110764036, "stop": 1763110764036}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d8e34f99-fd95-40d4-8138-cb8f4c4e0cfb-attachment.txt", "type": "text/plain"}], "start": 1763110764036, "stop": 1763110764042}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1763110766104, "stop": 1763110766164}], "attachments": [{"name": "查询条件", "source": "b462f93b-14ce-49d1-b161-e6efbba7ba90-attachment.txt", "type": "text/plain"}], "start": 1763110766104, "stop": 1763110766164}, {"name": "轮询中（已等待28.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2cb1f839-0ccd-45e5-ac32-0904ce91f938-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "28f3aa33-479d-414b-b1d0-ce7f30d8ab16-attachment.txt", "type": "text/plain"}], "start": 1763110766164, "stop": 1763110766164}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "30b7f31a-db59-45e0-9640-a584ac4bb917-attachment.txt", "type": "text/plain"}], "start": 1763110766164, "stop": 1763110766165}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "39d336ae-5e59-4b01-972f-cdf7248130c3-attachment.txt", "type": "text/plain"}], "start": 1763110768174, "stop": 1763110768175}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "e0688e97-c6a8-465c-a548-1d00fe62b2e5-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "90a1e87b-7fda-49e4-9a49-15526baabe5f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "99df7ca1-246c-4cfa-b3d1-6235ff1a30cd-attachment.txt", "type": "text/plain"}], "start": 1763110768232, "stop": 1763110768234}], "start": 1763110768175, "stop": 1763110768234}], "attachments": [{"name": "查询条件", "source": "27864941-0d55-4ad0-97aa-ecc08e7dc58f-attachment.txt", "type": "text/plain"}], "start": 1763110768175, "stop": 1763110768234}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "e199c951-46e3-42b7-a057-133ab44cacd7-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "52d6451d-8c23-40b0-9c0e-1b67fa63bcd7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "270c43cc-2402-4b9c-b03a-adf2300d1881-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "ec23b76f-29da-4de9-96fe-bd360513bb43-attachment.txt", "type": "text/plain"}], "start": 1763110768234, "stop": 1763110768236}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "b8bff08e-6223-4633-afcb-9f7711bd12bf-attachment.txt", "type": "text/plain"}], "start": 1763110768236, "stop": 1763110768236}], "start": 1763110737797, "stop": 1763110768236}], "start": 1763110737797, "stop": 1763110768237}], "attachments": [{"name": "log", "source": "fcc061f8-0ff7-4fec-9390-d42212f5ead8-attachment.txt", "type": "text/plain"}], "start": 1763110733477, "stop": 1763110768237, "uuid": "34155b49-e235-4b9b-8e13-ae47b8e85d59", "historyId": "2f6eca20410cff5a72059646b4674ee4", "testCaseId": "2f6eca20410cff5a72059646b4674ee4", "fullName": "test_cloudTrader.test_create.TestCreate_MT5cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "tag", "value": "flaky(reruns=3, reruns_delay=5)"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_MT5cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "62676-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}