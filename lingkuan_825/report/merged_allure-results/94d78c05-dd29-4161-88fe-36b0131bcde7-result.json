{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云跟单账号开仓-关闭\n      2. 进行开仓\n      3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改云跟单账号开仓-开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：云跟单账号开仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bf19998d-6112-4a44-8f7a-eca8f70bc089-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bed035e4-b541-44bc-9d8c-ce0ba2c8269f-attachment.txt", "type": "text/plain"}], "start": 1756432263395, "stop": 1756432266850}], "attachments": [{"name": "查询条件", "source": "6aeb8393-ac06-48a7-9840-08e393329242-attachment.txt", "type": "text/plain"}], "start": 1756432263394, "stop": 1756432266850}, {"name": "轮询中（已等待3.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0e9d2e84-2e78-42f2-8772-2cd225e320e1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ff61e3f6-9851-40ae-a167-550e1a7f3d09-attachment.txt", "type": "text/plain"}], "start": 1756432266850, "stop": 1756432266852}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "a345ef7e-8e8c-40e1-9ebb-7ec8cf3c9ed4-attachment.txt", "type": "text/plain"}], "start": 1756432266852, "stop": 1756432266852}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b5fdc06e-ccf6-45d5-9b6a-8a2489a61898-attachment.txt", "type": "text/plain"}], "start": 1756432266852, "stop": 1756432266853}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "93e0c054-6fe2-43f2-a7fc-f7c1fed431ae-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e90971a4-5674-4643-92a7-723cf4a075f0-attachment.txt", "type": "text/plain"}], "start": 1756432268915, "stop": 1756432272311}], "attachments": [{"name": "查询条件", "source": "42296e18-4268-4e15-8b1f-b5c30de0e013-attachment.txt", "type": "text/plain"}], "start": 1756432268914, "stop": 1756432272311}, {"name": "轮询中（已等待9.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b9d48ba9-ee07-4199-b8b3-54abb5417204-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b344f9ec-6ed6-4e17-8b12-6344acf28c01-attachment.txt", "type": "text/plain"}], "start": 1756432272311, "stop": 1756432272312}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "637fa78b-25ad-4737-a941-14636fa2611b-attachment.txt", "type": "text/plain"}], "start": 1756432272312, "stop": 1756432272313}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "af31f602-a241-4738-9a09-da6673ceced3-attachment.txt", "type": "text/plain"}], "start": 1756432272313, "stop": 1756432272313}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "963691f1-d90b-48b4-a643-8de3e3aee98c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "eec8d812-aee7-470e-8478-703c9cb274b1-attachment.txt", "type": "text/plain"}], "start": 1756432274366, "stop": 1756432277770}], "attachments": [{"name": "查询条件", "source": "8576616f-8551-42c5-a2ea-d7a7053e4c12-attachment.txt", "type": "text/plain"}], "start": 1756432274366, "stop": 1756432277770}, {"name": "轮询中（已等待14.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "baa363df-14f0-4a94-bd0e-cd63c1e92a02-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ba0a3414-a7cd-456f-9b88-c15805468530-attachment.txt", "type": "text/plain"}], "start": 1756432277770, "stop": 1756432277771}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "6d4cf364-7b94-4b7a-8ff2-dc376cbdc30e-attachment.txt", "type": "text/plain"}], "start": 1756432277771, "stop": 1756432277771}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "524ccf0c-d97f-420b-b829-70f511e72ae5-attachment.txt", "type": "text/plain"}], "start": 1756432277771, "stop": 1756432277771}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "7956f3fa-0fa3-44c1-9d38-906c270af521-attachment.json", "type": "application/json"}], "start": 1756432277771, "stop": 1756432277772}], "attachments": [{"name": "执行SQL", "source": "ac536bb4-7294-420f-8f1b-83db917964bc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d89f0565-0741-427e-b9b0-6bda66f7e86c-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "5b2ec9eb-70bf-4ea2-aaaa-164a342dfd0a-attachment.txt", "type": "text/plain"}], "start": 1756432263344, "stop": 1756432277772}], "start": 1756432263344, "stop": 1756432277772}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756432277772, "stop": 1756432277772}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "56662ac1-6872-485e-bd3b-69009e22932c-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "648ed486-20d2-4561-9a91-7779b22d4eca-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "d11f6a37-a70f-4fff-821b-6f9aa1822e22-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "277958a9-52f6-4693-bb9e-0251746b7fa1-attachment.json", "type": "application/json"}], "start": 1756432277772, "stop": 1756432277773}], "start": 1756432277772, "stop": 1756432277773}], "attachments": [{"name": "log", "source": "12540ba5-2150-4034-9b1e-e53238684843-attachment.txt", "type": "text/plain"}], "start": 1756432263344, "stop": 1756432277774, "uuid": "17b1fd58-de27-486e-a000-ceca2d308e64", "historyId": "ff65366b9ac46482e69c4324614eff6a", "testCaseId": "ff65366b9ac46482e69c4324614eff6a", "fullName": "test_cloudTrader.test_cloudOrder_open_level.TestcloudTrader_open#test_dbquery_redis", "labels": [{"name": "story", "value": "场景1：交易下单-云策略复制下单-漏开"}, {"name": "feature", "value": "交易下单-云策略复制下单-漏单场景"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestcloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "21760-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}