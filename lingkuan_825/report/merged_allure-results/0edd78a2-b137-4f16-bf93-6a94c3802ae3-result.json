{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云策略账号 策略状态为关闭\n      2. 进行开仓\n      3. 跟单账号跟单失败，有漏单数据，把redis数据和MySQL数据进行校验\n      4. 修改云策略 策略状态为开启\n      5. 进行补单操作，然后平仓\n    - 预期结果：云策略 策略状态为关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f1e2c30c-fc76-4ef4-a863-338c27c94b72-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ca0da931-62ba-42f2-8ba9-6076fd1f48cd-attachment.txt", "type": "text/plain"}], "start": 1756432455249, "stop": 1756432458782}], "attachments": [{"name": "查询条件", "source": "61d12767-1f52-4a39-9a0d-6473b683f8d5-attachment.txt", "type": "text/plain"}], "start": 1756432455248, "stop": 1756432458782}, {"name": "轮询中（已等待3.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "37dad550-1ced-4307-923e-67d883cae751-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "322fbe5c-c972-4d8c-96b0-ff65f96e89d7-attachment.txt", "type": "text/plain"}], "start": 1756432458782, "stop": 1756432458783}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "0cc9b174-7d63-4504-9105-e55510cb6cd2-attachment.txt", "type": "text/plain"}], "start": 1756432458783, "stop": 1756432458783}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a7bd0b96-0022-4137-8752-1886c9244563-attachment.txt", "type": "text/plain"}], "start": 1756432458783, "stop": 1756432458784}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a189b395-5c42-4940-b183-79ccb8c34586-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2f10af02-2f13-4603-ae53-ae81a05a4125-attachment.txt", "type": "text/plain"}], "start": 1756432460840, "stop": 1756432464383}], "attachments": [{"name": "查询条件", "source": "200d67b0-52e0-4575-aab0-825a54474b4e-attachment.txt", "type": "text/plain"}], "start": 1756432460840, "stop": 1756432464383}, {"name": "轮询中（已等待9.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cfcbb9c0-be1a-42ba-97e5-42636540c9d9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b73368dd-856a-403f-b6aa-f4ac09a33c13-attachment.txt", "type": "text/plain"}], "start": 1756432464383, "stop": 1756432464384}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "a43edf23-bfd9-46db-9c57-5ffc3899451f-attachment.txt", "type": "text/plain"}], "start": 1756432464384, "stop": 1756432464385}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "9828a5ae-1c6a-474e-961e-7d0795787121-attachment.txt", "type": "text/plain"}], "start": 1756432464385, "stop": 1756432464385}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a9041552-5bd2-4cb4-8889-7a8e398c4c7e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9c6b9735-22af-45e1-b583-0b212af3a63a-attachment.txt", "type": "text/plain"}], "start": 1756432466443, "stop": 1756432470027}], "attachments": [{"name": "查询条件", "source": "f8762957-7445-4cde-8f07-302e14bbc5d4-attachment.txt", "type": "text/plain"}], "start": 1756432466442, "stop": 1756432470027}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f152cb9f-a0b0-46b7-952f-0bd57c68901d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "80a6fa88-6729-41be-8b7b-364207829a5b-attachment.txt", "type": "text/plain"}], "start": 1756432470027, "stop": 1756432470028}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "20049266-3563-4a2a-b5e8-2676d4b0f0cd-attachment.txt", "type": "text/plain"}], "start": 1756432470028, "stop": 1756432470028}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "fd892143-2aa0-4991-93dd-5d4236bbc131-attachment.txt", "type": "text/plain"}], "start": 1756432470028, "stop": 1756432470029}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "7667fde2-7270-490d-b69c-a796b134a2c1-attachment.json", "type": "application/json"}], "start": 1756432470029, "stop": 1756432470030}], "attachments": [{"name": "执行SQL", "source": "631f4892-6db1-4a7f-be5f-64ed22af98b3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0af1d21b-a698-4598-890b-61a8cdf5a12e-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "e6354bbb-0f5f-4a57-b2e2-c46384f559b1-attachment.txt", "type": "text/plain"}], "start": 1756432455201, "stop": 1756432470030}], "start": 1756432455200, "stop": 1756432470030}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756432470030, "stop": 1756432470033}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "e3680d5a-4b8a-499d-abac-53da1ff3d771-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "005aca1a-b979-47d7-8ea3-829a1d4b2400-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "e10176b7-9449-4e1f-a941-a43cb04ab3a5-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "37122b34-1674-452e-97f4-4d000bb50e89-attachment.json", "type": "application/json"}], "start": 1756432470033, "stop": 1756432470036}], "start": 1756432470033, "stop": 1756432470036}], "attachments": [{"name": "log", "source": "bdd11144-e4ac-4d78-9937-bf5cb0653e4c-attachment.txt", "type": "text/plain"}], "start": 1756432455200, "stop": 1756432470036, "uuid": "738d41fc-cfb8-42cc-a084-88c156d10678", "historyId": "4c7d757c88a063eeaa3c61ccf1115a17", "testCaseId": "4c7d757c88a063eeaa3c61ccf1115a17", "fullName": "test_cloudTrader.test_cloudOrder_open_level.Testcloudstargy_addstatus#test_dbquery_redis", "labels": [{"name": "feature", "value": "交易下单-云策略复制下单-漏单场景"}, {"name": "story", "value": "场景3：交易下单-云策略复制下单-策略账号-策略状态关闭"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestcloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "21760-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}