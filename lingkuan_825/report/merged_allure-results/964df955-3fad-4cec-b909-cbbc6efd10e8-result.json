{"name": "出现漏平-redis数据和数据库的数据做比对", "status": "passed", "description": "\n    ### 用例说明\n    - 前置条件：有云策略和云跟单\n    - 操作步骤：\n      1. 修改云跟单账号平仓-关闭\n      2. 进行开仓\n      3. 进行平仓\n      4. 跟单账号平仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n      5. 修改云跟单账号平仓-开启\n    - 预期结果：云跟单账号平仓-关闭，有漏单数据\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3f8cf9b0-4eac-49a9-8c0a-9fe423561931-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bb4fab7e-ad60-4be8-8174-72006bcdd52f-attachment.txt", "type": "text/plain"}], "start": 1756432368489, "stop": 1756432372004}], "attachments": [{"name": "查询条件", "source": "4f82ef39-1e06-4d7c-8ef0-3b232c08cb88-attachment.txt", "type": "text/plain"}], "start": 1756432368488, "stop": 1756432372004}, {"name": "轮询中（已等待3.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b9c6ecf9-9a1b-4c4a-bbf5-49ae21b6d660-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3da3a82e-8424-40e0-8e79-4b015e5d83eb-attachment.txt", "type": "text/plain"}], "start": 1756432372005, "stop": 1756432372005}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "c639c5d3-5e5d-47f3-bd73-9da84ecb37e0-attachment.txt", "type": "text/plain"}], "start": 1756432372005, "stop": 1756432372006}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0e4e9739-b78f-4d73-b338-07d37d280b81-attachment.txt", "type": "text/plain"}], "start": 1756432372006, "stop": 1756432372006}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3507ad7b-95d4-4618-ae3f-db70d8c0f0a4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "49e99d0a-fd92-41c2-814b-2f2a40e094ce-attachment.txt", "type": "text/plain"}], "start": 1756432374063, "stop": 1756432377511}], "attachments": [{"name": "查询条件", "source": "309c51e7-7cfb-4710-b1f1-bbbd2b3ab2ae-attachment.txt", "type": "text/plain"}], "start": 1756432374063, "stop": 1756432377511}, {"name": "轮询中（已等待9.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "74ba97c9-9557-46b7-83c6-c83d2b1a315c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5153ab81-a6e5-4e0f-9626-53437c86ac71-attachment.txt", "type": "text/plain"}], "start": 1756432377511, "stop": 1756432377512}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "76320ba1-d16b-4a3a-9974-dde23f662774-attachment.txt", "type": "text/plain"}], "start": 1756432377512, "stop": 1756432377513}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "c2a3870b-9c1b-4509-b19c-4c58132d2174-attachment.txt", "type": "text/plain"}], "start": 1756432377513, "stop": 1756432377513}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a54a37fc-65ac-4f00-a362-00e8e53b05b1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "082cfb00-44dc-41d4-9280-f6d8bdb0e0b4-attachment.txt", "type": "text/plain"}], "start": 1756432379565, "stop": 1756432383039}], "attachments": [{"name": "查询条件", "source": "7c99a272-fc43-4ddc-8898-5d7c6f5eb3ab-attachment.txt", "type": "text/plain"}], "start": 1756432379564, "stop": 1756432383039}, {"name": "轮询中（已等待14.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1e31f259-9481-47e2-97a3-079dd20be322-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "393bd75b-81ac-487c-96d6-73a4877330c8-attachment.txt", "type": "text/plain"}], "start": 1756432383039, "stop": 1756432383040}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "c9fd2727-72c7-4f94-aa56-213fd808a0a0-attachment.txt", "type": "text/plain"}], "start": 1756432383040, "stop": 1756432383040}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "bf7e0bef-6b1b-4f5f-ab33-9146a4b7f4a4-attachment.txt", "type": "text/plain"}], "start": 1756432383040, "stop": 1756432383041}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "1bd00322-2e92-4ef6-beda-04833da9d8c8-attachment.json", "type": "application/json"}], "start": 1756432383041, "stop": 1756432383042}], "attachments": [{"name": "执行SQL", "source": "f7c6d683-470d-4d63-8d1e-e8b796ec637a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "33de95c1-4711-4260-9357-16e05cb34d19-attachment.txt", "type": "text/plain"}, {"name": "时间范围", "source": "f82e9518-8d04-43f0-b8c3-b7bb43ea439a-attachment.txt", "type": "text/plain"}], "start": 1756432368436, "stop": 1756432383042}], "start": 1756432368436, "stop": 1756432383042}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1756432383042, "stop": 1756432383044}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "67303f1b-48e7-4f06-a75f-2a374ffefeec-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "2b293836-77da-4351-aa63-1d4d27c2d481-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "c6681181-8a27-4a35-bc82-63dbeee4b426-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "e97f671b-97fc-455f-a15d-85568686330f-attachment.json", "type": "application/json"}], "start": 1756432383045, "stop": 1756432383048}], "start": 1756432383045, "stop": 1756432383048}], "attachments": [{"name": "log", "source": "e21e18d2-f510-497c-a383-461b7c8e69a3-attachment.txt", "type": "text/plain"}], "start": 1756432368436, "stop": 1756432383048, "uuid": "815a06bc-3c70-4395-af77-5b0142e06fa5", "historyId": "f728c796074aa556ab55b3164e678327", "testCaseId": "f728c796074aa556ab55b3164e678327", "fullName": "test_cloudTrader.test_cloudOrder_open_level.TestcloudTrader_level#test_dbquery_redis", "labels": [{"name": "feature", "value": "交易下单-云策略复制下单-漏单场景"}, {"name": "story", "value": "场景2：交易下单-云策略复制下单-漏平"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_cloudOrder_open_level"}, {"name": "subSuite", "value": "TestcloudTrader_openandlevel"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "21760-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_cloudOrder_open_level"}]}