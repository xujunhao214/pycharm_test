INFO     lingkuan_821.conftest:conftest.py:62 [2025-08-26 17:26:45] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 开始登录，环境: test
INFO     lingkuan_821.conftest:conftest.py:89 测试环境登录成功
INFO     lingkuan_821.commons.variable_manager:variable_manager.py:111 [2025-08-26 17:26] 运行时变量已保存到: D:\pycharm_test\lingkuan_821\VAR\runtime_vars_cloud.json
INFO     lingkuan_821.conftest:conftest.py:152 切换到VPS URL: http://39.99.136.49/vps
ERROR    lingkuan_821.commons.api_base:api_base.py:166 [2025-08-26 17:26:50] POST 请求异常: HTTPConnectionPool(host='127.0.0.1', port=10809): Max retries exceeded with url: http://39.99.136.49/vps/subcontrol/trader (Caused by ProxyError('Unable to connect to proxy', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None))) | URL: /subcontrol/trader
urllib3.exceptions.ProxyError: ('Unable to connect to proxy', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None))

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\connectionpool.py", line 843, in urlopen
    retries = retries.increment(
  File "D:\pycharm_test\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='127.0.0.1', port=10809): Max retries exceeded with url: http://39.99.136.49/vps/subcontrol/trader (Caused by ProxyError('Unable to connect to proxy', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None)))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pycharm_test\lingkuan_821\commons\api_base.py", line 136, in send_post_request
    response = logged_session.post(url, json=json_data)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
  File "D:\pycharm_test\lingkuan_821\commons\session.py", line 127, in request
    response = super().request(method, full_url, *args, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "D:\pycharm_test\venv\lib\site-packages\requests\adapters.py", line 694, in send
    raise ProxyError(e, request=request)
requests.exceptions.ProxyError: HTTPConnectionPool(host='127.0.0.1', port=10809): Max retries exceeded with url: http://39.99.136.49/vps/subcontrol/trader (Caused by ProxyError('Unable to connect to proxy', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None)))
INFO     lingkuan_821.conftest:conftest.py:157 [2025-08-26 17:26:51] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 执行完毕
INFO     lingkuan_821.conftest:conftest.py:62 [2025-08-26 17:26:56] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 开始登录，环境: test
INFO     lingkuan_821.conftest:conftest.py:89 测试环境登录成功
INFO     lingkuan_821.commons.variable_manager:variable_manager.py:111 [2025-08-26 17:26] 运行时变量已保存到: D:\pycharm_test\lingkuan_821\VAR\runtime_vars_cloud.json
INFO     lingkuan_821.conftest:conftest.py:152 切换到VPS URL: http://39.99.136.49/vps
INFO     lingkuan_821.commons.api_base:api_base.py:137 [2025-08-26 17:26:56] POST请求（JSON）: /subcontrol/trader | 数据: {'account': '300159', 'password': 'fa1af751c83d311f091c9393a364068c', 'remark': '测试数据', 'followStatus': 1, 'templateId': 1, 'type': 0, 'cfd': '', 'forex': '', 'followOrderRemark': 1, 'fixedComment': 'ceshi', 'commentType': '', 'digits': '', 'platformId': '', 'platform': 'FXAdamantStone-Real'}
INFO     lingkuan_821.commons.api_base:api_base.py:145 [2025-08-26 17:26:56] 请求后等待 1 秒
ERROR    lingkuan_821.commons.api_base:api_base.py:408 [2025-08-26 17:26:57] JSON断言失败: Failed: 响应msg字段应为success（JSON路径值不匹配） | 路径: $.msg | 响应: {"code":500,"msg":"账号已存在","data":null}
INFO     lingkuan_821.conftest:conftest.py:157 [2025-08-26 17:26:57] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 执行完毕
INFO     lingkuan_821.conftest:conftest.py:62 [2025-08-26 17:27:02] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 开始登录，环境: test
INFO     lingkuan_821.conftest:conftest.py:89 测试环境登录成功
INFO     lingkuan_821.commons.variable_manager:variable_manager.py:111 [2025-08-26 17:26] 运行时变量已保存到: D:\pycharm_test\lingkuan_821\VAR\runtime_vars_cloud.json
INFO     lingkuan_821.conftest:conftest.py:152 切换到VPS URL: http://39.99.136.49/vps
INFO     lingkuan_821.commons.api_base:api_base.py:137 [2025-08-26 17:27:02] POST请求（JSON）: /subcontrol/trader | 数据: {'account': '300159', 'password': 'fa1af751c83d311f091c9393a364068c', 'remark': '测试数据', 'followStatus': 1, 'templateId': 1, 'type': 0, 'cfd': '', 'forex': '', 'followOrderRemark': 1, 'fixedComment': 'ceshi', 'commentType': '', 'digits': '', 'platformId': '', 'platform': 'FXAdamantStone-Real'}
INFO     lingkuan_821.commons.api_base:api_base.py:145 [2025-08-26 17:27:02] 请求后等待 1 秒
ERROR    lingkuan_821.commons.api_base:api_base.py:408 [2025-08-26 17:27:03] JSON断言失败: Failed: 响应msg字段应为success（JSON路径值不匹配） | 路径: $.msg | 响应: {"code":500,"msg":"账号已存在","data":null}
INFO     lingkuan_821.conftest:conftest.py:157 [2025-08-26 17:27:03] 用例 test_cloudTrader/test_create.py::TestCreate_cloudTrader::test_add_trader 执行完毕