INFO     2025-07-25 09:19:17 [lingkuan_723.conftest;147]  : [2025-07-25 09:19] 测试会话开始: 2025-07-25 09:19:17
INFO     2025-07-25 09:19:17 [lingkuan_723.commons.variable_manager;39]  : [2025-07-25 09:19] 成功加载静态变量: VAR\test_data.json
INFO     2025-07-25 09:19:17 [lingkuan_723.commons.variable_manager;55]  : [2025-07-25 09:19] 成功加载运行时变量: VAR\runtime_vars.json
INFO     2025-07-25 09:19:17 [requests.session;58]  : [2025-07-25 09:19] 初始化环境会话: test | Base URL: http://39.99.136.49:9000
INFO     2025-07-25 09:19:17 [requests.session;63]  : [2025-07-25 09:19] 切换到Base URL: http://39.99.136.49:9000
INFO     2025-07-25 09:19:17 [lingkuan_723.conftest;59]  : [2025-07-25 09:19] 用例 test_vps/test_lianxi.py::TestDeleteFollowSlave::test_create_addSlave 使用默认URL进行登录: http://39.99.136.49:9000
INFO     2025-07-25 09:19:17 [requests.session;101]  : [2025-07-25 09:19] 构建相对URL: http://39.99.136.49:9000 + /sys/auth/login -> http://39.99.136.49:9000/sys/auth/login
INFO     2025-07-25 09:19:17 [requests.session;114]  : [2025-07-25 09:19:17.869] POST 请求开始: http://39.99.136.49:9000/sys/auth/login
INFO     2025-07-25 09:19:17 [requests.session;115]  : [2025-07-25 09:19:17.869] 请求参数: args=(), kwargs_keys=['data', 'json']
INFO     2025-07-25 09:19:17 [requests.session;123]  : [2025-07-25 09:19:17.869] JSON请求体: {'username': 'admin', 'password': '04739db02172e04f63f5278211184deec745bad9d797882b343e7201898d8da1d9fced282f6b271d3815a5057482e62c6f6b88dacb642ba05632bd2ee348101c76cb1f86b70f91695fd1cff11fce76246f044ace477cdbfa1e3e1521b19b023b14c7165e82c5'}
INFO     2025-07-25 09:19:17 [requests.session;133]  : [2025-07-25 09:19:17.869] 请求完成: POST http://39.99.136.49:9000/sys/auth/login | 状态码: 200 | 耗时: 128.10ms
INFO     2025-07-25 09:19:17 [requests.session;135]  : [2025-07-25 09:19:17.869] 响应头: {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '0', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 25 Jul 2025 01:19:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}
INFO     2025-07-25 09:19:17 [requests.session;141]  : [2025-07-25 09:19:17.869] 响应JSON: {'code': 0, 'msg': 'success', 'data': {'accessTokenExpire': '2025-07-26 09:19:17', 'refreshTokenExpire': '2025-08-08 09:19:17', 'access_token': '15bc84cf3eae481e94734ba73a5cd58f', 'refresh_token': 'd75522f3d04d4e6e8d1d5ccf0d56c3d9'}}
INFO     2025-07-25 09:19:17 [lingkuan_723.commons.variable_manager;101]  : [2025-07-25 09:19] 运行时变量已保存
INFO     2025-07-25 09:19:17 [requests.session;69]  : [2025-07-25 09:19] 切换到VPS URL: http://39.99.136.49:9001
INFO     2025-07-25 09:19:17 [lingkuan_723.conftest;79]  : [2025-07-25 09:19] 登录后切换到VPS URL: http://39.99.136.49:9001
INFO     2025-07-25 09:19:18 [requests.session;101]  : [2025-07-25 09:19] 构建相对URL: http://39.99.136.49:9001 + /subcontrol/follow/addSlave -> http://39.99.136.49:9001/subcontrol/follow/addSlave
INFO     2025-07-25 09:19:18 [requests.session;114]  : [2025-07-25 09:19:18.003] POST 请求开始: http://39.99.136.49:9001/subcontrol/follow/addSlave
INFO     2025-07-25 09:19:18 [requests.session;115]  : [2025-07-25 09:19:18.003] 请求参数: args=(), kwargs_keys=['data', 'json']
INFO     2025-07-25 09:19:18 [requests.session;123]  : [2025-07-25 09:19:18.003] JSON请求体: {'traderId': 7168, 'platform': 'FXAdamantStone-Real', 'account': '300155', 'password': 'fa1af751c83d311f091c9393a364068c', 'remark': '测试数据', 'followDirection': 0, 'followMode': 1, 'remainder': 0, 'followParam': 1, 'placedType': 0, 'templateId': 1, 'followStatus': 1, 'followOpen': 1, 'followClose': 1, 'followRep': 0, 'fixedComment': 'ceshi', 'commentType': 2, 'digits': 0, 'cfd': '', 'forex': '', 'abRemark': ''}
INFO     2025-07-25 09:19:18 [requests.session;133]  : [2025-07-25 09:19:18.003] 请求完成: POST http://39.99.136.49:9001/subcontrol/follow/addSlave | 状态码: 200 | 耗时: 111.04ms
INFO     2025-07-25 09:19:18 [requests.session;135]  : [2025-07-25 09:19:18.003] 响应头: {'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '0', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 25 Jul 2025 01:19:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'}
INFO     2025-07-25 09:19:18 [requests.session;141]  : [2025-07-25 09:19:18.003] 响应JSON: {'code': 500, 'msg': '保存失败java.lang.NullPointerException: Cannot invoke "net.maku.followcom.entity.FollowTraderEntity.getAccount()" because "follow" is null', 'data': None}
INFO     2025-07-25 09:19:18 [lingkuan_723.commons.api_base;70]  : [2025-07-25 09:19] POST请求（JSON）: /subcontrol/follow/addSlave | 数据: {'traderId': 7168, 'platform': 'FXAdamantStone-Real', 'account': '300155', 'password': 'fa1af751c83d311f091c9393a364068c', 'remark': '测试数据', 'followDirection': 0, 'followMode': 1, 'remainder': 0, 'followParam': 1, 'placedType': 0, 'templateId': 1, 'followStatus': 1, 'followOpen': 1, 'followClose': 1, 'followRep': 0, 'fixedComment': 'ceshi', 'commentType': 2, 'digits': 0, 'cfd': '', 'forex': '', 'abRemark': ''}
INFO     2025-07-25 09:19:18 [lingkuan_723.commons.api_base;211]  : [2025-07-25 09:19] 响应状态码: 200 | URL: http://39.99.136.49:9001/subcontrol/follow/addSlave
INFO     2025-07-25 09:19:18 [lingkuan_723.commons.api_base;212]  : [2025-07-25 09:19] 响应详情: 头信息={'Vary': 'Origin, Access-Control-Request-Method, Access-Control-Request-Headers', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '0', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 25 Jul 2025 01:19:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} | 内容={"code":500,"msg":"保存失败java.lang.NullPointerException: Cannot invoke \"net.maku.followcom.entity.FollowTraderEntity.getAccount()\" because \"follow\" is null","data":null}
INFO     2025-07-25 09:19:18 [lingkuan_723.commons.api_base;80]  : [2025-07-25 09:19] 请求后等待 3 秒
ERROR    2025-07-25 09:19:21 [lingkuan_723.commons.api_base;253]  : [2025-07-25 09:19] JSON断言失败: 响应msg字段应为success
URL: http://39.99.136.49:9001/subcontrol/follow/addSlave
JSON路径: $.msg
实际值: 保存失败java.lang.NullPointerException: Cannot invoke "net.maku.followcom.entity.FollowTraderEntity.getAccount()" because "follow" is null
期望值: success | 路径: $.msg | 响应: {"code":500,"msg":"保存失败java.lang.NullPointerException: Cannot invoke \"net.maku.followcom.entity.FollowTraderEntity.getAccount()\" because \"follow\" is null","data":null}
INFO     2025-07-25 09:19:21 [lingkuan_723.commons.api_base;273]  : [2025-07-25 09:19] 执行SQL: SELECT * FROM follow_trader WHERE account = %s | 参数: ('300155',)
INFO     2025-07-25 09:19:21 [lingkuan_723.commons.api_base;276]  : [2025-07-25 09:19] 查询成功，结果数量: 0 | SQL: SELECT * FROM follow_trader WHERE account = %s
INFO     2025-07-25 09:19:21 [lingkuan_723.commons.api_base;282]  : [2025-07-25 09:19] 查询结果: []
INFO     2025-07-25 09:19:21 [lingkuan_723.commons.variable_manager;101]  : [2025-07-25 09:19] 运行时变量已保存
INFO     2025-07-25 09:19:21 [lingkuan_723.conftest;174]  : [2025-07-25 09:19] 测试会话结束，总耗时: 4.00秒
INFO     2025-07-25 09:19:21 [lingkuan_723.commons.feishu_notification;128]  : [2025-07-25 09:19] 发送飞书消息，URL: https://open.feishu.cn/open-apis/bot/v2/hook/8d3475ac-8adc-45ed-97c7-0f0ec8647a4f
INFO     2025-07-25 09:19:22 [lingkuan_723.commons.feishu_notification;136]  : [2025-07-25 09:19] 飞书响应状态码: 200
INFO     2025-07-25 09:19:22 [lingkuan_723.commons.feishu_notification;137]  : [2025-07-25 09:19] 飞书响应内容: {"StatusCode":0,"StatusMessage":"success","code":0,"data":{},"msg":"success"}
INFO     2025-07-25 09:19:22 [lingkuan_723.commons.feishu_notification;142]  : [2025-07-25 09:19] [FEISHU] 消息发送成功
INFO     2025-07-25 09:19:22 [lingkuan_723.conftest;185]  : [2025-07-25 09:19] 飞书通知发送成功
