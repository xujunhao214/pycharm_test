{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总订单3，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816152614, "stop": 1764816152691}], "attachments": [{"name": "时区处理", "source": "05fa21ef-636b-45b8-8de1-e6b873e2766b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "07f7cc09-6e14-4080-a088-20a1505e13fc-attachment.txt", "type": "text/plain"}], "start": 1764816152613, "stop": 1764816152691}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "367ab86d-abf5-4b40-b271-a17d2774fe2d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1c2c4d5d-6ae4-4d60-a63f-fd1684395dc5-attachment.txt", "type": "text/plain"}], "start": 1764816152691, "stop": 1764816152691}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "814c57b1-82c0-4f01-a036-68e21f85e8d1-attachment.txt", "type": "text/plain"}], "start": 1764816152691, "stop": 1764816152691}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "872b945f-e0ec-451d-9da0-c0bd63145328-attachment.txt", "type": "text/plain"}], "start": 1764816152691, "stop": 1764816152692}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816154747, "stop": 1764816154805}], "attachments": [{"name": "时区处理", "source": "9a57fa39-ad33-4f20-bfe8-3871b6c8bbe9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b78e6453-cad4-4b5a-af4a-e7763bb3c828-attachment.txt", "type": "text/plain"}], "start": 1764816154746, "stop": 1764816154806}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "508b8716-a332-41a4-b5bf-46af1396deb3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6eb1fccc-61db-4cf9-a041-ffe5eadd0219-attachment.txt", "type": "text/plain"}], "start": 1764816154806, "stop": 1764816154806}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "519bc842-0cac-4990-b02c-7bbb1b5e37b6-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "2b5517f5-be8c-4279-9d69-662f3090eccc-attachment.txt", "type": "text/plain"}], "start": 1764816154806, "stop": 1764816154807}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "ca4e86c5-cf95-4f43-ba19-f414fafcb863-attachment.txt", "type": "text/plain"}], "start": 1764816154807, "stop": 1764816154807}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816156861, "stop": 1764816156922}], "attachments": [{"name": "时区处理", "source": "e9c697a1-2814-446d-82ae-81968e050246-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1be3ba31-9699-438c-9298-63fd4dc486d3-attachment.txt", "type": "text/plain"}], "start": 1764816156861, "stop": 1764816156922}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "60cc77ec-36be-46ce-9022-eed22c76c17f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ec46b63c-c9bb-43fb-8a5d-4c2fa346ecab-attachment.txt", "type": "text/plain"}], "start": 1764816156922, "stop": 1764816156922}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c8ce2679-09bc-49b7-ab90-e0dd521cac77-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "540053e7-266e-40f8-8cac-229498f1638d-attachment.txt", "type": "text/plain"}], "start": 1764816156922, "stop": 1764816156923}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "2ff727ac-03d8-4ae7-99f5-750aba7e24d8-attachment.txt", "type": "text/plain"}], "start": 1764816156923, "stop": 1764816156924}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "b9cb55b6-aaad-4a0e-8170-c3688d52f33d-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "71757687-9de7-41e2-a6eb-a4868c703e5b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a5f08951-81ed-45e1-92f7-2da3727658d9-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "e9da1409-4ba9-410b-97be-6458dbb47548-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "faec20ed-0a4d-43bb-b85f-ed2e03e3eff8-attachment.txt", "type": "text/plain"}], "start": 1764816156924, "stop": 1764816156925}], "start": 1764816152566, "stop": 1764816156925}], "start": 1764816152566, "stop": 1764816156925}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "0b43028d-7945-4e6f-b11f-1dc3e2b0b0a3-attachment.attach", "type": "text/plain"}], "start": 1764816156925, "stop": 1764816156925}], "start": 1764816156925, "stop": 1764816156925}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "e8b0b3be-cf67-4d55-8d7f-7484d8845f79-attachment.attach", "type": "text/plain"}], "start": 1764816156925, "stop": 1764816156926}], "start": 1764816156925, "stop": 1764816156926}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "11d430c8-5a40-4d3f-bdb1-8f3e1dffa9cf-attachment.attach", "type": "text/plain"}], "start": 1764816156927, "stop": 1764816156927}], "attachments": [{"name": "总手数列表", "source": "dcd9442a-154b-4a05-bea8-a5fc867e87a9-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "5c86a726-d284-4a50-bb2d-85fe86280811-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "f80ad62f-18f9-4ed2-be67-357fef1e88e1-attachment.attach", "type": "text/plain"}], "start": 1764816156926, "stop": 1764816156927}], "start": 1764816156926, "stop": 1764816156927}], "start": 1764816156925, "stop": 1764816156927}], "attachments": [{"name": "log", "source": "aee336ed-582c-479d-a455-246da5c50926-attachment.txt", "type": "text/plain"}], "start": 1764816152566, "stop": 1764816156927, "uuid": "ef487741-6a5e-4414-9936-fbdafe68c939", "historyId": "018cb73113bb0349399511f48891dcde", "testCaseId": "018cb73113bb0349399511f48891dcde", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend1#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景1：复制下单-手数0.1-1，总订单3，总手数1"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}