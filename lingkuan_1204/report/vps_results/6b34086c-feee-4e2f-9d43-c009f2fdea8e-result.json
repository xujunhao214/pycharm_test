{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816387375, "stop": 1764816387440}], "attachments": [{"name": "时区处理", "source": "df48b26e-7ec9-4bc3-a557-bdcc0ea40575-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "faf61e74-6108-4af8-a47c-033081752cbf-attachment.txt", "type": "text/plain"}], "start": 1764816387374, "stop": 1764816387440}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a9d9616d-bd78-4a30-9762-5f48214a407a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9969332d-9e9c-4f7e-a0a5-65cc717928a8-attachment.txt", "type": "text/plain"}], "start": 1764816387440, "stop": 1764816387442}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "a83495cb-11ed-4adc-bea7-c4502cd5dd05-attachment.txt", "type": "text/plain"}], "start": 1764816387442, "stop": 1764816387442}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d8f9db3a-dde7-4987-ac1a-aafc1adce6b5-attachment.txt", "type": "text/plain"}], "start": 1764816387442, "stop": 1764816387450}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816389514, "stop": 1764816389574}], "attachments": [{"name": "时区处理", "source": "084f6dae-f5a0-43c9-a623-ab9a9951eb2e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4c0c6762-5c13-4471-971a-ba3bfd82bc6e-attachment.txt", "type": "text/plain"}], "start": 1764816389512, "stop": 1764816389574}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "25e7a538-78c8-401f-ab56-97d541cf5959-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5bb63037-13ce-42c8-93f2-dcd24b5989ed-attachment.txt", "type": "text/plain"}], "start": 1764816389574, "stop": 1764816389576}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5b4887e4-8320-476d-9aaf-2de4cca071ff-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "37e0bb05-acd1-42a9-9d3c-b8bcd34c5740-attachment.txt", "type": "text/plain"}], "start": 1764816389577, "stop": 1764816389578}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0b87b1bc-5fe9-4401-8b53-fa69776e229e-attachment.txt", "type": "text/plain"}], "start": 1764816389578, "stop": 1764816389578}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816391630, "stop": 1764816391689}], "attachments": [{"name": "时区处理", "source": "9297a4cf-bf06-4550-891a-846a867898fc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ffdf45e6-22df-4b34-9412-4f73de231371-attachment.txt", "type": "text/plain"}], "start": 1764816391629, "stop": 1764816391689}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4de18e6f-b39f-4587-a123-51b025c7d62f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "66af94a7-6f6f-4eeb-8400-df3307791387-attachment.txt", "type": "text/plain"}], "start": 1764816391689, "stop": 1764816391690}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "1f2b098d-3f8f-479c-8d8b-03079717c52c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8423c76f-1693-4537-b40e-243affaf7a5d-attachment.txt", "type": "text/plain"}], "start": 1764816391690, "stop": 1764816391692}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "e1a6b67a-9346-4849-a84c-a719eac0adbc-attachment.txt", "type": "text/plain"}], "start": 1764816391692, "stop": 1764816391693}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816393744, "stop": 1764816393807}], "attachments": [{"name": "时区处理", "source": "ab46c5b1-e0b7-4c6b-9cb2-52c372d776a8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4d673280-27f5-480f-aab8-a4368ec2145e-attachment.txt", "type": "text/plain"}], "start": 1764816393743, "stop": 1764816393807}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e3074914-8dcf-4ddc-a86c-2d430a191d39-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "28fc6f79-77ea-4cb5-8a2d-81e546ff22fa-attachment.txt", "type": "text/plain"}], "start": 1764816393807, "stop": 1764816393809}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "774e4468-b3c5-4465-a44b-93fc46f1a475-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b7df3dc9-4800-498e-94cd-6954d128d061-attachment.txt", "type": "text/plain"}], "start": 1764816393809, "stop": 1764816393810}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "ec9322a2-5106-44c8-ad09-832a3646b7fc-attachment.txt", "type": "text/plain"}], "start": 1764816393810, "stop": 1764816393810}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "6a29af82-2fd1-4d9b-a2e5-3324e1a7df2c-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "5a44b330-0945-4c57-b385-3c52865ac1d2-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fcddeeb6-d1a9-4ccc-a5f8-7b0c1af7a474-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "8ccf7f4a-d738-464a-804d-9989f2cc9da4-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "33bde6c4-1a65-4884-957c-0037d55b5a4f-attachment.txt", "type": "text/plain"}], "start": 1764816393810, "stop": 1764816393814}], "start": 1764816387328, "stop": 1764816393814}], "start": 1764816387328, "stop": 1764816393814}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "07cc5a15-960f-4f7b-b7f7-733b026bafa3-attachment.attach", "type": "text/plain"}], "start": 1764816393814, "stop": 1764816393815}], "start": 1764816393814, "stop": 1764816393815}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "8ce917ea-18d2-47d4-8fca-c40f369f14ef-attachment.attach", "type": "text/plain"}], "start": 1764816393815, "stop": 1764816393816}], "start": 1764816393815, "stop": 1764816393816}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "d565db98-3cde-4202-a58b-e34e982e4245-attachment.attach", "type": "text/plain"}], "start": 1764816393816, "stop": 1764816393817}], "start": 1764816393816, "stop": 1764816393817}], "start": 1764816393814, "stop": 1764816393817}], "attachments": [{"name": "log", "source": "55609d54-2372-48b1-9ada-0fcc10f0137d-attachment.txt", "type": "text/plain"}], "start": 1764816387327, "stop": 1764816393817, "uuid": "4a5ee216-d5bc-4873-8885-62a341ac5d6c", "historyId": "e0c4aa0b74c0975b887022aabaaed9e2", "testCaseId": "e0c4aa0b74c0975b887022aabaaed9e2", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}