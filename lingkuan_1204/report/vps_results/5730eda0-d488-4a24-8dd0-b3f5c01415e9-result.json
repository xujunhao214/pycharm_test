{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816370143, "stop": 1764816370207}], "attachments": [{"name": "时区处理", "source": "4d6a84f3-1635-4c4a-90ce-69adb5048fb2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7d628b79-385e-4d49-9e7c-14085fce680c-attachment.txt", "type": "text/plain"}], "start": 1764816370143, "stop": 1764816370207}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "14a6edd7-e2b3-4770-a043-c5f05d081e49-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "826d8d5d-a130-41e3-b26f-0f30939cf3bf-attachment.txt", "type": "text/plain"}], "start": 1764816370207, "stop": 1764816370209}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "39249ccc-803c-493b-9b7f-7a412cce94c1-attachment.txt", "type": "text/plain"}], "start": 1764816370209, "stop": 1764816370209}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bd6c7048-02cb-486d-99e3-ea950531a912-attachment.txt", "type": "text/plain"}], "start": 1764816370209, "stop": 1764816370210}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816372262, "stop": 1764816372327}], "attachments": [{"name": "时区处理", "source": "e74c8739-6774-47e0-9342-262e6c2438a4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a4c0c037-5a64-4827-95fd-07172cfbef7c-attachment.txt", "type": "text/plain"}], "start": 1764816372260, "stop": 1764816372327}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "888b7c9d-4758-48d4-9e49-dd43da57c12f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8ef3b8cd-deb5-4ef3-8d62-866399a03380-attachment.txt", "type": "text/plain"}], "start": 1764816372327, "stop": 1764816372327}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5b4c908a-a3fd-46eb-883d-e7c3ec020c1b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "8205fe48-a649-4a10-8eb5-10726d7131de-attachment.txt", "type": "text/plain"}], "start": 1764816372327, "stop": 1764816372327}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7b612c4f-26df-4a2d-8fd2-2976f8cb54dd-attachment.txt", "type": "text/plain"}], "start": 1764816372327, "stop": 1764816372327}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816374379, "stop": 1764816374439}], "attachments": [{"name": "时区处理", "source": "d4848c48-11c2-4bcf-a38e-b12f09868978-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3096c2ee-d35b-4914-aa6d-5f74aa1ef4de-attachment.txt", "type": "text/plain"}], "start": 1764816374378, "stop": 1764816374439}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a4615714-9704-40cc-8766-18d7419a85c3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9d60f628-d395-4e8a-94ab-27e24eb41d4e-attachment.txt", "type": "text/plain"}], "start": 1764816374439, "stop": 1764816374440}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "00e8462f-2fe6-4379-b8ab-57a93a1d96b5-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "b483df56-9d92-4cf1-b64b-33aa22c49784-attachment.txt", "type": "text/plain"}], "start": 1764816374440, "stop": 1764816374441}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "621474e3-7918-4691-9dd1-d452e1dbc68d-attachment.txt", "type": "text/plain"}], "start": 1764816374441, "stop": 1764816374441}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816376496, "stop": 1764816376557}], "attachments": [{"name": "时区处理", "source": "fb3277a4-b95b-4df2-88b3-880d1e6598c6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e27bf261-1aa0-426e-a3b4-243919ed0b53-attachment.txt", "type": "text/plain"}], "start": 1764816376496, "stop": 1764816376557}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9a8132e3-0a17-4da8-8c6d-06349d513c4b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fe98e2d7-3497-4cb7-84bb-58e88f0baa30-attachment.txt", "type": "text/plain"}], "start": 1764816376557, "stop": 1764816376557}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "00721dfe-35f7-406e-860e-cab229e2280d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c458812f-1e06-4503-b014-47a36dbd7644-attachment.txt", "type": "text/plain"}], "start": 1764816376557, "stop": 1764816376557}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "ce12af1d-02f8-4243-aad7-a093fceb12ae-attachment.txt", "type": "text/plain"}], "start": 1764816376557, "stop": 1764816376562}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "01f86d87-acee-4684-a1d3-b5b698c81beb-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "42a871a7-c039-430a-a9d3-e3959ed73876-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c9f81af8-3555-498e-8ab4-93e9f26f1afe-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "2c32ddf9-ad6f-403d-9039-ee26dd501d51-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "6d8230fc-cfa2-414f-97f7-fec01e5c7a13-attachment.txt", "type": "text/plain"}], "start": 1764816376562, "stop": 1764816376562}], "start": 1764816370097, "stop": 1764816376562}], "start": 1764816370097, "stop": 1764816376562}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "567ee90e-15f9-4036-8060-9bf790f8a95e-attachment.attach", "type": "text/plain"}], "start": 1764816376562, "stop": 1764816376562}], "start": 1764816376562, "stop": 1764816376562}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "4b793496-9edd-4d61-9d2c-60363d1a4e8c-attachment.attach", "type": "text/plain"}], "start": 1764816376562, "stop": 1764816376568}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "b79fbee5-5a6a-48fe-8f8c-042c823369c8-attachment.attach", "type": "text/plain"}], "start": 1764816376568, "stop": 1764816376568}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "bbb39352-d1ca-47c0-be97-1e79d2c90421-attachment.attach", "type": "text/plain"}], "start": 1764816376568, "stop": 1764816376568}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "9704f56d-15b2-442f-95da-386c59a2a2f3-attachment.attach", "type": "text/plain"}], "start": 1764816376568, "stop": 1764816376568}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "2ea38d33-c1de-4d96-a48e-f3df344b5ccf-attachment.attach", "type": "text/plain"}], "start": 1764816376568, "stop": 1764816376568}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "8d195e62-0e72-4740-88b0-2c200c00da38-attachment.attach", "type": "text/plain"}], "start": 1764816376568, "stop": 1764816376568}, {"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "786b1b59-e375-4fa1-80dd-486fe72a1122-attachment.attach", "type": "text/plain"}], "start": 1764816376568, "stop": 1764816376572}], "start": 1764816376562, "stop": 1764816376572}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "6e87fbfe-12a0-44af-8085-ad9886436389-attachment.attach", "type": "text/plain"}], "start": 1764816376572, "stop": 1764816376573}], "start": 1764816376572, "stop": 1764816376573}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "e803b8bb-1e68-4499-a27f-36415ae7e575-attachment.attach", "type": "text/plain"}], "start": 1764816376573, "stop": 1764816376573}], "start": 1764816376573, "stop": 1764816376573}], "start": 1764816376562, "stop": 1764816376573}], "attachments": [{"name": "log", "source": "6b68d2a3-2d30-4c24-871e-e69003f3e916-attachment.txt", "type": "text/plain"}], "start": 1764816370097, "stop": 1764816376573, "uuid": "afb9aea2-a77a-404b-805c-55c6fb70ecb0", "historyId": "aa9cad2104c6c6ca39e998befb5a1503", "testCaseId": "aa9cad2104c6c6ca39e998befb5a1503", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}