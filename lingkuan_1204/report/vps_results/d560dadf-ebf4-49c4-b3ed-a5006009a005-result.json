{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816398723, "stop": 1764816398772}], "attachments": [{"name": "时区处理", "source": "f0f763fb-7f4c-41f5-b5f4-fe9aea4ac1c0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "dcda6169-9479-41f1-837b-96df21dfff42-attachment.txt", "type": "text/plain"}], "start": 1764816398722, "stop": 1764816398772}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7a692a2f-f541-4368-8df8-0a6a838aa66b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8324d6dc-4cbb-4ea4-859f-b41d9f405872-attachment.txt", "type": "text/plain"}], "start": 1764816398772, "stop": 1764816398773}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "a7f0ed4f-536a-4a12-a8bb-be149a899da6-attachment.txt", "type": "text/plain"}], "start": 1764816398773, "stop": 1764816398773}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "27df1e71-7ff8-47f8-9dfb-8f6bcb7144f9-attachment.txt", "type": "text/plain"}], "start": 1764816398773, "stop": 1764816398774}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816400827, "stop": 1764816400874}], "attachments": [{"name": "时区处理", "source": "f3622fa0-5415-4581-95fb-52ef28f59f48-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f00466b7-01a8-40b2-a270-969694f6d322-attachment.txt", "type": "text/plain"}], "start": 1764816400826, "stop": 1764816400874}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fe033619-c9b6-4f09-83db-657ef7ab5c76-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3b7bd596-4ca9-4f6c-98e2-8aedb377048a-attachment.txt", "type": "text/plain"}], "start": 1764816400874, "stop": 1764816400877}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6cc8d369-cbf5-4213-b60a-01a79965196b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "07527cfe-fecb-4d1d-a809-79d67f0d0452-attachment.txt", "type": "text/plain"}], "start": 1764816400877, "stop": 1764816400878}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "38882620-cb06-4fdf-8d8f-1bc3a4f3f442-attachment.txt", "type": "text/plain"}], "start": 1764816400878, "stop": 1764816400878}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816402938, "stop": 1764816402990}], "attachments": [{"name": "时区处理", "source": "6e60cec5-dd21-48df-9d0b-a83b468ff418-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c3d36d56-709e-474f-8315-c460303bcf76-attachment.txt", "type": "text/plain"}], "start": 1764816402937, "stop": 1764816402990}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "166b7c2b-8611-439c-aa65-f5b3b3f9c30d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d22c3510-f8c5-4e3c-b4b1-6cfdac9b1ce6-attachment.txt", "type": "text/plain"}], "start": 1764816402990, "stop": 1764816402991}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "15065b01-a9f9-4926-b284-5ec8ecc8f598-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "de0fc7be-a5c3-4099-9719-8513d11e6c1e-attachment.txt", "type": "text/plain"}], "start": 1764816402991, "stop": 1764816402993}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "15386ae9-863a-4061-81ce-cda072991c6a-attachment.txt", "type": "text/plain"}], "start": 1764816402993, "stop": 1764816402994}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "c6d0b820-3d90-4bdb-ac0d-1ef38fbc43fe-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "06e3840e-59c4-447f-9451-d6e8785509f0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7be51e97-13bb-4f23-9873-402fed232a2b-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "fae5009c-e41c-4241-93ec-44874924b3cd-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "b17219d2-afa2-486d-bb60-2a31b7f8ec01-attachment.txt", "type": "text/plain"}], "start": 1764816402994, "stop": 1764816402997}], "start": 1764816398671, "stop": 1764816402997}], "start": 1764816398671, "stop": 1764816402997}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "91cbbf7d-a0dc-4898-a04a-f749150570fa-attachment.attach", "type": "text/plain"}], "start": 1764816402998, "stop": 1764816403000}], "start": 1764816402997, "stop": 1764816403000}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "9cbc2fed-3404-4b73-b6a5-a6b3ba2cc2b9-attachment.attach", "type": "text/plain"}], "start": 1764816403000, "stop": 1764816403001}], "start": 1764816403000, "stop": 1764816403001}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "db50f8b3-9a90-4dce-9d63-073bd5ac5772-attachment.attach", "type": "text/plain"}], "start": 1764816403001, "stop": 1764816403001}], "start": 1764816403001, "stop": 1764816403001}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "d3acecb3-b739-4a74-ba6e-03394768f52e-attachment.attach", "type": "text/plain"}], "start": 1764816403003, "stop": 1764816403004}], "attachments": [{"name": "总手数列表", "source": "356155e7-b60b-494f-8c53-8950716ea386-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "45af00ab-f9c0-4d8f-b91c-aaf82a8b4907-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "31cbdecc-9302-49d5-a9b2-607f987be66c-attachment.attach", "type": "text/plain"}], "start": 1764816403001, "stop": 1764816403004}], "start": 1764816403001, "stop": 1764816403004}], "start": 1764816402997, "stop": 1764816403004}], "attachments": [{"name": "log", "source": "ece9d27b-03c7-4f21-ac7b-e750e08f888a-attachment.txt", "type": "text/plain"}], "start": 1764816398671, "stop": 1764816403004, "uuid": "0bdc0048-0d1e-4959-8e3c-b39b4a09231e", "historyId": "0321feadb6fd24bfe8d2727d6a3aa7b9", "testCaseId": "0321feadb6fd24bfe8d2727d6a3aa7b9", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}