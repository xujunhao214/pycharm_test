{"name": "数据库校验-策略开仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816279674, "stop": 1764816279723}], "attachments": [{"name": "时区处理", "source": "f056132b-c1ad-4000-8476-83c35edafbdb-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0baf29d1-3716-4c9c-823a-7ebf693c4ca6-attachment.txt", "type": "text/plain"}], "start": 1764816279673, "stop": 1764816279723}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c38d639d-a0d1-4d4b-a640-38d90667edfa-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "aa58af1f-c977-4d83-9a4a-dd1fff01d1d0-attachment.txt", "type": "text/plain"}], "start": 1764816279723, "stop": 1764816279724}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "2b7bc2a9-5d9c-415a-8f8d-68b25186747c-attachment.txt", "type": "text/plain"}], "start": 1764816279724, "stop": 1764816279725}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b3d1ea2c-aecd-4faa-a97f-45f6bb722130-attachment.txt", "type": "text/plain"}], "start": 1764816279725, "stop": 1764816279725}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816281786, "stop": 1764816281833}], "attachments": [{"name": "时区处理", "source": "bbcea767-c799-4575-90d6-e5f72a925fab-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "480f2ce2-42b9-43ba-8fa7-fa3de5584f03-attachment.txt", "type": "text/plain"}], "start": 1764816281784, "stop": 1764816281833}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "33cb13b7-13ac-4b16-af2e-ddf2cb5f392a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3ab97818-457d-4fff-bd04-7c130dfa2606-attachment.txt", "type": "text/plain"}], "start": 1764816281833, "stop": 1764816281833}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f8dc9752-310e-49eb-a417-722c2bf2923b-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "fb589f12-5219-4e34-b92b-80f02be103a9-attachment.txt", "type": "text/plain"}], "start": 1764816281833, "stop": 1764816281834}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "bca7b9a2-b3d7-40fb-883f-7430d1aac3f2-attachment.txt", "type": "text/plain"}], "start": 1764816281834, "stop": 1764816281834}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816283882, "stop": 1764816283928}], "attachments": [{"name": "时区处理", "source": "ee654437-d45a-49f3-a475-e1321431aa27-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "76942481-963b-4e79-9900-dde60742695c-attachment.txt", "type": "text/plain"}], "start": 1764816283881, "stop": 1764816283928}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e36bb1cf-a255-4139-972a-c46a44ed87ce-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1c7db6f3-bcb5-4593-af59-0071312aef06-attachment.txt", "type": "text/plain"}], "start": 1764816283928, "stop": 1764816283929}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5c29c102-f2ce-49ec-81a0-9ba1a18dd8c4-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "071c6911-e415-4061-bb28-193b65e3d51d-attachment.txt", "type": "text/plain"}], "start": 1764816283929, "stop": 1764816283930}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "cadc23ef-7ee3-404b-9cb2-4d33b52cfa8e-attachment.txt", "type": "text/plain"}], "start": 1764816283930, "stop": 1764816283931}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "a05e703f-f359-4d2e-bd12-ac19bbc96084-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "fe5707da-825a-408a-b73c-be963fddee3a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4b577d35-3494-4638-a805-e8f18b7268d6-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "fcb36dae-0eeb-4461-a207-0950eb2ab66f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "1b32ae6d-a2f6-44f7-9c61-8627116f57e4-attachment.txt", "type": "text/plain"}], "start": 1764816283931, "stop": 1764816283933}], "start": 1764816279629, "stop": 1764816283933}], "start": 1764816279628, "stop": 1764816283933}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "d524835e-00d9-4a4a-9782-ac519394a717-attachment.attach", "type": "text/plain"}], "start": 1764816283933, "stop": 1764816283933}], "start": 1764816283933, "stop": 1764816283933}, {"name": "验证开仓的订单数量", "status": "passed", "steps": [{"name": "校验: 开仓的订单数量应该不是5", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "528bf605-d8e6-4778-841d-90f30975782f-attachment.attach", "type": "text/plain"}], "start": 1764816283933, "stop": 1764816283934}], "start": 1764816283933, "stop": 1764816283934}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "2fd095c5-38e9-4673-bba2-cf4f32867899-attachment.attach", "type": "text/plain"}], "start": 1764816283935, "stop": 1764816283935}], "attachments": [{"name": "总手数列表", "source": "ad83ad81-3d8d-468a-a8d7-9e09645f9560-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "2948aef5-0fb4-4cf4-a034-f055fe2b1d4e-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "0f5678ac-1e9e-4d7c-a826-6a6851c819d4-attachment.attach", "type": "text/plain"}], "start": 1764816283934, "stop": 1764816283935}], "start": 1764816283934, "stop": 1764816283935}], "start": 1764816283933, "stop": 1764816283935}], "attachments": [{"name": "log", "source": "c1c96ac3-c9d2-4c91-94a5-10b1b748d0f8-attachment.txt", "type": "text/plain"}], "start": 1764816279628, "stop": 1764816283935, "uuid": "31a2019e-a968-40bb-bd0b-798ea9ecb79d", "historyId": "75c9c8462d47913d8829e0e8dbb9ab8b", "testCaseId": "75c9c8462d47913d8829e0e8dbb9ab8b", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend5#test_dbquery_addsalve_MT5orderSend", "labels": [{"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}