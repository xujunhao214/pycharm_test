{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816285461, "stop": 1764816285522}], "attachments": [{"name": "时区处理", "source": "4988d318-f3af-43dc-a0ee-1b3240eadf2a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a8bdcaba-57af-4565-9a8f-2c25f469856c-attachment.txt", "type": "text/plain"}], "start": 1764816285460, "stop": 1764816285522}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c1ce0f84-a4ea-412a-ae88-97afd27928c0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0affd035-635a-4bae-9435-16f4cfbabb29-attachment.txt", "type": "text/plain"}], "start": 1764816285522, "stop": 1764816285522}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "3926d1f3-d7b8-4d0a-8c14-56b445fbcde7-attachment.txt", "type": "text/plain"}], "start": 1764816285522, "stop": 1764816285523}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "c60eea41-a4f4-4883-82ad-a5f3968ce101-attachment.txt", "type": "text/plain"}], "start": 1764816285523, "stop": 1764816285523}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816287579, "stop": 1764816287644}], "attachments": [{"name": "时区处理", "source": "c39881e0-5457-4f48-8fe1-c5b08dc4bd83-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f1552322-b23f-4792-ab4b-25bcb3bf5608-attachment.txt", "type": "text/plain"}], "start": 1764816287578, "stop": 1764816287644}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f0bd0e4a-7b85-4b8f-a7b1-f67c4afd782c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "fbd0d6d4-ab0e-46a2-ab1c-5903233046d5-attachment.txt", "type": "text/plain"}], "start": 1764816287644, "stop": 1764816287644}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6c5b2577-e81c-4d31-bed0-1642b770f742-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "834e4a5b-1f75-47a2-9ca2-da3583e5b19d-attachment.txt", "type": "text/plain"}], "start": 1764816287645, "stop": 1764816287645}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "df92e369-88cf-4f54-a991-892503d5dadd-attachment.txt", "type": "text/plain"}], "start": 1764816287645, "stop": 1764816287645}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816289699, "stop": 1764816289758}], "attachments": [{"name": "时区处理", "source": "46b763cb-d75c-4d8d-80ee-c7c8930a46f9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e684136a-789f-4b43-9e4a-37d1ff976c1c-attachment.txt", "type": "text/plain"}], "start": 1764816289698, "stop": 1764816289758}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6bdce2fc-c254-445c-b5f2-a379021be065-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "11cbf1fa-8767-4cfa-b58a-b7df9d675689-attachment.txt", "type": "text/plain"}], "start": 1764816289758, "stop": 1764816289759}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "36a44d93-9f5a-4887-b9ca-d354bd15e0fe-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "c0ce5d3b-4413-4a83-bedd-02ef2dc0f3b5-attachment.txt", "type": "text/plain"}], "start": 1764816289759, "stop": 1764816289760}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "bc334f32-85d4-4fe8-8083-5afe6a731150-attachment.txt", "type": "text/plain"}], "start": 1764816289760, "stop": 1764816289760}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816291818, "stop": 1764816291885}], "attachments": [{"name": "时区处理", "source": "ee23c279-de7d-43da-a796-2f52ffa67bce-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8a075f4a-5d4b-4100-9146-432f6c5bcc67-attachment.txt", "type": "text/plain"}], "start": 1764816291817, "stop": 1764816291885}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c8f6d9f5-34a4-4733-853c-e287afe83db1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "417899f3-3601-4635-91f6-059b29136c6c-attachment.txt", "type": "text/plain"}], "start": 1764816291885, "stop": 1764816291886}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "c9b72b4d-3846-4086-b3c9-e05fb3f41bff-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "7bfe4eed-218b-4590-bd48-9742d999fbbc-attachment.txt", "type": "text/plain"}], "start": 1764816291886, "stop": 1764816291887}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "1cee826b-7601-42f7-86a1-fed4974cd68c-attachment.txt", "type": "text/plain"}], "start": 1764816291887, "stop": 1764816291888}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "722afaaa-15a7-4088-8e70-61069fb98510-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "90b1d720-b79f-4362-8740-56004c555ccb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "583be2df-7faa-4f23-bd7d-20738bf9345b-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "181145f6-a009-4d8a-b8b0-9abbdee4809c-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "691a434e-7398-4a61-aecc-ec1c7d56bca0-attachment.txt", "type": "text/plain"}], "start": 1764816291888, "stop": 1764816291890}], "start": 1764816285414, "stop": 1764816291890}], "start": 1764816285414, "stop": 1764816291890}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "dd2ee357-aacc-4706-9fbd-f2cd527a4458-attachment.attach", "type": "text/plain"}], "start": 1764816291890, "stop": 1764816291890}], "start": 1764816291890, "stop": 1764816291890}, {"name": "验证开仓的订单数量", "status": "passed", "steps": [{"name": "校验: 开仓的订单数量应该不是5", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "e1d13bf6-de6b-402f-954d-ba9951b77ad7-attachment.attach", "type": "text/plain"}], "start": 1764816291890, "stop": 1764816291891}], "start": 1764816291890, "stop": 1764816291891}], "start": 1764816291890, "stop": 1764816291891}], "attachments": [{"name": "log", "source": "725cdfc1-8396-4788-813b-f0a2a686dddb-attachment.txt", "type": "text/plain"}], "start": 1764816285414, "stop": 1764816291891, "uuid": "4525c2be-3376-439b-ae03-2b40a605bac5", "historyId": "30dbb8f12ae34a21d329446c88844a0d", "testCaseId": "30dbb8f12ae34a21d329446c88844a0d", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend5#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}