{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816296804, "stop": 1764816296852}], "attachments": [{"name": "时区处理", "source": "95f5a5ba-a0b1-4e83-a59d-73161699b0e9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "207fd62d-921b-4a91-9326-5974f5bda473-attachment.txt", "type": "text/plain"}], "start": 1764816296803, "stop": 1764816296852}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "23749809-715e-4b16-b50d-2ab6ad1ef481-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1bc88da3-2cb8-4b7f-97ff-db145595573c-attachment.txt", "type": "text/plain"}], "start": 1764816296852, "stop": 1764816296853}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "313519ef-e6cc-466f-ac19-2d333a962df7-attachment.txt", "type": "text/plain"}], "start": 1764816296853, "stop": 1764816296853}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "974d2151-7f48-4663-8f22-8d1f9dabd2a3-attachment.txt", "type": "text/plain"}], "start": 1764816296853, "stop": 1764816296853}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816298909, "stop": 1764816298956}], "attachments": [{"name": "时区处理", "source": "e82645bc-87cc-4fc7-b015-ce8c197780b7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "24416421-4424-4786-a9b0-f204588f685b-attachment.txt", "type": "text/plain"}], "start": 1764816298908, "stop": 1764816298956}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3cbddc51-b45d-4463-add5-196adfafd29c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1122fc23-43d5-4c4e-a84f-ef1adc86863f-attachment.txt", "type": "text/plain"}], "start": 1764816298956, "stop": 1764816298957}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "6a6d06e8-47c9-47bc-8fb0-ee580c0d70e9-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "452a7ba5-8008-41a4-a360-31d3335a0662-attachment.txt", "type": "text/plain"}], "start": 1764816298957, "stop": 1764816298958}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "1a001c3e-a200-42a5-88f7-fedfd3aee8f0-attachment.txt", "type": "text/plain"}], "start": 1764816298958, "stop": 1764816298959}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816301018, "stop": 1764816301066}], "attachments": [{"name": "时区处理", "source": "49707f39-582a-47d5-a950-07d9ec43b7e2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3562a487-1994-4129-87af-bb404236abf6-attachment.txt", "type": "text/plain"}], "start": 1764816301016, "stop": 1764816301066}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "99ece4a1-5957-4fd2-9942-02ca20e1aa4e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7b89ab8a-555c-490f-907c-787aac63f289-attachment.txt", "type": "text/plain"}], "start": 1764816301066, "stop": 1764816301067}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "fabd0837-a503-4b2d-8593-1b2324695eb3-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "4a84aa32-203c-49a3-8604-e27ac4f46906-attachment.txt", "type": "text/plain"}], "start": 1764816301067, "stop": 1764816301068}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "bc53f80d-dc09-4b6d-b66b-ab76308bb5e2-attachment.txt", "type": "text/plain"}], "start": 1764816301068, "stop": 1764816301068}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "6c3c9e78-c428-48f2-aae2-60c0d2352c6f-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "ecafcfa1-5318-4df9-ad94-19e144f39120-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "66f540f5-c4ed-4068-962c-bc6203586157-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "1b957885-e8c2-4d22-b74d-4e7854d31283-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "cf509712-1c10-49d2-a6da-49bf1bf2976f-attachment.txt", "type": "text/plain"}], "start": 1764816301068, "stop": 1764816301070}], "start": 1764816296757, "stop": 1764816301070}], "start": 1764816296757, "stop": 1764816301070}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "465e20fe-2162-4c4e-bafb-b8b24aa9e384-attachment.attach", "type": "text/plain"}], "start": 1764816301070, "stop": 1764816301070}], "start": 1764816301070, "stop": 1764816301070}, {"name": "验证开仓的订单数量", "status": "passed", "steps": [{"name": "校验: 开仓的订单数量应该不是5", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "e17ce719-3ef4-400c-9d05-8f7d580e903b-attachment.attach", "type": "text/plain"}], "start": 1764816301070, "stop": 1764816301071}], "start": 1764816301070, "stop": 1764816301071}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "4be542d3-4726-482d-aa27-8d5826bf2fb6-attachment.attach", "type": "text/plain"}], "start": 1764816301072, "stop": 1764816301072}], "attachments": [{"name": "总手数列表", "source": "8a2e2a79-f520-4852-9abd-d7c3b0e8beb6-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "f69dcc3f-c63c-4396-b31c-10d5667ea1b4-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "33f55f85-e4f9-468a-82f7-a606060afb8c-attachment.attach", "type": "text/plain"}], "start": 1764816301071, "stop": 1764816301072}], "start": 1764816301071, "stop": 1764816301072}], "start": 1764816301070, "stop": 1764816301072}], "attachments": [{"name": "log", "source": "5f5deaca-4452-4cf1-95e7-005c18b8bfe1-attachment.txt", "type": "text/plain"}], "start": 1764816296757, "stop": 1764816331079, "uuid": "c3ca710c-b355-4d8a-8fa2-ab2b31a0802f", "historyId": "2ce68055edfd5a4c45eb76bd6b9bd8a1", "testCaseId": "2ce68055edfd5a4c45eb76bd6b9bd8a1", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend5#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}