{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816292183, "stop": 1764816292243}], "attachments": [{"name": "时区处理", "source": "d818479d-f452-4796-964c-8ad6d714c83c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ab0616ae-c09d-4090-abcb-5efe3f8d53f9-attachment.txt", "type": "text/plain"}], "start": 1764816292182, "stop": 1764816292243}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "26bd310e-ea31-4580-a14e-1494f9d4c7ca-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1215aafa-b6f6-4dbc-9c5a-7dc5c2fe547b-attachment.txt", "type": "text/plain"}], "start": 1764816292243, "stop": 1764816292244}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "1f61d07e-bf71-4fc5-b09d-3227b8ac7a83-attachment.txt", "type": "text/plain"}], "start": 1764816292244, "stop": 1764816292245}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "596e2e6d-e258-425b-bea1-565e8673c9a6-attachment.txt", "type": "text/plain"}], "start": 1764816292245, "stop": 1764816292245}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816294301, "stop": 1764816294368}], "attachments": [{"name": "时区处理", "source": "d42983db-9051-4b88-88bc-d5f064e83a4f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a074272f-b147-41b6-8a0a-43940ab2bcf4-attachment.txt", "type": "text/plain"}], "start": 1764816294300, "stop": 1764816294368}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3a06158b-5631-496a-8d4c-e7ee138a59df-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "698f1a4d-c0b0-4690-8c97-6db7f7b6ca81-attachment.txt", "type": "text/plain"}], "start": 1764816294368, "stop": 1764816294369}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "7124c14f-8890-48e3-86a7-c2f7783f7a6d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "fa876569-011b-4858-8baa-e7f4a94d537f-attachment.txt", "type": "text/plain"}], "start": 1764816294369, "stop": 1764816294370}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "def2d0b2-ee85-4471-9340-4f146592be11-attachment.txt", "type": "text/plain"}], "start": 1764816294370, "stop": 1764816294370}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816296423, "stop": 1764816296483}], "attachments": [{"name": "时区处理", "source": "73b28e41-fbbd-4652-828f-2f9548cb861c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3fcd7e59-13fa-42e6-aca5-d0a0331c29e8-attachment.txt", "type": "text/plain"}], "start": 1764816296422, "stop": 1764816296483}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7297b4a2-c097-4a49-b47b-270734cb6435-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9aaadb51-f4ac-487d-8a5f-7018596e3787-attachment.txt", "type": "text/plain"}], "start": 1764816296483, "stop": 1764816296484}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5c41b771-6653-4af3-b0bb-eaf07d8d8b68-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d6b9f49b-da30-4db8-ae5a-ff0dd204b045-attachment.txt", "type": "text/plain"}], "start": 1764816296484, "stop": 1764816296485}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f86e77b0-41ba-48c7-b5aa-cb12be2d2d49-attachment.txt", "type": "text/plain"}], "start": 1764816296485, "stop": 1764816296485}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "6dc93adb-a343-40e5-90eb-9db16dfdb743-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "41bdc225-6540-4bcc-b755-6733f48c6ee5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4848fa36-9b97-4872-898f-92ca1738f85f-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "4fd64e90-7c09-4157-88c6-5f0f845a0d36-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "89357e77-4363-4ce7-a6c1-aea09cc83ec4-attachment.txt", "type": "text/plain"}], "start": 1764816296486, "stop": 1764816296487}], "start": 1764816292137, "stop": 1764816296487}], "start": 1764816292137, "stop": 1764816296487}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "b26c60f7-1834-4643-9e3d-9ba406098e67-attachment.attach", "type": "text/plain"}], "start": 1764816296487, "stop": 1764816296487}], "start": 1764816296487, "stop": 1764816296487}, {"name": "验证开仓的订单数量", "status": "passed", "steps": [{"name": "校验: 开仓的订单数量应该不是5", "status": "passed", "attachments": [{"name": "订单数量详情", "source": "70a374ee-96c4-43bb-a529-6e893093577c-attachment.attach", "type": "text/plain"}], "start": 1764816296488, "stop": 1764816296488}], "start": 1764816296487, "stop": 1764816296488}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "00932588-f061-4005-9b46-02268f25ea95-attachment.attach", "type": "text/plain"}], "start": 1764816296489, "stop": 1764816296489}], "attachments": [{"name": "总手数列表", "source": "685edf38-958d-4d7f-82e6-d25fc42b1db0-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "34dad501-b7c2-4053-9a78-d2a209f7de50-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "4f06c142-75ea-4410-a01b-4975688d1f2d-attachment.attach", "type": "text/plain"}], "start": 1764816296488, "stop": 1764816296489}], "start": 1764816296488, "stop": 1764816296489}], "start": 1764816296487, "stop": 1764816296489}], "attachments": [{"name": "log", "source": "9879d9a2-f6cf-488c-886a-b5ca2f48a412-attachment.txt", "type": "text/plain"}], "start": 1764816292137, "stop": 1764816296489, "uuid": "c0b21ffa-19ca-4d49-a580-852a1bfb35a0", "historyId": "db2baa3388208c33ec9ab848595a6d9f", "testCaseId": "db2baa3388208c33ec9ab848595a6d9f", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend5#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}