{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816376856, "stop": 1764816376913}], "attachments": [{"name": "时区处理", "source": "6152de04-e01a-4a7e-a2cb-56cfc06d3824-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1dc89b9f-f31e-489a-87c8-e57676e71954-attachment.txt", "type": "text/plain"}], "start": 1764816376856, "stop": 1764816376913}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "50db5517-0b5d-41c3-b828-a3a60a725f69-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "766845c7-5e9d-4339-96a3-4011ce83ac24-attachment.txt", "type": "text/plain"}], "start": 1764816376913, "stop": 1764816376913}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "67178bdb-f0d4-4ded-b369-5362bd9ea1c1-attachment.txt", "type": "text/plain"}], "start": 1764816376913, "stop": 1764816376913}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8828e5de-7c72-40a7-8a88-1218c421f7f8-attachment.txt", "type": "text/plain"}], "start": 1764816376913, "stop": 1764816376921}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816378978, "stop": 1764816379039}], "attachments": [{"name": "时区处理", "source": "e245d3ae-9a79-4d36-a8df-0a57f6053de4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5851cd87-7e7d-461f-b368-2b2b823b26f7-attachment.txt", "type": "text/plain"}], "start": 1764816378977, "stop": 1764816379039}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dcb328fd-3328-43b7-83cb-488388a593ae-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6071e3c7-8d32-4452-83cd-f50824f91e58-attachment.txt", "type": "text/plain"}], "start": 1764816379039, "stop": 1764816379041}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "fe8d839a-3dbf-4a82-ba83-ea5d4c191a99-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "870c9f9b-5ecb-4371-8af2-b41bffecd959-attachment.txt", "type": "text/plain"}], "start": 1764816379041, "stop": 1764816379043}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "7d92d0c3-2198-4002-8593-71983b348be8-attachment.txt", "type": "text/plain"}], "start": 1764816379043, "stop": 1764816379043}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816381099, "stop": 1764816381160}], "attachments": [{"name": "时区处理", "source": "88949c0e-138f-44b8-9c39-103bd90211d9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0ba8fd8c-1828-4e38-9e33-a8ad56678b00-attachment.txt", "type": "text/plain"}], "start": 1764816381098, "stop": 1764816381160}, {"name": "轮询中（已等待4.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6dcedd04-52a7-4ec7-bde1-09ed4abe2c74-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2e058e31-4f7e-4e07-b455-24d0f62fac8b-attachment.txt", "type": "text/plain"}], "start": 1764816381160, "stop": 1764816381161}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "0d7c2f6a-110d-4d98-8df6-0928345f63ac-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "6eb1a6d5-5b9d-47f5-a25a-d9389f8086d6-attachment.txt", "type": "text/plain"}], "start": 1764816381161, "stop": 1764816381162}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "6db23aa2-92b2-4606-b550-792adfec7571-attachment.txt", "type": "text/plain"}], "start": 1764816381163, "stop": 1764816381163}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共7条，显示前50条）", "source": "1a92ae66-3782-4fab-b0e1-49f745f7dcd6-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "5b122124-bf20-4069-8ce4-67a40b6d3b62-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a12975f7-4e5e-4ba7-b5bc-ffe76c2f29c5-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "3036b910-9ba6-4133-aaaa-550e5ed4ef95-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "ba32785d-59e0-49df-bb6a-a73ad44034ae-attachment.txt", "type": "text/plain"}], "start": 1764816381163, "stop": 1764816381167}], "start": 1764816376810, "stop": 1764816381167}], "start": 1764816376810, "stop": 1764816381167}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "8da0fb48-93a8-4b92-b038-149d4de59d79-attachment.attach", "type": "text/plain"}], "start": 1764816381167, "stop": 1764816381168}], "start": 1764816381167, "stop": 1764816381168}, {"name": "验证详情手数", "status": "passed", "steps": [{"name": "校验: 实际手数应符合预期", "status": "passed", "attachments": [{"name": "实际手数", "source": "597545f3-d7ad-4956-99af-259ddcb897e2-attachment.attach", "type": "text/plain"}], "start": 1764816381168, "stop": 1764816381169}], "start": 1764816381168, "stop": 1764816381169}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "b3afd0ed-4168-457d-a3ce-c9bb28a04199-attachment.attach", "type": "text/plain"}], "start": 1764816381169, "stop": 1764816381170}], "start": 1764816381169, "stop": 1764816381170}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "66f64b68-3716-4f33-90d0-f547e10b1848-attachment.attach", "type": "text/plain"}], "start": 1764816381170, "stop": 1764816381170}], "start": 1764816381170, "stop": 1764816381170}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "3b7003b8-3eb1-4b93-b5ff-5f15528cc276-attachment.attach", "type": "text/plain"}], "start": 1764816381173, "stop": 1764816381173}], "attachments": [{"name": "总手数列表", "source": "7e6f06a3-9426-48d4-a2b4-8dc109553f91-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "33cf6df0-8eb6-4ea3-a7d7-8951a59dee9d-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "1b59f6ce-2f26-4f3a-b6d5-7de680dcb687-attachment.attach", "type": "text/plain"}], "start": 1764816381171, "stop": 1764816381173}], "start": 1764816381171, "stop": 1764816381174}], "start": 1764816381167, "stop": 1764816381174}], "attachments": [{"name": "log", "source": "0f974532-0ea2-4535-902a-48b9b57fd943-attachment.txt", "type": "text/plain"}], "start": 1764816376810, "stop": 1764816381174, "uuid": "61d01d41-a064-4866-86be-f5b91bb42ad8", "historyId": "4ebbb6520c119abdc2ba009840813dc7", "testCaseId": "4ebbb6520c119abdc2ba009840813dc7", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend7#test_dbquery_addsalve_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}