{"name": "数据库校验-策略开仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.6-1，总手数1\n      2. 校验手数范围限制是否生效，只有一个订单，订单手数大于等于0.6\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确，权重正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816344851, "stop": 1764816344900}], "attachments": [{"name": "时区处理", "source": "8db564eb-5058-4f9b-a818-6e3a55c6637c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "983c5010-59d1-4a80-95e3-47d2cb2de973-attachment.txt", "type": "text/plain"}], "start": 1764816344849, "stop": 1764816344900}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "357eba92-bd27-4e7b-b222-410d98cf7819-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e4af372f-1fe2-4d1f-8859-0c9342370e66-attachment.txt", "type": "text/plain"}], "start": 1764816344900, "stop": 1764816344901}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "1ac605b5-f432-4f4f-b2d2-9548502a96c2-attachment.txt", "type": "text/plain"}], "start": 1764816344901, "stop": 1764816344901}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "63db2405-faec-4d86-a377-e933cf7c9254-attachment.txt", "type": "text/plain"}], "start": 1764816344901, "stop": 1764816344903}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816346948, "stop": 1764816347002}], "attachments": [{"name": "时区处理", "source": "1e42f391-4d0d-469f-bd96-acc36e761f4e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "69def459-9849-42ce-934d-0d466868905e-attachment.txt", "type": "text/plain"}], "start": 1764816346948, "stop": 1764816347002}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5bc1f681-de30-4dda-a17d-94745c12370b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9c8a5251-ef24-46f4-a9a3-020c8424d187-attachment.txt", "type": "text/plain"}], "start": 1764816347002, "stop": 1764816347004}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "1ce58502-7fa7-41b8-9110-31696116756d-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "e3884e3b-39f3-4b8a-9047-c29c6180a751-attachment.txt", "type": "text/plain"}], "start": 1764816347004, "stop": 1764816347006}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "58709761-171d-4bfa-8289-38b23f5da731-attachment.txt", "type": "text/plain"}], "start": 1764816347006, "stop": 1764816347006}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816349061, "stop": 1764816349108}], "attachments": [{"name": "时区处理", "source": "80e2a318-c3b7-4011-94cd-92bf8fc7141c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2878f659-78aa-4e15-ab44-7bf95260f291-attachment.txt", "type": "text/plain"}], "start": 1764816349060, "stop": 1764816349108}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9b08574e-79c9-46dc-94c3-5f567460fbbc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f4f6162d-211f-4d61-9a3e-81e54b44ad52-attachment.txt", "type": "text/plain"}], "start": 1764816349108, "stop": 1764816349109}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "1e7e858d-b8a6-4eeb-ad18-1a126b2d46b2-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0490d3a5-d7f0-4e6f-9702-0f9678872dca-attachment.txt", "type": "text/plain"}], "start": 1764816349109, "stop": 1764816349110}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "903179fc-89e8-4ebb-8906-2e7499ce9997-attachment.txt", "type": "text/plain"}], "start": 1764816349111, "stop": 1764816349111}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "86c765ce-1cf2-44bc-8103-93e87367fdc8-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "ea19d074-3342-4fd5-95d0-d765471e6c23-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0f567fdd-8de2-47fc-b647-3d6786135d29-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "9d4a9b3e-ac06-47f6-a535-bee84d54c20c-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "7ab38656-f076-4c13-8a14-08e8003465b6-attachment.txt", "type": "text/plain"}], "start": 1764816349111, "stop": 1764816349112}], "start": 1764816344804, "stop": 1764816349112}], "start": 1764816344804, "stop": 1764816349112}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "bb141184-ed06-4254-a49c-f513e4159941-attachment.attach", "type": "text/plain"}], "start": 1764816349112, "stop": 1764816349113}], "start": 1764816349112, "stop": 1764816349113}, {"name": "验证订单数量", "status": "passed", "steps": [{"name": "校验: 订单数量应符合预期", "status": "passed", "attachments": [{"name": "订单数量", "source": "8bb8945b-a281-419f-9df0-8bcd1e4e02c9-attachment.attach", "type": "text/plain"}], "start": 1764816349113, "stop": 1764816349113}], "start": 1764816349113, "stop": 1764816349113}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "2a9ae306-be10-414b-ba98-f47522233ce2-attachment.attach", "type": "text/plain"}], "start": 1764816349114, "stop": 1764816349114}], "attachments": [{"name": "总手数列表", "source": "3ac5307c-ac7d-4a7b-b1be-8eb66cef2cba-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "96bbea14-6fb9-4c53-a7f1-eec983e1b991-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "c86e72b3-c437-4b9c-baf6-7a0219c679cf-attachment.attach", "type": "text/plain"}], "start": 1764816349113, "stop": 1764816349114}], "start": 1764816349113, "stop": 1764816349114}], "start": 1764816349112, "stop": 1764816349114}], "attachments": [{"name": "log", "source": "65efb5c2-c3b1-49b9-a975-eaa24a8fc447-attachment.txt", "type": "text/plain"}], "start": 1764816344804, "stop": 1764816349115, "uuid": "bb4fdf13-f5ed-4e9e-8731-e836cdfc971e", "historyId": "72177ca591112faed9f1d8d8dbe5f31d", "testCaseId": "72177ca591112faed9f1d8d8dbe5f31d", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend6#test_dbquery_addsalve_MT5orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景6：VPS策略下单-手数范围0.6-1，总手数1"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}