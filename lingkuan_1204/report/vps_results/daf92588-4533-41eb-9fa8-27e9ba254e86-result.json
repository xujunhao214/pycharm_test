{"name": "数据库校验-策略平仓-MT5账号跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总订单3，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+06:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816157209, "stop": 1764816157269}], "attachments": [{"name": "时区处理", "source": "2ffe0fee-aabd-4e86-92af-2b2dc68a9e34-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e3962b2e-436f-429d-9fa3-1746f10f135d-attachment.txt", "type": "text/plain"}], "start": 1764816157208, "stop": 1764816157269}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b2181f55-e83e-45ca-9022-0bbf9bacd581-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9f542547-c2ca-4fed-9fe4-32ca08b069b2-attachment.txt", "type": "text/plain"}], "start": 1764816157269, "stop": 1764816157270}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "53da3281-037a-4428-aa0d-ab4a01c98caf-attachment.txt", "type": "text/plain"}], "start": 1764816157270, "stop": 1764816157270}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1af310a7-8cff-4297-b602-56c8c78256bd-attachment.txt", "type": "text/plain"}], "start": 1764816157270, "stop": 1764816157270}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816159332, "stop": 1764816159380}], "attachments": [{"name": "时区处理", "source": "78d39178-75d1-4526-bf20-933bd23f8a40-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "22f8966d-b205-40be-afd1-d748bb89b1f5-attachment.txt", "type": "text/plain"}], "start": 1764816159332, "stop": 1764816159380}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a614980a-7b60-4148-800a-b70b757e7802-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f784f55d-23fb-45a3-9b23-07a83d3e79d0-attachment.txt", "type": "text/plain"}], "start": 1764816159380, "stop": 1764816159381}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "5cbc2a6c-8a21-450f-90e1-5cb2205183ac-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "ffbc66c1-9032-402a-9929-ff292dc8a667-attachment.txt", "type": "text/plain"}], "start": 1764816159381, "stop": 1764816159382}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "35879e73-dba8-4128-844c-fc6347859aaf-attachment.txt", "type": "text/plain"}], "start": 1764816159382, "stop": 1764816159382}, {"name": "带时区转换查询（目标时区: +06:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764816161435, "stop": 1764816161482}], "attachments": [{"name": "时区处理", "source": "4012b876-f9f9-4aa9-91c3-42b8c265cfe2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5a74d7f0-85e8-4195-8990-d95bed0d38d4-attachment.txt", "type": "text/plain"}], "start": 1764816161434, "stop": 1764816161482}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e5028123-f476-45e5-8345-6210e2e755fa-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5d6d518c-a501-4411-ba40-acb128f30da3-attachment.txt", "type": "text/plain"}], "start": 1764816161482, "stop": 1764816161482}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e51fb56c-8a73-476b-b042-f7696bf87a31-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "fb20d735-20b2-4632-95a3-614cdd444629-attachment.txt", "type": "text/plain"}], "start": 1764816161482, "stop": 1764816161482}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "a75d48bb-cee1-4aa0-bd4d-2ac10b5ec700-attachment.txt", "type": "text/plain"}], "start": 1764816161483, "stop": 1764816161484}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "035981bd-403b-41e0-a4e7-89f01fc55215-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "136ba303-991f-40a6-a047-7bd08744c922-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4a6cbe33-dcd9-4ecf-97b7-dee39e1eb1b7-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "cbfbf76f-6d8d-4b7b-afcb-6985aac9d70f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "240c6c3f-42a1-4693-97ad-1194f276ae25-attachment.txt", "type": "text/plain"}], "start": 1764816161484, "stop": 1764816161485}], "start": 1764816157164, "stop": 1764816161485}], "start": 1764816157164, "stop": 1764816161485}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "8b59f006-e0db-4c41-a734-ce29784a63d8-attachment.attach", "type": "text/plain"}], "start": 1764816161485, "stop": 1764816161485}], "start": 1764816161485, "stop": 1764816161485}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "e164fd6c-a38b-4799-ae91-34428bd6a5a9-attachment.attach", "type": "text/plain"}], "start": 1764816161485, "stop": 1764816161485}], "start": 1764816161485, "stop": 1764816161485}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "steps": [{"name": "总手数列表与详情手数列表匹配", "status": "passed", "attachments": [{"name": "匹配结果", "source": "0c871821-d622-42bb-ab24-3d9aa629f09b-attachment.attach", "type": "text/plain"}], "start": 1764816161486, "stop": 1764816161486}], "attachments": [{"name": "总手数列表", "source": "648648ed-8b15-41d2-b395-78889af66627-attachment.attach", "type": "text/plain"}, {"name": "详情手数列表（预期）", "source": "382f0dff-037d-4af8-a015-0cda11104eff-attachment.attach", "type": "text/plain"}, {"name": "实际总手数列表", "source": "327ffcbe-98ed-4e7e-acfd-2e7c96c923b7-attachment.attach", "type": "text/plain"}], "start": 1764816161485, "stop": 1764816161486}], "start": 1764816161485, "stop": 1764816161486}], "start": 1764816161485, "stop": 1764816161486}], "attachments": [{"name": "log", "source": "49147ca3-a358-49cb-9ca8-a49728846051-attachment.txt", "type": "text/plain"}], "start": 1764816157164, "stop": 1764816161486, "uuid": "e7604eef-758b-45ce-a23a-f8db6e322acb", "historyId": "c8b7ecf141075cee078de37aa483d4f4", "testCaseId": "c8b7ecf141075cee078de37aa483d4f4", "fullName": "test_vps.test_vps_ordersendbuy.TestVPSOrderSend1#test_dbquery_addsalve_MT5orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验-buy"}, {"name": "story", "value": "场景1：复制下单-手数0.1-1，总订单3，总手数1"}, {"name": "tag", "value": "@pytest.mark.usefixtures('class_random_str')"}, {"name": "tag", "value": "flaky(reruns=0, reruns_delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersendbuy"}, {"name": "subSuite", "value": "TestVPSOrdersendbuy"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "78468-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersendbuy"}]}