{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend1 object at 0x000002A7D2CD0130>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x000002A7D2F5E8E0>\ndb_transaction = <pymysql.connections.Connection object at 0x000002A7D2D26460>\n\n    @allure.title(\"数据库校验-策略平仓-跟单指令及订单详情数据检查\")\n    def test_dbquery_addsalve_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            MT5vps_user_accounts_1 = var_manager.get_variable(\"MT5vps_user_accounts_1\")\n            MT5vps_addslave_id = var_manager.get_variable(\"MT5vps_addslave_id\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status,\n                    foi.min_lot_size,\n                    foi.max_lot_size,\n                    foi.total_lots,\n                    foi.master_order,\n                    foi.total_orders\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.trader_id = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                MT5vps_user_accounts_1,\n                MT5vps_addslave_id,\n                \"changjing1\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:498: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend1 object at 0x000002A7D2CD0130>\ndb_transaction = <pymysql.connections.Connection object at 0x000002A7D2D26460>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...                        AND fod.trader_id = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938913', 13397, 'changjing1'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总订单3，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 498, in test_dbquery_addsalve_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "56f84929-1704-4b0e-90dd-c05da6f8a771-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5534db22-9b10-4a51-aeba-c3c1b2016d19-attachment.txt", "type": "text/plain"}], "start": 1761619756387, "stop": 1761619756437}], "attachments": [{"name": "时区处理", "source": "e5a46554-d34b-4345-8f92-9fbbd3cff45c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "493c6661-110a-4f04-945c-112cc151b7ee-attachment.txt", "type": "text/plain"}], "start": 1761619756386, "stop": 1761619756437}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "fde366bd-538c-458e-af20-b29b91263f2b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bce84259-beac-40dd-a785-d1903fe4b6b8-attachment.txt", "type": "text/plain"}], "start": 1761619756437, "stop": 1761619756438}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "21da55d9-c8ca-4aaf-8ee7-c75450ece400-attachment.txt", "type": "text/plain"}], "start": 1761619756438, "stop": 1761619756438}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "aa77f840-e626-4559-a95e-378a32279cfe-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "509ad0c4-885c-4454-b4bc-2f9d1985b036-attachment.txt", "type": "text/plain"}], "start": 1761619758496, "stop": 1761619758546}], "attachments": [{"name": "时区处理", "source": "348aebc8-e88c-4773-896b-2d3ae50e1687-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1402e59c-51fd-4bd7-b6fe-0918dbaa4989-attachment.txt", "type": "text/plain"}], "start": 1761619758496, "stop": 1761619758546}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "70086fd2-e13f-476c-8015-908a195bbf4a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e8242397-8fb6-4f8f-a072-143f8dffffa3-attachment.txt", "type": "text/plain"}], "start": 1761619758546, "stop": 1761619758547}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "da4e17de-59fe-4593-b426-e98ed5bc9f24-attachment.txt", "type": "text/plain"}], "start": 1761619758547, "stop": 1761619758548}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "84144dd8-f5c9-4950-a897-0d1a52e67c3b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d22c93e7-fa87-4972-9703-0867cadb3f31-attachment.txt", "type": "text/plain"}], "start": 1761619760599, "stop": 1761619760648}], "attachments": [{"name": "时区处理", "source": "80a91479-fc63-4d21-9342-e96cfcbcfd8b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "684012b1-08e9-4883-9f87-b4744c647b7a-attachment.txt", "type": "text/plain"}], "start": 1761619760598, "stop": 1761619760648}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3026b408-ba46-42d0-83db-f3b139e7fae5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8c22d3f7-bd73-42c9-a7c6-65f32310c489-attachment.txt", "type": "text/plain"}], "start": 1761619760648, "stop": 1761619760648}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "65ad1fbc-a447-4889-9fdf-e03341a7f160-attachment.txt", "type": "text/plain"}], "start": 1761619760648, "stop": 1761619760649}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "53100a39-1a1d-4818-841d-6400fdb6f607-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f5c5c0fa-04ac-4394-9b2d-f954a654c10e-attachment.txt", "type": "text/plain"}], "start": 1761619762715, "stop": 1761619762765}], "attachments": [{"name": "时区处理", "source": "f28ff75e-8cfb-42a5-98d1-f2e95743b490-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9bf2e6d2-c2fa-4ac5-a0d7-00467bd2ccc9-attachment.txt", "type": "text/plain"}], "start": 1761619762714, "stop": 1761619762765}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "86d9f3a8-79ff-4b20-9c3e-f46351770451-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f1dc581e-c6f9-4c57-827f-fbbbd996f0c7-attachment.txt", "type": "text/plain"}], "start": 1761619762765, "stop": 1761619762766}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "626d8096-a140-44b5-873d-d3e4463ea53a-attachment.txt", "type": "text/plain"}], "start": 1761619762766, "stop": 1761619762766}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b52c96d5-833e-437d-9ad0-dfd9c5f1ba84-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "92a0375d-2b3f-4e99-ba1a-4b278efec0a8-attachment.txt", "type": "text/plain"}], "start": 1761619764822, "stop": 1761619764872}], "attachments": [{"name": "时区处理", "source": "0a6a3354-1250-47ad-adb7-23b57a714c8a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e837a5d7-61ee-4dc0-8fc6-be5d8baa7803-attachment.txt", "type": "text/plain"}], "start": 1761619764821, "stop": 1761619764872}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0bfd0efb-eb1b-4e37-bc73-62c060be3df6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a4367eb9-7dee-467d-9596-d7020a0401bd-attachment.txt", "type": "text/plain"}], "start": 1761619764872, "stop": 1761619764873}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5fd0d66f-c0fe-4836-b4cd-8669bad90507-attachment.txt", "type": "text/plain"}], "start": 1761619764873, "stop": 1761619764873}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d11aca4e-6570-478e-ad0c-7bfe9a053642-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "21fa92ee-75c0-453a-b8fb-6e42cb88619e-attachment.txt", "type": "text/plain"}], "start": 1761619766932, "stop": 1761619766981}], "attachments": [{"name": "时区处理", "source": "bcac5b26-5fe3-405b-a9cf-0b8c577f6e6b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a3f29025-e21d-42ee-862c-5b8c8b236917-attachment.txt", "type": "text/plain"}], "start": 1761619766931, "stop": 1761619766981}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7d1fc9de-bfe7-47eb-81f1-9712c130c013-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "59a3583a-2139-48fc-960f-c37fe42e9d5e-attachment.txt", "type": "text/plain"}], "start": 1761619766981, "stop": 1761619766981}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f72d19ed-0c61-4a99-8b88-0b097290032f-attachment.txt", "type": "text/plain"}], "start": 1761619766981, "stop": 1761619766983}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "754eba03-cfbf-4929-b8e4-1d72072278e9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5c1ab68f-bf96-4782-89ae-18cafe68076b-attachment.txt", "type": "text/plain"}], "start": 1761619769036, "stop": 1761619769087}], "attachments": [{"name": "时区处理", "source": "9c7b813e-3715-4956-af9d-72fb16c8fa07-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1261fafd-259b-41af-ad10-42eb89b1915e-attachment.txt", "type": "text/plain"}], "start": 1761619769035, "stop": 1761619769087}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c476aef8-2549-4b17-b71c-a39710911062-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "23878b12-71d6-4071-984d-561eb2684d84-attachment.txt", "type": "text/plain"}], "start": 1761619769087, "stop": 1761619769088}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5400a54b-5d81-4962-acb9-20dbf5601f93-attachment.txt", "type": "text/plain"}], "start": 1761619769088, "stop": 1761619769088}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ddf51c15-21f3-4f75-ab08-c4e69df49f64-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0ebb7912-d8c0-438a-bd99-4fc11f3896d2-attachment.txt", "type": "text/plain"}], "start": 1761619771139, "stop": 1761619771190}], "attachments": [{"name": "时区处理", "source": "928e9c49-2611-4619-869c-8ca342cb04ff-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d701db00-3f62-4935-80bb-61d8cedb5bae-attachment.txt", "type": "text/plain"}], "start": 1761619771137, "stop": 1761619771190}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9a638c48-589f-4b11-b82f-368b777adeaf-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bd5c4b90-1382-44c6-875d-a4a3d1ae675d-attachment.txt", "type": "text/plain"}], "start": 1761619771190, "stop": 1761619771191}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a05923fc-b5de-4acd-8a38-3c4682ed5966-attachment.txt", "type": "text/plain"}], "start": 1761619771191, "stop": 1761619771191}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "21895897-1171-493d-9f25-8ea318de5fdf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d6568ec4-9e94-402b-84b5-39700791bb01-attachment.txt", "type": "text/plain"}], "start": 1761619773240, "stop": 1761619773292}], "attachments": [{"name": "时区处理", "source": "abed19e9-c29a-475e-9ba2-187ccd21dfd0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "69780a40-6831-4a19-aa12-37e429ec642a-attachment.txt", "type": "text/plain"}], "start": 1761619773239, "stop": 1761619773292}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3ea9a83b-12ec-46af-82e9-bcff0ca44379-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "179c06c4-e1f9-49eb-bee6-f7d5193cd4b5-attachment.txt", "type": "text/plain"}], "start": 1761619773292, "stop": 1761619773292}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ff578941-6d79-4d23-a4cd-e0c90370a9d3-attachment.txt", "type": "text/plain"}], "start": 1761619773292, "stop": 1761619773293}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6351418d-0476-4c29-9996-6666cbb55491-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ea129bc5-a4bf-4334-9b0c-89d41aaa613c-attachment.txt", "type": "text/plain"}], "start": 1761619775346, "stop": 1761619775395}], "attachments": [{"name": "时区处理", "source": "0df7c156-3034-42b2-9200-0a58885e981c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cd76012b-bb9d-4db7-b219-0640fd7e1fb9-attachment.txt", "type": "text/plain"}], "start": 1761619775345, "stop": 1761619775395}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b4df0878-c11d-45f3-80cd-92063518a974-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "68442b22-4e81-4671-9919-caceee568f71-attachment.txt", "type": "text/plain"}], "start": 1761619775395, "stop": 1761619775396}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a5e74be4-dd77-4c1f-80cb-d079e9f12e36-attachment.txt", "type": "text/plain"}], "start": 1761619775396, "stop": 1761619775396}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "102b0380-cc70-417c-836a-8833deefda7a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1f1d2247-8881-47a1-b597-bdbc9387341b-attachment.txt", "type": "text/plain"}], "start": 1761619777443, "stop": 1761619777492}], "attachments": [{"name": "时区处理", "source": "6f27785b-0ae3-4bbf-8879-4a2dadba1f04-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "209faebe-0f72-4d78-9b97-548f3ff25c14-attachment.txt", "type": "text/plain"}], "start": 1761619777442, "stop": 1761619777492}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bb410af5-35d3-4f44-969e-ce063bb3a8b7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a9ccc38f-5015-48f7-bdbf-a4e07157d768-attachment.txt", "type": "text/plain"}], "start": 1761619777492, "stop": 1761619777493}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8f09765c-059d-4b96-ab63-23fc3dcbb54a-attachment.txt", "type": "text/plain"}], "start": 1761619777493, "stop": 1761619777493}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3ac1a0ee-0c56-46c1-9e4d-f627974b607b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ca7063be-16b7-462c-a346-ad78ca0bd8cb-attachment.txt", "type": "text/plain"}], "start": 1761619779550, "stop": 1761619779599}], "attachments": [{"name": "时区处理", "source": "f3d6c60a-cb69-4794-9442-17976e5be883-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "20d03340-af70-4b31-a578-ac1e2db4bba4-attachment.txt", "type": "text/plain"}], "start": 1761619779549, "stop": 1761619779599}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "88a8282c-634d-4b2f-8746-7ef4be658b86-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6719ae07-4890-434c-a972-65ba471204d6-attachment.txt", "type": "text/plain"}], "start": 1761619779599, "stop": 1761619779600}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8cd24438-1d56-41a0-8a2c-5b86b2788a97-attachment.txt", "type": "text/plain"}], "start": 1761619779600, "stop": 1761619779600}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e5779fdd-8f98-4f06-beda-1410042314c0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7168b219-728b-4e42-9966-63b9e8fecbc2-attachment.txt", "type": "text/plain"}], "start": 1761619781665, "stop": 1761619781714}], "attachments": [{"name": "时区处理", "source": "5871e387-bfe5-428a-82a4-125e5c6baf70-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3473d457-24be-4327-b29a-1a9de65416d2-attachment.txt", "type": "text/plain"}], "start": 1761619781664, "stop": 1761619781714}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b483d454-2df4-4db4-908b-a9758391310b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4c3459bd-baf4-4798-9459-9eb05fac0a03-attachment.txt", "type": "text/plain"}], "start": 1761619781714, "stop": 1761619781715}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cbc6e7d5-027b-423f-8ce1-ee8318b85e6a-attachment.txt", "type": "text/plain"}], "start": 1761619781715, "stop": 1761619781715}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "42d29650-ea57-4711-85c6-bcc5dda0b04b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "635dff25-4628-4856-b1ba-d17dc33be3ba-attachment.txt", "type": "text/plain"}], "start": 1761619783779, "stop": 1761619783829}], "attachments": [{"name": "时区处理", "source": "651c40f7-00bf-40d9-b21c-00d62137f7a1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "18f18af8-9e2a-4449-9e80-daab633c705c-attachment.txt", "type": "text/plain"}], "start": 1761619783779, "stop": 1761619783829}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1d939d08-6e1d-4f2a-af4d-a4aec7d7e5ba-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "51ee4b28-3c13-4642-bc18-53ce3d7072c5-attachment.txt", "type": "text/plain"}], "start": 1761619783829, "stop": 1761619783830}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "bb572e57-c19e-4099-a822-e31b964f7d93-attachment.txt", "type": "text/plain"}], "start": 1761619783830, "stop": 1761619783830}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0362f631-f68a-4202-8fbb-7eec34279318-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3e401336-8403-43f0-83bd-59975e54ca80-attachment.txt", "type": "text/plain"}], "start": 1761619785886, "stop": 1761619785936}], "attachments": [{"name": "时区处理", "source": "85c8f9bf-e433-463d-a065-0ecc2b86bd00-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d6d8d461-dd66-4f86-a6e5-e185e7eeadd6-attachment.txt", "type": "text/plain"}], "start": 1761619785886, "stop": 1761619785936}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ab70edab-7efb-41dc-b282-d4de6a02377f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "da33f3b3-16f8-4d16-ad36-06f9832cb035-attachment.txt", "type": "text/plain"}], "start": 1761619785936, "stop": 1761619785937}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cd3815b7-82d1-4dd9-a5f4-33896fb59e3b-attachment.txt", "type": "text/plain"}], "start": 1761619785937, "stop": 1761619785937}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "2eae10cc-d395-4978-b285-b747e1bd5702-attachment.txt", "type": "text/plain"}], "start": 1761619787949, "stop": 1761619787950}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "0272653c-a1f9-41d7-9458-4fb661ae10da-attachment.json", "type": "application/json"}], "start": 1761619788002, "stop": 1761619788002}], "attachments": [{"name": "执行SQL", "source": "275fa64a-2259-429c-b97f-ad23f793533b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b82d9aea-f35a-482a-9d3c-7b92937cf22a-attachment.txt", "type": "text/plain"}], "start": 1761619787951, "stop": 1761619788002}], "attachments": [{"name": "时区处理", "source": "101f03f0-dd01-4e0e-8a6a-047ac2e95351-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cc71f3e3-c5a5-4603-b581-43f4cd2d524a-attachment.txt", "type": "text/plain"}], "start": 1761619787950, "stop": 1761619788002}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "e7bcd46c-a6f5-417b-b65c-f206f1966e57-attachment.txt", "type": "text/plain"}], "start": 1761619788002, "stop": 1761619788003}], "attachments": [{"name": "执行SQL", "source": "c4f7d7e1-eddd-4a6e-a723-b4db1782381f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "dbfdd178-6cb6-4f56-a8bc-70b344ab6f95-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "9aa50e2c-10e9-41b5-bbe8-19698c594633-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "108b7e64-9e3e-4bde-ae0d-6e6beaea62ce-attachment.txt", "type": "text/plain"}], "start": 1761619756336, "stop": 1761619788003}], "start": 1761619756336, "stop": 1761619788003}], "attachments": [{"name": "log", "source": "003b4ab9-7c05-46bf-a159-f62253bcd161-attachment.txt", "type": "text/plain"}], "start": 1761619756336, "stop": 1761619788003, "uuid": "ceb8dd33-6d7b-4ea4-8ecd-8a84f22ba82a", "historyId": "44dfda14890e5bc021ee92756c99ee25", "testCaseId": "44dfda14890e5bc021ee92756c99ee25", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend1#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景1：复制下单-手数0.1-1，总订单3，总手数1"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}