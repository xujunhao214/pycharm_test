{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-四舍五入，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，四舍五入是0.04\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "d100ae32-5bff-4e3b-8718-703ecf5ed94f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9214cca4-2a3e-4e6a-9ef5-5991bca19178-attachment.txt", "type": "text/plain"}], "start": 1761546292383, "stop": 1761546292432}], "attachments": [{"name": "时区处理", "source": "1ae3f086-0dab-48f6-b1bf-bacc6c9767b0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "dfb8c346-6065-4389-9b5d-ad6568d776bc-attachment.txt", "type": "text/plain"}], "start": 1761546292382, "stop": 1761546292432}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f15e3eed-b4b6-4045-a9c8-79d11ce44a8e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2cf20054-fc67-4df7-b636-f4ce6ea7a2fe-attachment.txt", "type": "text/plain"}], "start": 1761546292432, "stop": 1761546292433}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "d5bb8c45-c780-42a1-aa2c-36aea9022abf-attachment.txt", "type": "text/plain"}], "start": 1761546292433, "stop": 1761546292433}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "748f6975-aa24-4ad1-9a60-341cac3169ee-attachment.txt", "type": "text/plain"}], "start": 1761546292433, "stop": 1761546292433}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "8e8d3ce8-0613-412a-8544-e9593737a018-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a2c4d035-a6aa-4d93-a322-032c00b2aaec-attachment.txt", "type": "text/plain"}], "start": 1761546294486, "stop": 1761546294547}], "attachments": [{"name": "时区处理", "source": "d9321f82-bbf6-4d36-9173-205fb87767b2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "412efad1-ee90-4ee9-b507-46555e4a1fa6-attachment.txt", "type": "text/plain"}], "start": 1761546294483, "stop": 1761546294547}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6196be4f-56a5-4e0a-b0fd-02b67f2ec174-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "beaeeb44-4158-40a0-b023-4acce5c79228-attachment.txt", "type": "text/plain"}], "start": 1761546294547, "stop": 1761546294548}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "10118d64-6b16-47a0-83ff-8b41403cc387-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "f9dfd17e-966a-4e1f-8420-ec58fc95eade-attachment.txt", "type": "text/plain"}], "start": 1761546294548, "stop": 1761546294550}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "48d7fcbd-1d3f-4c44-a46a-27b45fd2e393-attachment.txt", "type": "text/plain"}], "start": 1761546294550, "stop": 1761546294550}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ac954057-0276-4bff-81fe-6e774c2be1c3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "017adbd7-3825-4ec9-9d16-612acca6a09e-attachment.txt", "type": "text/plain"}], "start": 1761546296611, "stop": 1761546296659}], "attachments": [{"name": "时区处理", "source": "b76fba54-54c5-451e-99b6-e8a45369543c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "3f45b7b8-d694-4db6-98b9-7876d55f10db-attachment.txt", "type": "text/plain"}], "start": 1761546296610, "stop": 1761546296659}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ae55089a-f50d-41ca-8f2a-0bb753b6d5b9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1bf2724d-f123-4ff6-a4ce-51136707eb5a-attachment.txt", "type": "text/plain"}], "start": 1761546296659, "stop": 1761546296660}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "35d663ec-c47f-400f-b63c-e1aca1ca374c-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "d81bcfbe-cdb5-46fc-8e1b-ee0e2c40e067-attachment.txt", "type": "text/plain"}], "start": 1761546296660, "stop": 1761546296660}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "a48a121e-f7eb-418d-a90f-a90bcf0055cc-attachment.txt", "type": "text/plain"}], "start": 1761546296661, "stop": 1761546296661}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "ab045e25-c3a2-4136-83e1-d349b88f61e3-attachment.json", "type": "application/json"}], "start": 1761546296661, "stop": 1761546296661}], "attachments": [{"name": "执行SQL", "source": "9ac8286a-8c2c-44ea-9706-e5b35e59b178-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cbec832e-3803-4f6a-91e3-c61f82079181-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "5084c4a3-ad90-4cbd-8675-91669f7471e1-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "85471bbb-ad99-4e8e-ad25-1da985e3c53c-attachment.txt", "type": "text/plain"}], "start": 1761546292334, "stop": 1761546296661}], "start": 1761546292334, "stop": 1761546296661}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "393ca9f5-30f2-48c0-8588-0e588170b018-attachment.attach", "type": "text/plain"}], "start": 1761546296661, "stop": 1761546296662}], "start": 1761546296661, "stop": 1761546296662}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "02dcc8ce-4d4c-410f-987d-18391516e40c-attachment.attach", "type": "text/plain"}], "start": 1761546296662, "stop": 1761546296662}], "start": 1761546296662, "stop": 1761546296662}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "a9fd688a-9629-428b-b77a-d341af873b5f-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "829d06aa-0d8c-4103-b8a2-23cf85c14d3e-attachment.attach", "type": "text/plain"}], "start": 1761546296662, "stop": 1761546296663}], "start": 1761546296662, "stop": 1761546296663}], "start": 1761546296661, "stop": 1761546296663}], "attachments": [{"name": "log", "source": "dc9b9271-0a84-4d23-b344-5c3caef837b9-attachment.txt", "type": "text/plain"}], "start": 1761546292334, "stop": 1761546296663, "uuid": "fcd67ebb-e838-462a-b0d5-f62f661d64b7", "historyId": "f456b29d20efda098cbb1e918bc3c54f", "testCaseId": "f456b29d20efda098cbb1e918bc3c54f", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend11#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景11：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "57284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}