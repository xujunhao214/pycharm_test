{"name": "数据库校验-策略开仓-跟单指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend4 object at 0x000002A7D2CDCD90>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x000002A7D2F5E8E0>\ndb_transaction = <pymysql.connections.Connection object at 0x000002A7D2DC5370>\n\n    @allure.title(\"数据库校验-策略开仓-跟单指令及订单详情数据检查\")\n    def test_dbquery_addsalve_orderSend(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            MT5vps_user_accounts_1 = var_manager.get_variable(\"MT5vps_user_accounts_1\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.send_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status,\n                    foi.total_lots,\n                    foi.total_orders\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.send_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '0',\n                MT5vps_user_accounts_1,\n                \"changjing4\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.open_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:1641: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend4 object at 0x000002A7D2CDCD90>\ndb_transaction = <pymysql.connections.Connection object at 0x000002A7D2DC5370>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('0', '66938913', 'changjing4'), time_field = 'fod.open_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数0.01-1，总手数5\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 1641, in test_dbquery_addsalve_orderSend\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "6a7cb4bc-9405-4d54-b6c3-06a75370bf0e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f95ecec5-5bee-4191-9d19-97597e199dd5-attachment.txt", "type": "text/plain"}], "start": 1761620086417, "stop": 1761620086478}], "attachments": [{"name": "时区处理", "source": "c4cba486-0acb-472e-a321-363179a8f39d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d568d0e5-759d-48f9-9140-3d75b5cfa3d3-attachment.txt", "type": "text/plain"}], "start": 1761620086415, "stop": 1761620086478}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8aa86c22-07c4-4c1d-b120-2169db3c6d13-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e0bbdb44-981f-44a8-b78a-d80003b9c28d-attachment.txt", "type": "text/plain"}], "start": 1761620086478, "stop": 1761620086478}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f040a2a6-e4ee-4d7c-9e2e-dc938fa15735-attachment.txt", "type": "text/plain"}], "start": 1761620086478, "stop": 1761620086479}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0446e774-693a-4176-8685-dc6cd66f9c8c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e1e82a8b-0116-4723-a691-ca1c4d6ea440-attachment.txt", "type": "text/plain"}], "start": 1761620088528, "stop": 1761620088586}], "attachments": [{"name": "时区处理", "source": "5f929198-826e-4085-9d87-04942308e1c9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d2f6aaa7-622f-4a8d-8aaf-15d488757b20-attachment.txt", "type": "text/plain"}], "start": 1761620088528, "stop": 1761620088586}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "928d9a49-0812-4fd2-b29b-716c229c16cd-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b6db67b7-015f-440c-90cf-d3172ef0b277-attachment.txt", "type": "text/plain"}], "start": 1761620088586, "stop": 1761620088586}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b3dc2451-b35d-4b36-ba91-0ce5b6acbe84-attachment.txt", "type": "text/plain"}], "start": 1761620088586, "stop": 1761620088586}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ab84db8e-c364-4077-b793-864f5f95f4b7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2efab8c3-f923-4780-8705-f9864db31c98-attachment.txt", "type": "text/plain"}], "start": 1761620090640, "stop": 1761620090689}], "attachments": [{"name": "时区处理", "source": "82a503e3-798b-4eb7-ae98-9ceb6e97f0a9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ef9b9d53-30e1-4b9f-a51f-fd3e30895b01-attachment.txt", "type": "text/plain"}], "start": 1761620090639, "stop": 1761620090689}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d1c3a2b3-fe8c-4fbf-9a7e-8e8c08567a7b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4c303af2-4297-4c91-bef5-d2ca779fcb5d-attachment.txt", "type": "text/plain"}], "start": 1761620090689, "stop": 1761620090689}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a2160055-ce16-4d27-8956-7e91860062f7-attachment.txt", "type": "text/plain"}], "start": 1761620090689, "stop": 1761620090690}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "dab40aa1-00c8-438c-94ac-c8bc70af640c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4a95b512-642c-4be3-a6b4-8efa67cced45-attachment.txt", "type": "text/plain"}], "start": 1761620092738, "stop": 1761620092786}], "attachments": [{"name": "时区处理", "source": "1c936527-0c63-4292-a3f0-a8ed5f3da209-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "75bad392-3539-4a2b-87af-4e56839d2635-attachment.txt", "type": "text/plain"}], "start": 1761620092737, "stop": 1761620092786}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1f59724f-c76f-4a89-b9ec-8e347f3eab43-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2fafadaa-6b9a-4b8c-b49d-0d4cce010d73-attachment.txt", "type": "text/plain"}], "start": 1761620092786, "stop": 1761620092787}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "638d7a02-265a-4617-8198-b95bef56850a-attachment.txt", "type": "text/plain"}], "start": 1761620092787, "stop": 1761620092787}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "02dea9d7-5e4d-48c2-b8b7-b3ed9c642767-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f575cad3-12dc-432c-86a8-9c9371f5ff3d-attachment.txt", "type": "text/plain"}], "start": 1761620094850, "stop": 1761620094899}], "attachments": [{"name": "时区处理", "source": "53c92933-6acb-4e36-9d4b-a2445bda29bd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7981e092-93f3-4f1a-aa90-92492a909b0d-attachment.txt", "type": "text/plain"}], "start": 1761620094849, "stop": 1761620094899}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f09e4437-7668-44e8-a063-09c8e7f3c5ac-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1441d79c-88ec-4a19-b5d5-dc28139b6de7-attachment.txt", "type": "text/plain"}], "start": 1761620094899, "stop": 1761620094899}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e85d01a6-617c-4db7-a68d-1f0f8102fb80-attachment.txt", "type": "text/plain"}], "start": 1761620094899, "stop": 1761620094900}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e4ad0999-bda7-4420-af43-d82a1968f428-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "47258f35-72eb-4d48-b79a-88b03a010fc8-attachment.txt", "type": "text/plain"}], "start": 1761620096950, "stop": 1761620097001}], "attachments": [{"name": "时区处理", "source": "cb36c3d6-26ed-4403-8429-6030188edc2c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2306c684-4982-40f9-a125-5af8d3426164-attachment.txt", "type": "text/plain"}], "start": 1761620096949, "stop": 1761620097001}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f4c4ac75-cc43-459b-b405-30df7408d3d4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "48119ba2-5246-4fd7-b86c-98914b4d2d87-attachment.txt", "type": "text/plain"}], "start": 1761620097001, "stop": 1761620097002}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d1879328-1066-496b-a1b3-e1d7b9aebce5-attachment.txt", "type": "text/plain"}], "start": 1761620097002, "stop": 1761620097002}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "604266e1-76c4-4479-938f-967385d99bdc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "27662f1a-bfb0-46c3-b0af-61e2b2d0752e-attachment.txt", "type": "text/plain"}], "start": 1761620099059, "stop": 1761620099108}], "attachments": [{"name": "时区处理", "source": "9b19780d-14f7-48be-a0d5-a48f82e40ea4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0c37caec-6eeb-4054-b5d1-b3b77a8cad88-attachment.txt", "type": "text/plain"}], "start": 1761620099058, "stop": 1761620099108}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1a791f76-5884-46ec-9281-d703f4bdf796-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a0182ffd-05cc-48e0-9795-c786a5d8ff85-attachment.txt", "type": "text/plain"}], "start": 1761620099108, "stop": 1761620099109}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "93458794-72f4-4ea1-b2e3-8806693b16f9-attachment.txt", "type": "text/plain"}], "start": 1761620099109, "stop": 1761620099109}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7165fef2-1ff9-452d-bcc4-c396c687eaa8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e2354b63-0b1e-4eeb-b007-48bc72735417-attachment.txt", "type": "text/plain"}], "start": 1761620101164, "stop": 1761620101214}], "attachments": [{"name": "时区处理", "source": "63f66325-3048-4609-a746-5431465416e0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "41f77861-a214-4604-830f-d74b0224fc3d-attachment.txt", "type": "text/plain"}], "start": 1761620101163, "stop": 1761620101214}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7f0a57c7-9d79-4864-82a4-7b42e6f28213-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e8c95970-ad9b-4a5e-b60e-930789c5d14a-attachment.txt", "type": "text/plain"}], "start": 1761620101214, "stop": 1761620101215}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "43b6576d-b39e-4150-892e-152d0e6c2799-attachment.txt", "type": "text/plain"}], "start": 1761620101215, "stop": 1761620101215}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c3b75f7d-67f8-4875-95d1-34eac357ec46-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "881e07c8-357e-42a9-b12b-aa630ae3d6bf-attachment.txt", "type": "text/plain"}], "start": 1761620103276, "stop": 1761620103326}], "attachments": [{"name": "时区处理", "source": "c54fb96c-a699-4b31-810b-095e0f5e06c4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5765f9e4-3d44-48fb-8764-aabbfee689e2-attachment.txt", "type": "text/plain"}], "start": 1761620103275, "stop": 1761620103326}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "40a6a63d-f351-4333-9a4b-a3a2a9cb65f9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bb1d9221-c760-4eee-bca0-a2271c506efe-attachment.txt", "type": "text/plain"}], "start": 1761620103326, "stop": 1761620103327}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fb1d9b38-70cc-4837-8fb6-f12dfe2a77ec-attachment.txt", "type": "text/plain"}], "start": 1761620103327, "stop": 1761620103327}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2aee5c66-04d9-48fa-baf3-5c5e66fd1420-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "63865e87-0c95-4b32-ad3e-8d32234ab51a-attachment.txt", "type": "text/plain"}], "start": 1761620105385, "stop": 1761620105434}], "attachments": [{"name": "时区处理", "source": "fef919fa-05c5-4aa0-a978-9b764672e23d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d1204b78-adee-4bb2-939d-ecd35c9f251f-attachment.txt", "type": "text/plain"}], "start": 1761620105384, "stop": 1761620105434}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "69be6c28-08f8-4f13-a66f-1fd99e05cce3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "522e1ad8-b4a2-4ac0-855d-ce1ba7a99c15-attachment.txt", "type": "text/plain"}], "start": 1761620105434, "stop": 1761620105436}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "159ce572-9b32-4ecb-a3e4-f9b4cc1545b9-attachment.txt", "type": "text/plain"}], "start": 1761620105436, "stop": 1761620105436}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "664f7b5c-0d1c-4fa0-8bd1-83ef9095cfeb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "76b0863e-5c1b-4810-897a-278069921e09-attachment.txt", "type": "text/plain"}], "start": 1761620107491, "stop": 1761620107542}], "attachments": [{"name": "时区处理", "source": "b1233631-667e-42c1-8916-33a593256e01-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "46ca7a50-a72b-40d8-98d7-cb49485a66e4-attachment.txt", "type": "text/plain"}], "start": 1761620107490, "stop": 1761620107542}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "922b57af-c29a-4b00-81bf-53d0b2f86772-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8674aec7-5e3a-4528-b5ae-1975fb6acfde-attachment.txt", "type": "text/plain"}], "start": 1761620107542, "stop": 1761620107543}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d9cfbab5-5bdd-4538-b581-b3488b12dace-attachment.txt", "type": "text/plain"}], "start": 1761620107543, "stop": 1761620107543}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b5c084b6-7d8a-4535-b55e-37d9e73962c3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "307d4e0d-9c13-4773-9b8e-8a926cdfc590-attachment.txt", "type": "text/plain"}], "start": 1761620109597, "stop": 1761620109656}], "attachments": [{"name": "时区处理", "source": "9bdb071e-284a-4dc8-85ab-3160d82268b0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bfd8e545-39a7-4094-9277-5b73efede041-attachment.txt", "type": "text/plain"}], "start": 1761620109596, "stop": 1761620109656}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "827f5030-0a70-4170-af22-defe31a8ddd5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "211c2c75-4288-4d9f-ac8e-af0f523c72b0-attachment.txt", "type": "text/plain"}], "start": 1761620109656, "stop": 1761620109657}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "34680904-79d5-4b1c-9fc3-af03f81cdee4-attachment.txt", "type": "text/plain"}], "start": 1761620109657, "stop": 1761620109657}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "be86edd7-c222-44fc-be84-3ec7b25ff843-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "876b8f4e-cfa6-4210-aefe-015fb195bb04-attachment.txt", "type": "text/plain"}], "start": 1761620111714, "stop": 1761620111763}], "attachments": [{"name": "时区处理", "source": "ad190ca6-d400-458a-a288-c5bae5633ca5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "40c7d9de-834a-4095-9b59-b39a78994fdb-attachment.txt", "type": "text/plain"}], "start": 1761620111712, "stop": 1761620111763}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0802fd55-a3bb-4f1a-99ed-8ed28ef98df9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3f15b840-8c4c-450b-8297-fb4c133eb062-attachment.txt", "type": "text/plain"}], "start": 1761620111763, "stop": 1761620111764}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f03e83e3-6ce8-47a5-bfc9-0eab3f66eb70-attachment.txt", "type": "text/plain"}], "start": 1761620111764, "stop": 1761620111764}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "112ce522-8c20-425b-a360-e53ce893c3d8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "49026f96-1afa-48e8-8801-d46a80c8c156-attachment.txt", "type": "text/plain"}], "start": 1761620113814, "stop": 1761620113864}], "attachments": [{"name": "时区处理", "source": "5c791747-cc6c-41b7-a949-6df44fc83325-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9a4c4c5f-0f4a-4a0a-8aa5-bb7552196056-attachment.txt", "type": "text/plain"}], "start": 1761620113814, "stop": 1761620113864}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cdd23e86-bcba-45a2-b603-bfd1f46189be-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3a1f9b8f-945e-455e-be0a-375ad6564061-attachment.txt", "type": "text/plain"}], "start": 1761620113864, "stop": 1761620113865}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d90732c2-720d-4354-b098-3f2495f64331-attachment.txt", "type": "text/plain"}], "start": 1761620113865, "stop": 1761620113866}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fc2c18d7-6194-4a63-8fad-571aa567e56c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "24ae0098-3d9e-4350-b151-428a5576d8c1-attachment.txt", "type": "text/plain"}], "start": 1761620115919, "stop": 1761620115969}], "attachments": [{"name": "时区处理", "source": "47ead5cb-de4e-4570-9100-53fae8c615ca-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1fa6f2e2-c679-469f-b615-ae4d7726b10d-attachment.txt", "type": "text/plain"}], "start": 1761620115918, "stop": 1761620115969}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ba89b32a-76f1-43e5-a1e3-3e7c46d87b48-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0255548a-0f0c-4eda-ad89-9334d8c6f090-attachment.txt", "type": "text/plain"}], "start": 1761620115969, "stop": 1761620115970}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "17e5a8dd-5ee8-4307-8f36-81eb4dcd3a56-attachment.txt", "type": "text/plain"}], "start": 1761620115970, "stop": 1761620115971}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "ceb86e28-bdc2-4a6f-b0d5-28cc41d3ed09-attachment.txt", "type": "text/plain"}], "start": 1761620117983, "stop": 1761620117983}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "2f79bae7-2b9c-46be-b38e-23d65393efd5-attachment.json", "type": "application/json"}], "start": 1761620118033, "stop": 1761620118034}], "attachments": [{"name": "执行SQL", "source": "12b29093-54ba-49db-a6f8-ecd2e4de1fb5-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8fe2c342-ce3d-4824-9a03-41fec490c9a0-attachment.txt", "type": "text/plain"}], "start": 1761620117984, "stop": 1761620118034}], "attachments": [{"name": "时区处理", "source": "cab637be-7cea-4950-b5ce-51b400fd854e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5e3b3089-eafd-405a-b260-0766d12bf443-attachment.txt", "type": "text/plain"}], "start": 1761620117983, "stop": 1761620118034}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "e58436c7-46c9-4658-a486-c3f68886993c-attachment.txt", "type": "text/plain"}], "start": 1761620118034, "stop": 1761620118034}], "attachments": [{"name": "执行SQL", "source": "e1ce6ac9-7dd5-4e1a-813e-80825d809272-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ad89c36e-08b3-4b3b-9747-0d987e51b40a-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "b446f916-05c3-448a-ba48-25b085a708a2-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "e6ab1fd4-c902-4625-81c9-2636dc9d9a42-attachment.txt", "type": "text/plain"}], "start": 1761620086366, "stop": 1761620118034}], "start": 1761620086366, "stop": 1761620118034}], "attachments": [{"name": "log", "source": "5a25553f-35b8-4419-bba9-e38a160504d2-attachment.txt", "type": "text/plain"}], "start": 1761620086366, "stop": 1761620118034, "uuid": "3ca62518-0c89-44fa-abc3-1eb08e2c4f7e", "historyId": "711dabc7fffa3893b6e803d2429bc192", "testCaseId": "711dabc7fffa3893b6e803d2429bc192", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend4#test_dbquery_addsalve_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景4：复制下单-手数0.01-1，总手数5"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}