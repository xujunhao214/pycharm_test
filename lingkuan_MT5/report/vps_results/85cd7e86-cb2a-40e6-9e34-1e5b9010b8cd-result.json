{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend7 object at 0x000001EBBD3476D0>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x000001EBBD5CC6A0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD0E03D0>\n\n>   ???\n\ntest_vps\\test_vps_ordersend.py:3238: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend7 object at 0x000001EBBD3476D0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD0E03D0>\nsql = '\\n                    SELECT \\n                        fod.account,\\n                        fod.size,\\n             ...                        AND fod.comment = %s\\n                        AND fod.trader_id = %s\\n                        '\nparams = ('1', '66938913', 'changjing7', 13397), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 3238, in test_dbquery_addsalve_orderSendclose\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bd89ce3f-5856-477c-b987-7da7ca7a8b55-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8b424dcb-357b-4da2-a3fa-1a2b0d44faeb-attachment.txt", "type": "text/plain"}], "start": 1761546158943, "stop": 1761546158990}], "attachments": [{"name": "时区处理", "source": "85ec73e8-1683-403e-8667-687494aed300-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2eec1d73-578b-498d-8d29-2a3b8ecffb86-attachment.txt", "type": "text/plain"}], "start": 1761546158942, "stop": 1761546158990}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4b700bc3-6e3e-41f2-9f3c-46c29560c2a2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cff555c0-0d0f-495a-98d6-340fd15fc510-attachment.txt", "type": "text/plain"}], "start": 1761546158991, "stop": 1761546158991}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2c876a10-dd33-4fa7-a84f-eeffefaafc2f-attachment.txt", "type": "text/plain"}], "start": 1761546158991, "stop": 1761546158992}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f73d0886-6b02-4db6-8761-0f26405b7738-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "11a34225-ac6e-49f9-9ca1-cf148b605424-attachment.txt", "type": "text/plain"}], "start": 1761546161052, "stop": 1761546161098}], "attachments": [{"name": "时区处理", "source": "6e9283c3-9465-4550-b58b-93fe4989fbe7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "026299ac-0796-41ca-8cc9-4c8fd33a9eb8-attachment.txt", "type": "text/plain"}], "start": 1761546161051, "stop": 1761546161098}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5402a9bc-a6d7-480a-b57a-af0be6bc8cd2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "02f186d8-9035-4b87-8f96-f9d7c111f50a-attachment.txt", "type": "text/plain"}], "start": 1761546161098, "stop": 1761546161099}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cf7fb034-3898-4bff-9d03-6e8d44ee26a5-attachment.txt", "type": "text/plain"}], "start": 1761546161099, "stop": 1761546161099}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f99dd173-1f16-4920-a480-6dd6a122b8b1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9d305ff6-af96-4e8d-b74b-3cb39361a379-attachment.txt", "type": "text/plain"}], "start": 1761546163172, "stop": 1761546163222}], "attachments": [{"name": "时区处理", "source": "5e5d47b6-ebaf-417b-a0d4-0afa6b86e972-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5690ac82-b0fd-4770-a95b-54349b7e6791-attachment.txt", "type": "text/plain"}], "start": 1761546163171, "stop": 1761546163222}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a34fb758-478e-4798-84d8-7dd8df93b2da-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "139eeda8-4e8b-4374-aa39-8404254d9acf-attachment.txt", "type": "text/plain"}], "start": 1761546163222, "stop": 1761546163223}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "2dc0a50a-3f35-4ea7-847e-bdbee2e3c6c2-attachment.txt", "type": "text/plain"}], "start": 1761546163223, "stop": 1761546163223}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3f149f2d-e2bb-434f-a608-80612db0e06b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6924d95a-0782-4e95-8aa3-eb8f45208012-attachment.txt", "type": "text/plain"}], "start": 1761546165283, "stop": 1761546165332}], "attachments": [{"name": "时区处理", "source": "a7875237-dc12-4ab3-9ab2-026669ee91f2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "b7189cc6-f736-46cc-a666-1783733decc7-attachment.txt", "type": "text/plain"}], "start": 1761546165281, "stop": 1761546165332}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4ae919e1-570f-4d12-a13a-a77efdf8a226-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "69dc270c-06d6-464f-89da-73137d18da0b-attachment.txt", "type": "text/plain"}], "start": 1761546165332, "stop": 1761546165333}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1152acc6-6914-4c76-bcf3-667953e6cc9e-attachment.txt", "type": "text/plain"}], "start": 1761546165333, "stop": 1761546165333}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a10c30dc-ddc5-46e8-b6c3-764fccb8e5d3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b7642ece-c007-40e3-b28a-b465e8ee5d0b-attachment.txt", "type": "text/plain"}], "start": 1761546167394, "stop": 1761546167442}], "attachments": [{"name": "时区处理", "source": "6299f7b0-d7c7-4ef0-9acd-3eab6e7ec6db-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "27dba387-ab28-4b42-a7a5-d1e8e9d7212a-attachment.txt", "type": "text/plain"}], "start": 1761546167393, "stop": 1761546167442}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "13732913-a2e3-4885-996a-a5355286455d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d6a71156-e341-402c-8879-6abfd20121f0-attachment.txt", "type": "text/plain"}], "start": 1761546167442, "stop": 1761546167443}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5dfa758d-1eb7-438a-b511-4248843ccb37-attachment.txt", "type": "text/plain"}], "start": 1761546167443, "stop": 1761546167443}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "02e78d51-f112-4c46-8d4e-253d9c218baf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5679cb67-cbd2-4eb6-9d67-331990c6e756-attachment.txt", "type": "text/plain"}], "start": 1761546169504, "stop": 1761546169562}], "attachments": [{"name": "时区处理", "source": "c8ebff40-5f09-4940-b543-0b4baa775b02-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "aa84a1e8-c861-47c4-b1b2-255fddbca6ab-attachment.txt", "type": "text/plain"}], "start": 1761546169503, "stop": 1761546169562}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4f0f8a71-7430-4b0f-9cf5-c9b4c233163d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e194b98f-56d8-47a8-a920-d1666e9a7178-attachment.txt", "type": "text/plain"}], "start": 1761546169562, "stop": 1761546169563}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "de2dcc4e-211d-4ce5-98ef-505f71490605-attachment.txt", "type": "text/plain"}], "start": 1761546169563, "stop": 1761546169564}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fe2db6e7-6229-4443-aaaf-1fad83a86d65-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e8c4b48d-84dd-428b-a862-3c982adf52cb-attachment.txt", "type": "text/plain"}], "start": 1761546171613, "stop": 1761546171660}], "attachments": [{"name": "时区处理", "source": "c678d818-b1be-462f-b951-c5be80145935-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "343995be-fcb2-4c4b-b400-51e6b654bdfb-attachment.txt", "type": "text/plain"}], "start": 1761546171612, "stop": 1761546171660}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "00439126-dfe6-4a88-a646-8dcd9bd80631-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c14c4e2c-560e-4d00-8e81-ae4937d6c07a-attachment.txt", "type": "text/plain"}], "start": 1761546171660, "stop": 1761546171661}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5362c617-2cac-4912-86a5-7fd4fd6b423f-attachment.txt", "type": "text/plain"}], "start": 1761546171661, "stop": 1761546171661}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "74f20981-6e11-46b8-9fbd-4063c8b9f1ec-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "323edb69-9257-4dc7-bff4-6a9141fb6f73-attachment.txt", "type": "text/plain"}], "start": 1761546173723, "stop": 1761546173770}], "attachments": [{"name": "时区处理", "source": "09b08827-d989-441e-92bd-892bf35cf72c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "54b41a95-b3b2-44a0-bc3a-54eb865e2f90-attachment.txt", "type": "text/plain"}], "start": 1761546173722, "stop": 1761546173770}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0bd0591a-f130-4b8b-8b75-a256024473dc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "054a1c67-d234-4131-875b-3f15ee4a1af3-attachment.txt", "type": "text/plain"}], "start": 1761546173770, "stop": 1761546173771}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d6a119d7-8c61-458e-bd19-ca9b78be68a9-attachment.txt", "type": "text/plain"}], "start": 1761546173771, "stop": 1761546173771}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0662a2d4-a72f-49e8-8f21-ed8cd35886b4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e9e68c8b-79d2-476d-9e36-beb9841580ab-attachment.txt", "type": "text/plain"}], "start": 1761546175819, "stop": 1761546175868}], "attachments": [{"name": "时区处理", "source": "f7a6e39d-e34c-4e0c-a559-b3149d3ccd48-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4c436a78-4b50-43fb-96d4-e5b3e0a0ec89-attachment.txt", "type": "text/plain"}], "start": 1761546175819, "stop": 1761546175868}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "55415a0a-9cbe-4360-8842-6a6b07475fa7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c25fa23c-3540-4a37-b697-d836a93f6b2f-attachment.txt", "type": "text/plain"}], "start": 1761546175868, "stop": 1761546175869}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4b207c77-c06a-4369-9d09-9f4a194e81f8-attachment.txt", "type": "text/plain"}], "start": 1761546175869, "stop": 1761546175869}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ed8af73d-cc93-4dcf-bee2-cedcf2c4c748-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b53e2ee6-d2bf-4605-bb97-61a1e52de20c-attachment.txt", "type": "text/plain"}], "start": 1761546177923, "stop": 1761546177971}], "attachments": [{"name": "时区处理", "source": "5311e6c6-9196-4eb1-8b4e-ba73f4e4d3c7-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fbc118a0-c898-480e-aa56-eebe7913d73f-attachment.txt", "type": "text/plain"}], "start": 1761546177922, "stop": 1761546177971}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f8d6ad7a-560d-458e-a3c2-287ccbd04eb9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "241c3e48-2bc6-4567-af71-5bbaff340bfe-attachment.txt", "type": "text/plain"}], "start": 1761546177971, "stop": 1761546177972}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "78514573-9728-4a92-868e-195bcc90a115-attachment.txt", "type": "text/plain"}], "start": 1761546177972, "stop": 1761546177972}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "968def2b-bc9d-4193-b56e-9c64991d7e1d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "63a1d995-b335-4578-a6c3-462d971b008b-attachment.txt", "type": "text/plain"}], "start": 1761546180032, "stop": 1761546180081}], "attachments": [{"name": "时区处理", "source": "a7c69a9d-7f89-4514-be98-9f554fdb1075-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "61000f49-6273-4df3-a759-9dfb453d8740-attachment.txt", "type": "text/plain"}], "start": 1761546180030, "stop": 1761546180081}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3ebf75b9-8fac-442f-bec2-1b51183673b4-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4b698eb2-001a-4b75-aeb0-afa941e75540-attachment.txt", "type": "text/plain"}], "start": 1761546180081, "stop": 1761546180082}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0cc9f2c1-7ea7-4d94-b259-419fd2bc8d14-attachment.txt", "type": "text/plain"}], "start": 1761546180082, "stop": 1761546180082}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "69ba96ab-33c4-4d7f-9bd4-8916fb8d52e7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "15748057-5c34-4787-86a4-541feba7843b-attachment.txt", "type": "text/plain"}], "start": 1761546182130, "stop": 1761546182179}], "attachments": [{"name": "时区处理", "source": "f0c12099-a583-4d3b-a8ce-1b77a02e12d5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "17d99639-3989-4dba-b16f-2c6e22105dc7-attachment.txt", "type": "text/plain"}], "start": 1761546182129, "stop": 1761546182179}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "be761457-b45a-47bb-803b-d6d88c9c5ea1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "390e05c5-2953-4c13-b394-d8fe4fd40101-attachment.txt", "type": "text/plain"}], "start": 1761546182179, "stop": 1761546182180}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f1c6a45a-5917-4bc6-9b28-ea5dc2751beb-attachment.txt", "type": "text/plain"}], "start": 1761546182180, "stop": 1761546182180}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7628217a-8f52-4b3e-8906-0a6a488d6f51-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2ef59b92-7330-48b1-b13b-fb09217110d7-attachment.txt", "type": "text/plain"}], "start": 1761546184233, "stop": 1761546184279}], "attachments": [{"name": "时区处理", "source": "d082dc61-b258-4e4b-9a50-39b84ded82b4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "14b46bc2-e8bf-4230-8b3b-28ebdc3969fd-attachment.txt", "type": "text/plain"}], "start": 1761546184232, "stop": 1761546184279}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "12513a66-0c0a-456b-b1ee-2b3a0afa7109-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b1ab7204-3c62-43eb-8a62-11a6af585e81-attachment.txt", "type": "text/plain"}], "start": 1761546184279, "stop": 1761546184280}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d6637468-202e-4907-a2d3-3b75b28dbb1d-attachment.txt", "type": "text/plain"}], "start": 1761546184280, "stop": 1761546184281}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eb7c1eb1-c7a1-4615-adad-d56df495bb2b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3e926a84-29a5-4e2f-97fe-617ebff84325-attachment.txt", "type": "text/plain"}], "start": 1761546186343, "stop": 1761546186391}], "attachments": [{"name": "时区处理", "source": "345cb747-80de-46e5-977d-dc1c74acc6d1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7985eb7e-5fb3-47f1-95a2-75391a25ddb3-attachment.txt", "type": "text/plain"}], "start": 1761546186342, "stop": 1761546186392}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8fcef159-0104-437d-b91f-9879cef861a0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6a65dd53-82e1-407b-bc47-bde979f1f24a-attachment.txt", "type": "text/plain"}], "start": 1761546186392, "stop": 1761546186393}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "175bda97-5591-4812-b9eb-6e7d31002830-attachment.txt", "type": "text/plain"}], "start": 1761546186393, "stop": 1761546186393}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4685784d-de42-4e2a-9416-97a573a3134d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7e16ff09-06d7-4fe5-84de-71122b886ccb-attachment.txt", "type": "text/plain"}], "start": 1761546188453, "stop": 1761546188502}], "attachments": [{"name": "时区处理", "source": "936d653a-cc73-4688-9c69-72779315eefb-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c675985e-a8bd-4094-a4cb-dc8b99fed282-attachment.txt", "type": "text/plain"}], "start": 1761546188453, "stop": 1761546188502}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0b8b6e84-7e93-4630-9048-f4232bbc1359-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "93280e1b-6b4d-4792-bbbd-10203ef3ed94-attachment.txt", "type": "text/plain"}], "start": 1761546188502, "stop": 1761546188503}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "26e35c13-cf56-4c33-87f8-b5855cdb62bd-attachment.txt", "type": "text/plain"}], "start": 1761546188503, "stop": 1761546188503}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "b4d5efbf-f0f3-4c84-8931-4dd92d1cb4b0-attachment.txt", "type": "text/plain"}], "start": 1761546190513, "stop": 1761546190513}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "f5ebfe7f-da77-4801-b7d6-185489d75e73-attachment.json", "type": "application/json"}], "start": 1761546190561, "stop": 1761546190563}], "attachments": [{"name": "执行SQL", "source": "258721f9-d7c5-4f71-b95a-aad5c2ad802b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f2aa49b0-e81a-49ee-a06d-55b143e02e8f-attachment.txt", "type": "text/plain"}], "start": 1761546190514, "stop": 1761546190563}], "attachments": [{"name": "时区处理", "source": "fbd5d5af-f767-400f-9355-4eae50cb78c1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8cbdcdbd-8065-4797-8c85-93ec4fa72141-attachment.txt", "type": "text/plain"}], "start": 1761546190513, "stop": 1761546190563}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "d1447a59-903f-4b0d-8939-f5f2268edd84-attachment.txt", "type": "text/plain"}], "start": 1761546190563, "stop": 1761546190564}], "attachments": [{"name": "执行SQL", "source": "fa78df19-7dfb-4aba-98cc-c6d567c83687-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6ba9fda9-9a21-4cb9-8e01-84167b3cb1c5-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "648dfa52-fc43-43dc-ae3d-36bf2b4ac010-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "c0334dd5-deeb-4f26-833c-e3770a2ddca8-attachment.txt", "type": "text/plain"}], "start": 1761546158894, "stop": 1761546190564}], "start": 1761546158894, "stop": 1761546190564}], "attachments": [{"name": "log", "source": "67b56261-0795-464e-ae71-0adc7e0544da-attachment.txt", "type": "text/plain"}], "start": 1761546158894, "stop": 1761546190564, "uuid": "380c94f6-6ebc-4945-8fef-fcd54361141c", "historyId": "2e3fe8a7a6a5486d4671bacc70c2d041", "testCaseId": "2e3fe8a7a6a5486d4671bacc70c2d041", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend7#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "57284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}