{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "294c63e1-0b2d-4047-8e39-6f5b8a607eaf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f59fd3ba-9325-4bc4-afe1-0b015e053a7e-attachment.txt", "type": "text/plain"}], "start": 1761546196460, "stop": 1761546196510}], "attachments": [{"name": "时区处理", "source": "dd50ba72-8d8e-4c91-80e3-915d59ba2068-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "49295b5f-652b-433a-9dc1-635341b9e7fd-attachment.txt", "type": "text/plain"}], "start": 1761546196459, "stop": 1761546196510}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6a5e4afd-9650-4ef7-9664-94d0fcb0e834-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "37be2845-6cbb-44ac-9ba7-ddeaa558f01d-attachment.txt", "type": "text/plain"}], "start": 1761546196510, "stop": 1761546196511}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "486504ea-73ee-41b3-9544-5279ab9ee71f-attachment.txt", "type": "text/plain"}], "start": 1761546196511, "stop": 1761546196512}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "443afc6e-bc30-44b7-831b-0ea5111f6f64-attachment.txt", "type": "text/plain"}], "start": 1761546196512, "stop": 1761546196512}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "376b1c64-18e5-40b5-af30-c0ab869c6e1e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5c55b899-e062-4f81-b5b6-58152619f7b5-attachment.txt", "type": "text/plain"}], "start": 1761546198801, "stop": 1761546198955}], "attachments": [{"name": "时区处理", "source": "71855b8b-8b91-481a-949b-70253f9740f1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f34acc28-0141-4bfd-af8b-af4c206e8ca5-attachment.txt", "type": "text/plain"}], "start": 1761546198565, "stop": 1761546198955}, {"name": "轮询中（已等待2.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2adb4c7f-89c4-451c-9cef-7800d2ddbb1d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "890e5a7b-d3ac-49a4-9e80-919d59880c73-attachment.txt", "type": "text/plain"}], "start": 1761546198955, "stop": 1761546198957}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "4113ceb4-57fd-45c6-9fab-b569349d457e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "982b728f-eb07-4d55-839c-b19598a31c62-attachment.txt", "type": "text/plain"}], "start": 1761546198957, "stop": 1761546198958}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "51b19a60-9699-4c7e-b34c-bb7b420f228e-attachment.txt", "type": "text/plain"}], "start": 1761546198958, "stop": 1761546198958}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2a0dff85-2f00-4c03-973b-38064a747a99-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "644ef023-5ad2-4cda-9597-e454dd9d119a-attachment.txt", "type": "text/plain"}], "start": 1761546201018, "stop": 1761546201067}], "attachments": [{"name": "时区处理", "source": "4bcde79d-10b2-4519-bdb8-8d9d73345819-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "77d410b5-edd3-4645-b7b8-6eb9862c60e0-attachment.txt", "type": "text/plain"}], "start": 1761546201017, "stop": 1761546201067}, {"name": "轮询中（已等待4.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cc3200b2-6b06-4e29-8830-3ed421c18b5d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "764e3832-23e6-4fe9-adb9-9fcaf5c5f1a3-attachment.txt", "type": "text/plain"}], "start": 1761546201067, "stop": 1761546201068}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "2330c85b-e8b5-40f9-9ec8-8cffe45fbea0-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "f34abc93-c91d-449f-af5a-5fb66108ac54-attachment.txt", "type": "text/plain"}], "start": 1761546201068, "stop": 1761546201068}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "e74716f6-7fd4-4730-b748-ce5f106b8af5-attachment.txt", "type": "text/plain"}], "start": 1761546201069, "stop": 1761546201069}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "3a8636e3-bfa5-4fe7-a75f-13cdd8b5351a-attachment.json", "type": "application/json"}], "start": 1761546201069, "stop": 1761546201069}], "attachments": [{"name": "执行SQL", "source": "0f3fe0df-439e-456d-9454-67cf527739ac-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1cb4bd7b-8cf1-476c-bc80-94b45a6328d7-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "b5dfefb9-2e65-4b23-9425-f42e4371c1de-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "08cd0dad-4c93-4a8d-a66e-3126a5589bce-attachment.txt", "type": "text/plain"}], "start": 1761546196410, "stop": 1761546201069}], "start": 1761546196410, "stop": 1761546201069}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "301569df-cc29-4b8b-be86-231181a29c55-attachment.attach", "type": "text/plain"}], "start": 1761546201069, "stop": 1761546201070}], "start": 1761546201069, "stop": 1761546201070}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "17783d4c-f391-4d84-941a-7aa23c37bc60-attachment.attach", "type": "text/plain"}], "start": 1761546201070, "stop": 1761546201070}], "start": 1761546201070, "stop": 1761546201070}], "start": 1761546201069, "stop": 1761546201070}], "attachments": [{"name": "log", "source": "b9d2883f-7460-4306-a824-9f6ff4efb95c-attachment.txt", "type": "text/plain"}], "start": 1761546196410, "stop": 1761546201070, "uuid": "7dd8a7ee-0cc3-4329-b9ff-1dcdd004ad31", "historyId": "e3fdf7051b8ad45437127d6218d72a4d", "testCaseId": "e3fdf7051b8ad45437127d6218d72a4d", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend10#test_dbquery_orderSend", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "tag", "value": "retry(n=0, delay=0)"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "57284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}