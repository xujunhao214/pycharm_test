{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend4 object at 0x000002A7D2F2A490>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x000002A7D2F5E8E0>\ndb_transaction = <pymysql.connections.Connection object at 0x000002A7D29C46D0>\n\n    @allure.title(\"数据库校验-策略平仓-跟单指令及订单详情数据检查\")\n    def test_dbquery_addsalve_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            MT5vps_user_accounts_1 = var_manager.get_variable(\"MT5vps_user_accounts_1\")\n            MT5vps_addslave_id = var_manager.get_variable(\"MT5vps_addslave_id\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status,\n                    foi.min_lot_size,\n                    foi.max_lot_size,\n                    foi.total_lots,\n                    foi.master_order,\n                    foi.total_orders\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.trader_id = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                MT5vps_user_accounts_1,\n                MT5vps_addslave_id,\n                \"changjing4\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:1866: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend4 object at 0x000002A7D2F2A490>\ndb_transaction = <pymysql.connections.Connection object at 0x000002A7D29C46D0>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...                        AND fod.trader_id = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938913', 13397, 'changjing4'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数0.01-1，总手数5\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 1866, in test_dbquery_addsalve_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ee232aee-5141-41d1-ae8f-5cb4dfc95ecc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a10c58a1-c84f-419e-b7c2-6894ea048e01-attachment.txt", "type": "text/plain"}], "start": 1761620191805, "stop": 1761620191854}], "attachments": [{"name": "时区处理", "source": "7c315076-5480-4f7d-8457-bde54b1ec49d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "98c1bbaf-c8b1-40cc-9daa-f06519b613ae-attachment.txt", "type": "text/plain"}], "start": 1761620191805, "stop": 1761620191854}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "91aa678c-4e57-4657-b3af-d22f2d5cb0b2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d5361338-ac0e-4834-8dfc-a7af7ddd91ba-attachment.txt", "type": "text/plain"}], "start": 1761620191854, "stop": 1761620191855}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7ebb0ab1-cf29-41bc-8d4b-3e1a8b236c77-attachment.txt", "type": "text/plain"}], "start": 1761620191855, "stop": 1761620191856}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ded3e7da-ac12-4f9f-b69c-6df8774d07ac-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fa30dffc-057e-413f-bcd6-d20e7f6c482b-attachment.txt", "type": "text/plain"}], "start": 1761620193908, "stop": 1761620193955}], "attachments": [{"name": "时区处理", "source": "bf76bd43-5a76-429b-b96f-c703b2cdef35-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2459bcd9-68d3-4914-8e7d-0ff2d3b5f13f-attachment.txt", "type": "text/plain"}], "start": 1761620193907, "stop": 1761620193955}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f70167fb-05fc-400a-bb0d-39e1cd0d8b01-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "96c080df-f791-423a-bad8-57a9aa93dc2c-attachment.txt", "type": "text/plain"}], "start": 1761620193955, "stop": 1761620193956}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f30a9088-6c34-4ee3-9d1f-3c126ca75d73-attachment.txt", "type": "text/plain"}], "start": 1761620193956, "stop": 1761620193956}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "db6811bf-82fa-4bc6-adb1-1c1914c9f26e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6523d893-aa62-4609-8788-8b9d9e6cf21d-attachment.txt", "type": "text/plain"}], "start": 1761620196011, "stop": 1761620196065}], "attachments": [{"name": "时区处理", "source": "86f13b19-7e6e-4064-982d-1b4ea5165920-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2a49449c-6fe0-42ba-9212-c722fbf8278a-attachment.txt", "type": "text/plain"}], "start": 1761620196011, "stop": 1761620196065}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6475cd1b-c0fc-4e37-a05d-041c44820fc9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "705f0605-6af2-4c78-8540-bf08d292ac45-attachment.txt", "type": "text/plain"}], "start": 1761620196065, "stop": 1761620196066}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0d0c99f0-05d8-4a34-99e0-6054ea059f0a-attachment.txt", "type": "text/plain"}], "start": 1761620196066, "stop": 1761620196066}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7d6f6a86-7854-41dd-8e8d-a656d4090282-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bec7263b-695f-4c88-85b1-a28bf8121582-attachment.txt", "type": "text/plain"}], "start": 1761620198116, "stop": 1761620198164}], "attachments": [{"name": "时区处理", "source": "d538c54b-50e4-437e-ae75-67bb333ccd42-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f9c20b24-63a3-46a6-95cd-6d3237c20cec-attachment.txt", "type": "text/plain"}], "start": 1761620198116, "stop": 1761620198164}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "521e9205-9cc8-4735-86e2-c5c0788ce9d9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "57eda782-dbb6-40d6-8026-25bdf6672a63-attachment.txt", "type": "text/plain"}], "start": 1761620198164, "stop": 1761620198165}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9962eeb1-dacf-456a-99a7-6a9ee82d3837-attachment.txt", "type": "text/plain"}], "start": 1761620198165, "stop": 1761620198165}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "20a3872a-e3ac-4b9d-a905-011e710f2dcd-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "40ca3e6e-54a2-4052-b898-5001599c90d7-attachment.txt", "type": "text/plain"}], "start": 1761620200232, "stop": 1761620200303}], "attachments": [{"name": "时区处理", "source": "dae41f97-d72e-4bea-b278-cc40e82c2e01-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bfda4d0c-56f1-41f6-b21c-18f970933e0d-attachment.txt", "type": "text/plain"}], "start": 1761620200231, "stop": 1761620200303}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "60567784-f30c-41b6-86e0-07ef79719466-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "de62c4e3-6d5e-4112-a59b-26690b102fe4-attachment.txt", "type": "text/plain"}], "start": 1761620200303, "stop": 1761620200304}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6e140ff6-5685-41a9-bec8-a6037ee97cea-attachment.txt", "type": "text/plain"}], "start": 1761620200304, "stop": 1761620200304}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "fffd1a9e-6f92-43bb-97b3-55e138bde8d9-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "6a36082d-77d5-41d3-b26d-f51e68628d87-attachment.txt", "type": "text/plain"}], "start": 1761620202364, "stop": 1761620202411}], "attachments": [{"name": "时区处理", "source": "0e593e84-fc69-4c39-8efe-d6db3ad4a52d-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0a93adc6-26e2-47c2-beca-4b688dab1b19-attachment.txt", "type": "text/plain"}], "start": 1761620202363, "stop": 1761620202411}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "58a62e91-77cc-4fbd-b82e-8c315565b151-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e5664ba9-23c2-481d-ae68-e68f9f71a8eb-attachment.txt", "type": "text/plain"}], "start": 1761620202412, "stop": 1761620202412}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8967499a-9828-46da-8c2b-e1c48945c24e-attachment.txt", "type": "text/plain"}], "start": 1761620202412, "stop": 1761620202413}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1c7eb120-e94f-458f-8de5-e96bbe713746-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "766c650d-1329-4b23-bedb-d9ea43b8daa7-attachment.txt", "type": "text/plain"}], "start": 1761620204460, "stop": 1761620204509}], "attachments": [{"name": "时区处理", "source": "6ff03507-4fad-41aa-89de-21769104b3db-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7a788a69-7817-42ee-b870-e82cced253e6-attachment.txt", "type": "text/plain"}], "start": 1761620204459, "stop": 1761620204509}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "565e7f68-de79-4992-bc64-7b5416373b9c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "c347519f-f144-4658-bdfd-22bf6d7167b9-attachment.txt", "type": "text/plain"}], "start": 1761620204509, "stop": 1761620204509}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5eaf6260-ef80-4893-aea0-349902097b4b-attachment.txt", "type": "text/plain"}], "start": 1761620204509, "stop": 1761620204510}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eca56bbf-88b1-48cf-bea3-0d090702251b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "86db0817-abef-4ec9-aa46-3aa839560891-attachment.txt", "type": "text/plain"}], "start": 1761620206565, "stop": 1761620206613}], "attachments": [{"name": "时区处理", "source": "83fa79a2-e9ea-43aa-9c63-be74292bfca1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "84cc11d1-3797-477f-8d68-4c2c288bf4ba-attachment.txt", "type": "text/plain"}], "start": 1761620206564, "stop": 1761620206613}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "db01be06-13ef-49f8-969d-026c534505c7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8a07367a-1225-437f-ba96-6cdb5e062741-attachment.txt", "type": "text/plain"}], "start": 1761620206613, "stop": 1761620206614}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "569c35ff-aa18-491a-a886-fe7e6601950c-attachment.txt", "type": "text/plain"}], "start": 1761620206614, "stop": 1761620206614}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ecc91ace-0b87-4988-bfdc-9a3c43a88630-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "77ed80f9-ccf5-4e6a-88b8-f1461aa7ea30-attachment.txt", "type": "text/plain"}], "start": 1761620208675, "stop": 1761620208725}], "attachments": [{"name": "时区处理", "source": "205a3227-93c0-431e-9f53-c1f8b36ecdfb-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "67622af2-bd3d-4112-81e1-d74593a463dc-attachment.txt", "type": "text/plain"}], "start": 1761620208674, "stop": 1761620208725}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ca1a1061-cd0e-4104-9e96-908987c9f14b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "68676d63-2cab-4926-be5a-6f5b4ee485da-attachment.txt", "type": "text/plain"}], "start": 1761620208725, "stop": 1761620208726}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cf308cba-24c4-4dc5-901a-9f7dba925db2-attachment.txt", "type": "text/plain"}], "start": 1761620208726, "stop": 1761620208726}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9b8acd74-9014-488e-a7f4-8998c36547d0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "872a30b5-85cd-4384-bba9-da515050176c-attachment.txt", "type": "text/plain"}], "start": 1761620210778, "stop": 1761620210825}], "attachments": [{"name": "时区处理", "source": "183d8957-b3fb-4e95-aea4-de9ccfa6ec82-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bcef7e04-c1f9-4532-89ea-e3efdbc101e3-attachment.txt", "type": "text/plain"}], "start": 1761620210777, "stop": 1761620210825}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2f8d082f-4626-43e8-bd3b-1a33f8680787-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "09213b5a-97ed-40e3-9fc8-91103a80cd0b-attachment.txt", "type": "text/plain"}], "start": 1761620210825, "stop": 1761620210827}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b945cd19-77e5-4697-805a-5ecb44016052-attachment.txt", "type": "text/plain"}], "start": 1761620210827, "stop": 1761620210827}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1e4392fd-c6b2-4fe7-b8fd-9d6335a44734-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3e80dbed-071d-4a89-b969-3ed95a7e7f11-attachment.txt", "type": "text/plain"}], "start": 1761620212882, "stop": 1761620212931}], "attachments": [{"name": "时区处理", "source": "4d78a13d-5d18-4abb-8d0b-ddfe9351922b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4c1da982-7dcf-4cf9-81f6-2defcbffae28-attachment.txt", "type": "text/plain"}], "start": 1761620212881, "stop": 1761620212931}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "8d6120a0-896b-46eb-b8da-6da5ec4c76be-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3bb1b96d-c276-41a4-8c11-e20f833c8cd4-attachment.txt", "type": "text/plain"}], "start": 1761620212931, "stop": 1761620212931}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7b03f5b6-d3c7-4b13-a15e-436d4da8df11-attachment.txt", "type": "text/plain"}], "start": 1761620212931, "stop": 1761620212932}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0dfd244f-f60a-48dc-a68a-d663def6d982-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2b0e2a78-d0f8-48fc-bac5-bcb5516f336d-attachment.txt", "type": "text/plain"}], "start": 1761620214987, "stop": 1761620215037}], "attachments": [{"name": "时区处理", "source": "981c4b00-72ca-4e09-97a7-e8b7502ba273-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "60a58c6a-1130-413a-a3ad-198c95bef115-attachment.txt", "type": "text/plain"}], "start": 1761620214987, "stop": 1761620215037}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ffad3d52-dcce-45f9-ab51-a188cd285890-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "16fe7a7e-f88b-4f91-9a0f-b1bce7b6eeb0-attachment.txt", "type": "text/plain"}], "start": 1761620215037, "stop": 1761620215037}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9083a2cc-4534-43ad-aa74-dcc6b9c4f511-attachment.txt", "type": "text/plain"}], "start": 1761620215037, "stop": 1761620215037}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a353bda4-07e1-4429-8d54-0c03a519f907-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "8d4a23df-dabe-49d7-bd42-9def0c9d835f-attachment.txt", "type": "text/plain"}], "start": 1761620217098, "stop": 1761620217145}], "attachments": [{"name": "时区处理", "source": "4407f991-ce93-4dbe-9ad6-18042d95fd2b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "729d7c61-43e5-4d89-b593-afcd76ddbc3d-attachment.txt", "type": "text/plain"}], "start": 1761620217097, "stop": 1761620217145}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "bf65c0fe-530c-494c-b8ed-5a543436b81f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5925dc7d-f2c0-4bdd-a377-a46302a20394-attachment.txt", "type": "text/plain"}], "start": 1761620217145, "stop": 1761620217146}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6b95c91b-1c8c-46e9-9ff8-ebdcf7402f11-attachment.txt", "type": "text/plain"}], "start": 1761620217146, "stop": 1761620217146}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a772b675-0316-4338-8f3a-4e2e44782bbc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1fb8b194-868d-42fe-a7be-03649d694ea1-attachment.txt", "type": "text/plain"}], "start": 1761620219206, "stop": 1761620219254}], "attachments": [{"name": "时区处理", "source": "c1278e23-dfbe-46c1-919f-ae266037688b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "50cf4bd0-3313-467d-a950-8dfa47070d3d-attachment.txt", "type": "text/plain"}], "start": 1761620219206, "stop": 1761620219254}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "231a80a7-f29b-492c-84af-ad9bc197a502-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5f97dffa-3a54-4a51-bb63-9c1a8e0a5eba-attachment.txt", "type": "text/plain"}], "start": 1761620219254, "stop": 1761620219255}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ccc6b482-6f14-4862-9402-dc29efb2dc26-attachment.txt", "type": "text/plain"}], "start": 1761620219255, "stop": 1761620219256}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ab962672-4593-4115-b0e7-08e35145950f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7e37f100-f450-4e59-92aa-fef01d64dc5f-attachment.txt", "type": "text/plain"}], "start": 1761620221312, "stop": 1761620221359}], "attachments": [{"name": "时区处理", "source": "d2732ca4-478c-428b-a4d7-1f4db063f1b9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e46bbf04-3474-4617-bb7f-88b99ac975d4-attachment.txt", "type": "text/plain"}], "start": 1761620221311, "stop": 1761620221359}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "3fcc0fb9-3e58-45d2-91d5-32adfd8a8227-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6ee74b96-fcd1-4006-8bd6-833742ca33ac-attachment.txt", "type": "text/plain"}], "start": 1761620221360, "stop": 1761620221360}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "03fdc3fc-a3c9-4e2d-9951-fe8fba9f497f-attachment.txt", "type": "text/plain"}], "start": 1761620221360, "stop": 1761620221361}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "ee0c1375-f1d3-4898-9103-a354fb083d30-attachment.txt", "type": "text/plain"}], "start": 1761620223374, "stop": 1761620223374}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "c8f04fec-6633-4a2d-919c-667dee52b237-attachment.json", "type": "application/json"}], "start": 1761620223424, "stop": 1761620223424}], "attachments": [{"name": "执行SQL", "source": "a97a0ec7-da70-47f3-be6d-92574d832580-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fbec721e-18f6-4c17-b57c-014851577c27-attachment.txt", "type": "text/plain"}], "start": 1761620223375, "stop": 1761620223424}], "attachments": [{"name": "时区处理", "source": "b19dd8bb-0803-4b89-affe-c3003aad83a3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "69d6313e-2f8e-40e0-8a5a-bd853afece92-attachment.txt", "type": "text/plain"}], "start": 1761620223374, "stop": 1761620223424}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "9c6d9f15-3ecc-468a-9a00-05060735676d-attachment.txt", "type": "text/plain"}], "start": 1761620223424, "stop": 1761620223424}], "attachments": [{"name": "执行SQL", "source": "b6d229c5-2516-4cad-b722-bab40aab65ab-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c76f7940-a850-4495-a199-b9eede051de3-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "d4cfb5c1-b18d-4215-a58e-3ae076ac5842-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "d09127dc-5abb-4897-978d-d0cb21633c76-attachment.txt", "type": "text/plain"}], "start": 1761620191758, "stop": 1761620223424}], "start": 1761620191758, "stop": 1761620223424}], "attachments": [{"name": "log", "source": "7e5a49a9-0760-4d8b-9bb1-9ea72f3e6803-attachment.txt", "type": "text/plain"}], "start": 1761620191758, "stop": 1761620223425, "uuid": "57720508-831c-45a8-911f-9628ac3acde0", "historyId": "5c28e356d90c6c70b822102c6be63e3e", "testCaseId": "5c28e356d90c6c70b822102c6be63e3e", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend4#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景4：复制下单-手数0.01-1，总手数5"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "56380-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}