{"name": "出现漏开-redis数据和数据库的数据做比对", "status": "passed", "description": "\n        ### 用例说明\n        - 前置条件：有vps策略和vps跟单\n        - 操作步骤：\n          1. 修改vps跟单账号开仓-关闭\n          2. 进行开仓\n          3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n          4. 修改vps跟单账号开仓-开启\n          5. 进行补单操作，然后平仓\n        - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c27cce89-2d34-4fa6-ab51-5775c25b4b62-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b4c72638-bbbe-4bf7-942b-3f629a2d1579-attachment.txt", "type": "text/plain"}], "start": 1761270188817, "stop": 1761270188865}], "attachments": [{"name": "查询条件", "source": "284e8233-ef62-40bf-9273-a8d99b8ae168-attachment.txt", "type": "text/plain"}], "start": 1761270188816, "stop": 1761270188865}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "79fa3775-b5aa-4e52-8276-c6b703172dd6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "109b0f78-181f-4b42-acd8-4698b1c9aaa1-attachment.txt", "type": "text/plain"}], "start": 1761270188865, "stop": 1761270188866}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "616a9e13-17f9-4d7e-8c1b-e331a8da2ab0-attachment.txt", "type": "text/plain"}], "start": 1761270188866, "stop": 1761270188866}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "20f3cc1e-085d-43d6-a4d6-fa643885dc0c-attachment.txt", "type": "text/plain"}], "start": 1761270188867, "stop": 1761270188867}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7961c51a-f1f5-4fe5-a553-d7c05a502822-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "af4b09de-ec79-44e6-a9f3-7e5ca72d7e6f-attachment.txt", "type": "text/plain"}], "start": 1761270190927, "stop": 1761270190976}], "attachments": [{"name": "查询条件", "source": "217805df-b3f0-4299-a5f9-6a5c65d75bbd-attachment.txt", "type": "text/plain"}], "start": 1761270190927, "stop": 1761270190976}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "89652597-5bbd-41b1-bd03-0fc7764ced6a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f92b411a-adf8-4486-bd31-fc7ee75910ce-attachment.txt", "type": "text/plain"}], "start": 1761270190976, "stop": 1761270190977}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "dfe9f15d-6418-4968-b06e-29d7a4df5ea5-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "eadf3f5d-2f49-45ac-b7ff-c5d09eae11d9-attachment.txt", "type": "text/plain"}], "start": 1761270190977, "stop": 1761270190977}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "fa628177-4e23-46b4-b431-c155752d666d-attachment.txt", "type": "text/plain"}], "start": 1761270190978, "stop": 1761270190978}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "042db9ba-c0dd-43cf-a880-a1328584fcab-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "66a65aff-e889-4b6b-99da-826eaf7d70ab-attachment.txt", "type": "text/plain"}], "start": 1761270193040, "stop": 1761270193090}], "attachments": [{"name": "查询条件", "source": "f659b758-9e24-4ad4-ad66-246a5d3be291-attachment.txt", "type": "text/plain"}], "start": 1761270193039, "stop": 1761270193090}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4c469717-a6e5-4f47-b363-477da390a035-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "27418a9a-aab8-4f4e-9dd7-fc92bbab0894-attachment.txt", "type": "text/plain"}], "start": 1761270193090, "stop": 1761270193091}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "2e852889-0804-4f4d-ace3-b4be89862d92-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "a9b510eb-2c06-41bf-9127-c46ce0eec29b-attachment.txt", "type": "text/plain"}], "start": 1761270193091, "stop": 1761270193092}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "71daa9e5-99f6-4832-976d-e4dea6303178-attachment.txt", "type": "text/plain"}], "start": 1761270193092, "stop": 1761270193092}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "5acb6817-38fd-47a2-945e-a5ed1c613221-attachment.json", "type": "application/json"}], "start": 1761270193092, "stop": 1761270193093}], "attachments": [{"name": "执行SQL", "source": "2a939fcc-937f-44be-b10e-e9b21d33f70f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1df683b8-1f9e-4503-8e95-e498031b2187-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "9b1869e6-a8c1-4a86-9649-d05e1f3c150f-attachment.txt", "type": "text/plain"}], "start": 1761270188769, "stop": 1761270193093}], "start": 1761270188769, "stop": 1761270193093}, {"name": "2. 转换Redis数据为可比较格式", "status": "passed", "start": 1761270193093, "stop": 1761270193094}, {"name": "3. 比较Redis与数据库数据", "status": "passed", "steps": [{"name": "断言数据列表相等", "status": "passed", "attachments": [{"name": "比较维度", "source": "c501f3bb-ebb6-40f5-8959-8f774dbc2b1a-attachment.txt", "type": "text/plain"}, {"name": "精度设置", "source": "b8524573-8f00-4528-8f22-5ce9f163ebb0-attachment.txt", "type": "text/plain"}, {"name": "实际列表", "source": "b1fcde9b-932c-4554-be7f-5d220dae02a2-attachment.json", "type": "application/json"}, {"name": "预期列表", "source": "92ee959c-0521-4770-ab85-1ce0c26cdae4-attachment.json", "type": "application/json"}], "start": 1761270193094, "stop": 1761270193095}], "start": 1761270193094, "stop": 1761270193095}], "attachments": [{"name": "log", "source": "529d51ee-ae91-4ddc-8595-9e0d88784ec4-attachment.txt", "type": "text/plain"}], "start": 1761270188769, "stop": 1761270193095, "uuid": "fc6f86b2-cc8f-4563-a4b2-cca6c2627b05", "historyId": "96da64f20b99b8c67ffa9272e676a8c2", "testCaseId": "96da64f20b99b8c67ffa9272e676a8c2", "fullName": "test_vps.test_lianxi.TestLeakageopen#test_dbquery_redis", "labels": [{"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "15992-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi"}]}