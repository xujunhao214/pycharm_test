{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend5 object at 0x0000024D508E9850>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x0000024D503C7670>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D503C7370>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing5\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:2211: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend5 object at 0x0000024D508E9850>\ndb_transaction = <pymysql.connections.Connection object at 0x0000024D503C7370>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing5'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.1-1，总订单5-停止功能\n      2. 点击停止\n      3. 校验账号的下单总手数和数据库的手数，应该不相等\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：云策略下单的停止功能正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 2211, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "01265d30-e241-4689-9973-000094121bbc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "56adc19d-e126-41f8-927e-9869bc7dbc33-attachment.txt", "type": "text/plain"}], "start": 1761615197958, "stop": 1761615198006}], "attachments": [{"name": "时区处理", "source": "325711c2-c0d9-4179-be94-a7225b68be8c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8f00c9e0-ed7f-49d0-bc2a-b3d40839d37b-attachment.txt", "type": "text/plain"}], "start": 1761615197956, "stop": 1761615198006}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "06492ebf-1a84-43cf-ae6c-8bb712df7fd1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e575ad5c-332c-4af9-9b49-843ecbae94d1-attachment.txt", "type": "text/plain"}], "start": 1761615198006, "stop": 1761615198007}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fe69673e-8f91-450b-a3c2-1e984db64667-attachment.txt", "type": "text/plain"}], "start": 1761615198007, "stop": 1761615198008}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "78494434-5a78-4453-9811-540148faedbf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bb117563-7355-4c16-9d5d-0b03e2ee11a8-attachment.txt", "type": "text/plain"}], "start": 1761615200073, "stop": 1761615200121}], "attachments": [{"name": "时区处理", "source": "8f032d47-4289-4806-aab1-d3f33a973be4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7fd1d4f8-93a4-4124-a5ba-4733191719c7-attachment.txt", "type": "text/plain"}], "start": 1761615200072, "stop": 1761615200121}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "908a82b8-1424-4ebb-8887-f9258b7d2003-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f432c63e-cde9-479b-a6aa-2b309669fb3d-attachment.txt", "type": "text/plain"}], "start": 1761615200121, "stop": 1761615200122}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8342a25e-dbce-4081-a550-4fa15e46b4fb-attachment.txt", "type": "text/plain"}], "start": 1761615200122, "stop": 1761615200122}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "76b8082a-5cad-4650-8e73-245688f8fd07-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d13f02a0-4491-48c6-9dfa-8efa58a0ddb7-attachment.txt", "type": "text/plain"}], "start": 1761615202178, "stop": 1761615202224}], "attachments": [{"name": "时区处理", "source": "8b044351-965c-44bf-b5f7-e78254247ff8-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "520ee7ed-37b2-4b7f-800f-6bed2a1a9938-attachment.txt", "type": "text/plain"}], "start": 1761615202177, "stop": 1761615202224}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "60f2cc36-a8ab-4ca1-9cd4-40fb291b001c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7a8d0c53-01ca-40ff-b71b-de5c4f1f4ead-attachment.txt", "type": "text/plain"}], "start": 1761615202224, "stop": 1761615202225}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a6869848-8259-4ec7-a301-4473a839d6ff-attachment.txt", "type": "text/plain"}], "start": 1761615202225, "stop": 1761615202226}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f7bd2d1f-6cd3-4106-b9a1-5baddf4dd981-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "700406d5-336e-41e9-bfcc-035365c47c70-attachment.txt", "type": "text/plain"}], "start": 1761615204277, "stop": 1761615204322}], "attachments": [{"name": "时区处理", "source": "36dc8a16-2534-4b2e-9314-ff26e503d8d1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "45b8ee3b-0962-420b-b5e2-64bf3716c649-attachment.txt", "type": "text/plain"}], "start": 1761615204276, "stop": 1761615204322}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "83e61cbf-6d71-4968-8710-a2140151a0fa-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "34a4ed05-ae85-4d03-9b7b-307fc8219600-attachment.txt", "type": "text/plain"}], "start": 1761615204322, "stop": 1761615204323}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "35a2becf-21fe-489b-96da-9a6cff0d730b-attachment.txt", "type": "text/plain"}], "start": 1761615204323, "stop": 1761615204323}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5c306d72-181b-430b-b853-05b617ade328-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0073eb8c-4c1f-41d7-81a8-9589f8cd402d-attachment.txt", "type": "text/plain"}], "start": 1761615206382, "stop": 1761615206431}], "attachments": [{"name": "时区处理", "source": "551783cd-0bb0-4c27-ab35-48e5c43d083e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9273a234-9fe1-47b6-bb05-3bd9704d1753-attachment.txt", "type": "text/plain"}], "start": 1761615206381, "stop": 1761615206431}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2baf532f-c80e-4cc8-9194-ecb8697889fe-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6317edc5-ccfd-4f25-97ca-8c5dc6049360-attachment.txt", "type": "text/plain"}], "start": 1761615206431, "stop": 1761615206432}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f26c4680-fc8f-4125-bf1d-b5141ca0998b-attachment.txt", "type": "text/plain"}], "start": 1761615206432, "stop": 1761615206432}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1ce0479c-7b48-4d93-83ba-1325c4e43e64-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "20a19c0b-85dc-4d4f-9cc9-a9c53d315371-attachment.txt", "type": "text/plain"}], "start": 1761615208482, "stop": 1761615208528}], "attachments": [{"name": "时区处理", "source": "354db8f0-daf2-4360-a0a7-18948938745c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5ab57ae8-e478-4192-be29-afc4c77e0083-attachment.txt", "type": "text/plain"}], "start": 1761615208481, "stop": 1761615208528}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "c5b04394-4a22-4faa-8e23-33502628fde8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "77768ad4-ad0c-47a3-bd3f-f11ba39b9cfe-attachment.txt", "type": "text/plain"}], "start": 1761615208528, "stop": 1761615208530}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "51fed541-ca73-470e-a745-87acf7f4b305-attachment.txt", "type": "text/plain"}], "start": 1761615208530, "stop": 1761615208530}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "34799e58-056e-4356-a05b-2cdb12c8402d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ff0506c3-992a-421e-9048-079131b3091d-attachment.txt", "type": "text/plain"}], "start": 1761615210578, "stop": 1761615210625}], "attachments": [{"name": "时区处理", "source": "e201f7c8-5d36-4a3d-8328-5a5e31d37b26-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "e69c1f65-4ab2-43f8-bc4e-69b86db63cbd-attachment.txt", "type": "text/plain"}], "start": 1761615210577, "stop": 1761615210625}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7c1a9fc7-4253-48eb-8dec-d0ec228939b1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "5732203e-49cb-445c-840b-5643ebfa7992-attachment.txt", "type": "text/plain"}], "start": 1761615210625, "stop": 1761615210626}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ca773adf-d45c-4d6f-922f-b7073ab207e1-attachment.txt", "type": "text/plain"}], "start": 1761615210626, "stop": 1761615210626}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5774f77a-aa2a-4fd6-969c-84fb72224208-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "defb3dd2-ca81-4561-9e04-a633e47ddaa6-attachment.txt", "type": "text/plain"}], "start": 1761615212681, "stop": 1761615212727}], "attachments": [{"name": "时区处理", "source": "84a7668f-ae8d-468f-a838-8390c3e8fecf-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f1a8f358-ecfc-4b22-9ce6-a9c032efe015-attachment.txt", "type": "text/plain"}], "start": 1761615212681, "stop": 1761615212727}, {"name": "轮询中（已等待14.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b8abb971-6111-46c4-8bd5-bffcb50ddf0a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "65799951-8938-40fa-8eb5-f8380ca15a00-attachment.txt", "type": "text/plain"}], "start": 1761615212728, "stop": 1761615212728}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1d45a189-7f54-4ff3-a6b5-e02b9fa33de7-attachment.txt", "type": "text/plain"}], "start": 1761615212728, "stop": 1761615212729}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bb78f390-31c6-4e1b-ac36-9f3dfeddf25b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4c524374-483d-4510-83b4-b5b3af979894-attachment.txt", "type": "text/plain"}], "start": 1761615214778, "stop": 1761615214824}], "attachments": [{"name": "时区处理", "source": "840bdd99-7c90-4180-8fa8-28752d187b01-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7f782bb3-5bb6-4f37-bc21-ba9d37361ed2-attachment.txt", "type": "text/plain"}], "start": 1761615214777, "stop": 1761615214824}, {"name": "轮询中（已等待16.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d2e49f60-1d63-4135-887c-66d54d42b865-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8b063de5-305f-4815-ae63-a0947e91356e-attachment.txt", "type": "text/plain"}], "start": 1761615214824, "stop": 1761615214825}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "0e32c0cc-17a6-4543-bb44-0e2a2cf7d53f-attachment.txt", "type": "text/plain"}], "start": 1761615214825, "stop": 1761615214825}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "36497856-1d93-4b5d-8c0c-83a583f6ff5b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "005545a8-ad66-4fc8-87fc-0ce60a820cfc-attachment.txt", "type": "text/plain"}], "start": 1761615216885, "stop": 1761615216945}], "attachments": [{"name": "时区处理", "source": "0bda168f-903d-4f77-9279-a67669a5f2ac-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6056780e-cd90-4f42-8c07-31e6183ecf9b-attachment.txt", "type": "text/plain"}], "start": 1761615216882, "stop": 1761615216946}, {"name": "轮询中（已等待19.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "68f985e9-261d-453f-aba2-37caf461c275-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "cad665f1-e38d-4773-aefd-42f2385b853e-attachment.txt", "type": "text/plain"}], "start": 1761615216946, "stop": 1761615216948}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "986bcd22-c665-47f9-ae8f-cf75cc982b20-attachment.txt", "type": "text/plain"}], "start": 1761615216948, "stop": 1761615216949}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b71aff36-4cbb-4363-8dd3-f98c31697f61-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4fb9f605-9376-44dc-8a1a-1846683f9880-attachment.txt", "type": "text/plain"}], "start": 1761615219003, "stop": 1761615219057}], "attachments": [{"name": "时区处理", "source": "70d0ac25-bf04-475a-a65e-25ab00f20491-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "cad7cede-9dd8-4c74-8e80-b9b6e6708e98-attachment.txt", "type": "text/plain"}], "start": 1761615219002, "stop": 1761615219057}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "02462e81-7893-42db-ac20-c3ca11e41b2e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1d99a4ca-3e3f-4482-8f14-fb352688dba8-attachment.txt", "type": "text/plain"}], "start": 1761615219057, "stop": 1761615219058}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "87c04e2c-1360-46ea-adb0-6ce7440de6bd-attachment.txt", "type": "text/plain"}], "start": 1761615219058, "stop": 1761615219058}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "69045b72-f5cf-42b1-9b88-478d47f6ea69-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "85751739-636b-4f32-b742-228c94911d4d-attachment.txt", "type": "text/plain"}], "start": 1761615221116, "stop": 1761615221163}], "attachments": [{"name": "时区处理", "source": "376fcb52-6089-46ad-a900-850fe02fa9ed-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c5fa88bd-aad3-459a-b7e8-676f402c5691-attachment.txt", "type": "text/plain"}], "start": 1761615221115, "stop": 1761615221163}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "96c7b4a1-d4bc-4bc4-8561-cb82e125c267-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b857ff61-d3d5-421c-bd5b-3f883a0af934-attachment.txt", "type": "text/plain"}], "start": 1761615221163, "stop": 1761615221164}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "42732e50-afc9-48fd-80da-90cfe136f08d-attachment.txt", "type": "text/plain"}], "start": 1761615221164, "stop": 1761615221164}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "09f03d75-cd6f-4bea-8623-c111bdd9e752-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "45570b10-97c1-4192-91d7-89e71a86f92f-attachment.txt", "type": "text/plain"}], "start": 1761615223268, "stop": 1761615223317}], "attachments": [{"name": "时区处理", "source": "20454a78-322b-45db-8d81-ee4cbb49fb47-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9dee0485-a67c-4fb9-80a1-da0959daca88-attachment.txt", "type": "text/plain"}], "start": 1761615223267, "stop": 1761615223317}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "823c744b-f1e6-4678-af4c-2c1b33670fd8-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "aa1f9d08-bd4f-4b90-a7ec-92acda23a0bd-attachment.txt", "type": "text/plain"}], "start": 1761615223317, "stop": 1761615223318}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4e2e030d-f822-4149-ad3a-7b9e27a34ac7-attachment.txt", "type": "text/plain"}], "start": 1761615223318, "stop": 1761615223319}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2d0e4fbc-eab5-4614-a4da-e912549414b0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c58be9b0-25fa-454f-9e9d-1b866c791f4f-attachment.txt", "type": "text/plain"}], "start": 1761615225368, "stop": 1761615225414}], "attachments": [{"name": "时区处理", "source": "bb878b17-08fe-4f0d-a838-52d4b0966554-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9fa7cfd4-c283-4615-95e5-8ca02ae7e498-attachment.txt", "type": "text/plain"}], "start": 1761615225367, "stop": 1761615225414}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e64a0387-3c1f-4c40-8f01-7bf0c22300d9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9c78adbd-5b49-425d-bbc0-bf23dc630167-attachment.txt", "type": "text/plain"}], "start": 1761615225414, "stop": 1761615225415}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6c1ac3da-da69-4753-a9b9-a72f4aa5a6c4-attachment.txt", "type": "text/plain"}], "start": 1761615225415, "stop": 1761615225416}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c8d05f1f-500d-4d77-9e83-def1104d1a9e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "58d6d5b8-1e1c-465b-8592-8782d4e4dc4a-attachment.txt", "type": "text/plain"}], "start": 1761615227469, "stop": 1761615227518}], "attachments": [{"name": "时区处理", "source": "08e5e317-36be-4860-804d-3d777bc4d8c4-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bb642ac6-71d5-48db-b37d-4c66ec3daa7c-attachment.txt", "type": "text/plain"}], "start": 1761615227468, "stop": 1761615227519}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "765e277e-a470-4c3b-be60-2475cb693b1e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "65343095-8bf6-484d-ab1a-21bc25997245-attachment.txt", "type": "text/plain"}], "start": 1761615227519, "stop": 1761615227519}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9bf715d1-6021-47c0-a35f-c9bc75e90bc3-attachment.txt", "type": "text/plain"}], "start": 1761615227520, "stop": 1761615227520}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "f81f67f1-1007-4541-999f-79490415c9c0-attachment.txt", "type": "text/plain"}], "start": 1761615229523, "stop": 1761615229524}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "356a291c-3e29-4a7a-ad96-66a072181886-attachment.json", "type": "application/json"}], "start": 1761615229571, "stop": 1761615229572}], "attachments": [{"name": "执行SQL", "source": "d39cd09b-df64-4412-a444-851ff024e52b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "04084ad3-a984-4367-882e-2f6fd3b4161a-attachment.txt", "type": "text/plain"}], "start": 1761615229525, "stop": 1761615229572}], "attachments": [{"name": "时区处理", "source": "27ba0697-62be-47bc-9702-0321dca7f954-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "275deee4-4316-4fbb-b922-06b605e1ab67-attachment.txt", "type": "text/plain"}], "start": 1761615229524, "stop": 1761615229572}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "1513d9d1-6fce-4c2a-938c-138eb501951a-attachment.txt", "type": "text/plain"}], "start": 1761615229572, "stop": 1761615229573}], "attachments": [{"name": "执行SQL", "source": "cd52c1ec-685f-4da6-8bea-9df8b76b595a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fd25f01d-e1ef-4b8e-b916-364d52f8766c-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "c395efbb-40e7-460c-aac9-65b8f827acc8-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "13613602-02b6-4779-ae91-74c600c23bca-attachment.txt", "type": "text/plain"}], "start": 1761615197906, "stop": 1761615229573}], "start": 1761615197906, "stop": 1761615229573}], "attachments": [{"name": "log", "source": "3a10b5b9-6915-4ea4-9d57-2d109ccb6a89-attachment.txt", "type": "text/plain"}], "start": 1761615197905, "stop": 1761615229573, "uuid": "62068338-e2b8-4708-915b-e397f122ba86", "historyId": "195906cc83dd7f3b718d2b6266b1f74f", "testCaseId": "195906cc83dd7f3b718d2b6266b1f74f", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend5#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景5：复制下单-手数0.1-1，总订单5-停止功能"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "32268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}