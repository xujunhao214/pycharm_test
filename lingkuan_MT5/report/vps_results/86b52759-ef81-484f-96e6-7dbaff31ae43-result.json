{"name": "数据库校验-策略开仓-主指令及订单详情数据检查", "status": "passed", "description": "\n        ### 用例说明\n        - 前置条件：有vps策略和vps跟单\n        - 操作步骤：\n          1. 修改vps跟单账号开仓-关闭\n          2. 进行开仓\n          3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n          4. 修改vps跟单账号开仓-开启\n          5. 进行补单操作，然后平仓\n        - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "aaddabd7-ca04-47be-bae2-9695b4f017de-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "40179a06-9f76-4983-90cf-7d2cb07bb304-attachment.txt", "type": "text/plain"}], "start": 1761270178825, "stop": 1761270178877}], "attachments": [{"name": "时区处理", "source": "5e6382e3-404a-4e85-8c0d-778cca0b090f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "950bc390-8e01-4d36-ba1a-b4636712a8c5-attachment.txt", "type": "text/plain"}], "start": 1761270178824, "stop": 1761270178877}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "658aa4ce-1510-4173-a08a-b8207d4bb469-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ddfae242-1f79-40c6-8447-790d78308a88-attachment.txt", "type": "text/plain"}], "start": 1761270178877, "stop": 1761270178878}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "62332c8d-8507-4e70-9d2f-d77a88dccac8-attachment.txt", "type": "text/plain"}], "start": 1761270178878, "stop": 1761270178878}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "53e5fca5-e77c-4a1e-bc15-b609f67ea3d2-attachment.txt", "type": "text/plain"}], "start": 1761270178878, "stop": 1761270178878}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "257dce2e-18ee-4e37-a459-fcadcf1a22d0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bc6bbe32-b370-45f0-ad52-a66938135f8b-attachment.txt", "type": "text/plain"}], "start": 1761270180929, "stop": 1761270180980}], "attachments": [{"name": "时区处理", "source": "60b585e4-3b34-4951-85e0-cd03d413a7ef-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "21fb442c-778b-419c-bacf-e89d1f3bd336-attachment.txt", "type": "text/plain"}], "start": 1761270180928, "stop": 1761270180980}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "17be77a5-6dab-4b18-a85a-332a0ff77414-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "abc9190a-2e02-451c-b64f-ffce3b0b14f8-attachment.txt", "type": "text/plain"}], "start": 1761270180980, "stop": 1761270180981}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "996c111c-2bd0-45d9-8561-8056dfc54073-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "af6ff155-6b80-409e-ad55-4ca79b16867a-attachment.txt", "type": "text/plain"}], "start": 1761270180981, "stop": 1761270180981}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "0bfe0937-ef7d-4b5d-bc17-4ea3bc81fcde-attachment.txt", "type": "text/plain"}], "start": 1761270180981, "stop": 1761270180982}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f32ea7e7-f143-4bb6-9370-b98a9cb91889-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e3eeb44c-016b-404a-a530-bb6a0baa851f-attachment.txt", "type": "text/plain"}], "start": 1761270183039, "stop": 1761270183090}], "attachments": [{"name": "时区处理", "source": "5e801681-712c-45ff-8da7-0f91b77f5d21-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "93623aa7-9f33-480a-9907-5802ca393774-attachment.txt", "type": "text/plain"}], "start": 1761270183038, "stop": 1761270183090}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5ea9cf72-de83-488b-a3fe-f9bc225664d0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a3ada934-1db4-4fa5-87da-a9a78fb82069-attachment.txt", "type": "text/plain"}], "start": 1761270183090, "stop": 1761270183091}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "33ddc908-c403-4271-b116-9236b0b414ba-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "89469403-256d-4e11-aae9-6e55701e3c43-attachment.txt", "type": "text/plain"}], "start": 1761270183091, "stop": 1761270183091}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "f1782600-a4e6-4330-aab9-6a2e1cb47522-attachment.txt", "type": "text/plain"}], "start": 1761270183091, "stop": 1761270183092}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "cb3b4d87-b202-4aee-b357-5cb90d9fc7dc-attachment.json", "type": "application/json"}], "start": 1761270183092, "stop": 1761270183092}], "attachments": [{"name": "执行SQL", "source": "5a0880c0-9405-4c8a-bf3a-352c03dfb03d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c5a95fb9-13c2-4806-9956-51f3368526cc-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "039d9654-f386-4405-9644-a040ad8ab54f-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "26d6cb18-0608-4ed4-a360-53e871fa4b62-attachment.txt", "type": "text/plain"}], "start": 1761270178774, "stop": 1761270183092}], "start": 1761270178774, "stop": 1761270183092}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "becd2f74-9ff7-4a0d-a38e-8d7c1a21aa27-attachment.attach", "type": "text/plain"}], "start": 1761270183092, "stop": 1761270183092}], "start": 1761270183092, "stop": 1761270183092}, {"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "78050dc9-85a9-45ff-be9c-5085ee11cc32-attachment.attach", "type": "text/plain"}], "start": 1761270183092, "stop": 1761270183093}], "start": 1761270183092, "stop": 1761270183093}, {"name": "验证手数范围-开始手数", "status": "passed", "steps": [{"name": "校验: 开始手数应符合预期", "status": "passed", "attachments": [{"name": "开始手数详情", "source": "e2d0ffee-c753-47a4-bad1-b3d08022b528-attachment.attach", "type": "text/plain"}], "start": 1761270183093, "stop": 1761270183094}], "start": 1761270183093, "stop": 1761270183094}, {"name": "验证手数范围-结束手数", "status": "passed", "steps": [{"name": "校验: 结束手数应符合预期", "status": "passed", "attachments": [{"name": "结束手数详情", "source": "86d2ada3-d1d0-4051-b40b-aef17906b40a-attachment.attach", "type": "text/plain"}], "start": 1761270183094, "stop": 1761270183094}], "start": 1761270183094, "stop": 1761270183094}, {"name": "验证指令总手数", "status": "passed", "steps": [{"name": "校验: 指令总手数应符合预期", "status": "passed", "attachments": [{"name": "指令总手数详情", "source": "a3ed5c3f-c313-4b9e-a0e6-339c4d99574a-attachment.attach", "type": "text/plain"}], "start": 1761270183094, "stop": 1761270183094}], "start": 1761270183094, "stop": 1761270183094}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "c5060c40-d97b-4905-bdec-de465166cfd7-attachment.attach", "type": "text/plain"}], "start": 1761270183094, "stop": 1761270183095}], "start": 1761270183094, "stop": 1761270183095}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "72d99bc4-8b59-4e48-b841-ee032011d269-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "a68d5daf-d4c4-4039-b32d-2bbbce1cd72a-attachment.attach", "type": "text/plain"}], "start": 1761270183095, "stop": 1761270183096}], "start": 1761270183095, "stop": 1761270183096}], "start": 1761270183092, "stop": 1761270183096}], "attachments": [{"name": "log", "source": "2568de3f-9ed8-4bc6-b34f-2a32acd107e0-attachment.txt", "type": "text/plain"}], "start": 1761270178774, "stop": 1761270183096, "uuid": "bcaf062b-a1b5-4304-92c1-c8dd9aa42967", "historyId": "a3b20add65ba304e78cf13865ecf46cf", "testCaseId": "a3b20add65ba304e78cf13865ecf46cf", "fullName": "test_vps.test_lianxi.TestLeakageopen#test_dbquery_orderSend", "labels": [{"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "15992-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi"}]}