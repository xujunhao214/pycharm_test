{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend7 object at 0x000001EBBD347610>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x000001EBBD5CC6A0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD0CA280>\n\n>   ???\n\ntest_vps\\test_vps_ordersend.py:3152: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend7 object at 0x000001EBBD347610>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD0CA280>\nsql = '\\n                    SELECT \\n                        fod.account,\\n                        fod.size,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing7'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 场景校验：手数范围>总手数>订单数量\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.3-1，总订单数量1，总手数5\n      2. 校验权重，优先满足手数范围，然后是总手数\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：权重正确，优先满足手数范围，然后是总手数\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 3152, in test_dbquery_orderSendclose\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "7cf94bda-13b5-4b22-8278-230d113ada9b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9daf84f5-1700-4047-9bb6-ee4ea4e9cba4-attachment.txt", "type": "text/plain"}], "start": 1761546127016, "stop": 1761546127077}], "attachments": [{"name": "时区处理", "source": "c8b6a469-9fa9-4dfe-8ec4-6cc9b12aee69-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2efb05ab-a88f-4c80-a054-14ece31c7382-attachment.txt", "type": "text/plain"}], "start": 1761546127015, "stop": 1761546127078}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "1476b47c-3e36-4224-a4ef-0f0b9288df6a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a6a7f356-a997-486d-829a-db54e87f16fd-attachment.txt", "type": "text/plain"}], "start": 1761546127078, "stop": 1761546127078}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ed21d5c3-b155-41cc-9ae0-8412d1a5fd6f-attachment.txt", "type": "text/plain"}], "start": 1761546127078, "stop": 1761546127079}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9fd3c7cc-3726-46ce-9612-54493bf98993-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "0656e108-959c-4a49-850a-e318e13591bf-attachment.txt", "type": "text/plain"}], "start": 1761546129142, "stop": 1761546129191}], "attachments": [{"name": "时区处理", "source": "e39c93c7-0e05-4b0b-b47f-77941023f62e-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "37f2e938-62f9-4f85-8fe1-28c93051da25-attachment.txt", "type": "text/plain"}], "start": 1761546129141, "stop": 1761546129191}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "05ad6daa-0c50-420e-b254-b7c6dea1cad3-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a1efb9f9-9ac0-4b91-a918-3129d2ad6e3a-attachment.txt", "type": "text/plain"}], "start": 1761546129191, "stop": 1761546129192}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "43b5fceb-0e49-489a-b506-4008e1c17301-attachment.txt", "type": "text/plain"}], "start": 1761546129192, "stop": 1761546129193}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "87fbc059-eac6-4192-8a8c-015fa36ef5f6-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "abe1f774-5f7a-4156-9150-cb3573b58c8d-attachment.txt", "type": "text/plain"}], "start": 1761546131255, "stop": 1761546131305}], "attachments": [{"name": "时区处理", "source": "994c4e4f-053c-41e5-9255-0d0056d86ccd-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fc6caca2-7cf8-4071-9a57-b522921c173f-attachment.txt", "type": "text/plain"}], "start": 1761546131254, "stop": 1761546131305}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "87f1d4c2-f76b-4e78-97b3-32f9c3f88014-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "daa4cb69-c91a-4976-8f67-89ac51d1a700-attachment.txt", "type": "text/plain"}], "start": 1761546131305, "stop": 1761546131306}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fdcadc73-ffae-4139-b1f4-65e63fd5e3bf-attachment.txt", "type": "text/plain"}], "start": 1761546131306, "stop": 1761546131306}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "0b1100f4-b059-4878-b4bb-ed785f006167-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b9281f0b-fe95-4a5c-9fb9-0268229dfaea-attachment.txt", "type": "text/plain"}], "start": 1761546133356, "stop": 1761546133405}], "attachments": [{"name": "时区处理", "source": "d9cef22d-a671-4059-be09-94e2f7d52f69-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "29c997ee-df28-469a-889e-2875e2099583-attachment.txt", "type": "text/plain"}], "start": 1761546133355, "stop": 1761546133405}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "120e65d6-8ecd-41e3-a626-95be3f8c3c8c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "eb108f38-2b82-446a-87a8-17f45861e1de-attachment.txt", "type": "text/plain"}], "start": 1761546133405, "stop": 1761546133406}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fa5d0202-8081-4b36-8e49-0115d21ee397-attachment.txt", "type": "text/plain"}], "start": 1761546133406, "stop": 1761546133406}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "763d4868-2bbe-4b48-9f86-0ac4bdc9e59b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "539746a2-cf1e-4100-8f3f-4bb2e9905c18-attachment.txt", "type": "text/plain"}], "start": 1761546135457, "stop": 1761546135503}], "attachments": [{"name": "时区处理", "source": "25e1da87-f06f-456b-baab-3976faf35bc6-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "177b73d8-4ece-4823-b663-3206744b7423-attachment.txt", "type": "text/plain"}], "start": 1761546135456, "stop": 1761546135503}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b105d4b1-59bb-44ae-b90b-f76d1064ec11-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d8bdb236-b48e-4d51-a8c1-b4c6dca99b34-attachment.txt", "type": "text/plain"}], "start": 1761546135503, "stop": 1761546135503}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "fa3f5f4b-ecc1-4c2c-8adb-1a5c9826be98-attachment.txt", "type": "text/plain"}], "start": 1761546135503, "stop": 1761546135504}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4d7a5e38-aaa0-45cd-bb4b-ffbaa02bc3e3-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f8e877cb-c8f6-4454-a804-12de74415f9d-attachment.txt", "type": "text/plain"}], "start": 1761546137562, "stop": 1761546137610}], "attachments": [{"name": "时区处理", "source": "7882f3d5-b1f6-4f7f-a7d0-6e094fe8fe29-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4127f8c5-4a27-4793-ba32-bbd4f0aa5187-attachment.txt", "type": "text/plain"}], "start": 1761546137561, "stop": 1761546137610}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "47e54c6b-986b-4b78-bc02-95649a20a58f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ba3f6daa-1e5a-4850-8946-4ec5df66fe0b-attachment.txt", "type": "text/plain"}], "start": 1761546137610, "stop": 1761546137611}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "def51d4b-7c6c-43bd-b11b-f7198ad5a9dd-attachment.txt", "type": "text/plain"}], "start": 1761546137611, "stop": 1761546137611}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b6baaa4a-c09b-45d0-bb6a-09eed7c066bf-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "e7536e04-b7de-4ced-9fc0-0b74de67559e-attachment.txt", "type": "text/plain"}], "start": 1761546139662, "stop": 1761546139711}], "attachments": [{"name": "时区处理", "source": "f8176a45-0fae-46b4-a198-212c27a5d537-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "dc11c6f4-6154-440e-989f-19b26d3242c1-attachment.txt", "type": "text/plain"}], "start": 1761546139661, "stop": 1761546139711}, {"name": "轮询中（已等待12.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9fc22e5f-6e17-4390-865d-870c9b90ea85-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1f020ecb-13b4-42d8-b4c1-3def28243746-attachment.txt", "type": "text/plain"}], "start": 1761546139711, "stop": 1761546139712}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b61c03c8-c4a9-4d35-8fd5-7e24cf3504c5-attachment.txt", "type": "text/plain"}], "start": 1761546139712, "stop": 1761546139713}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "61121406-7a9c-4ce8-8e1e-5345829cb670-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ee1ce82b-3c03-448c-8303-ac5dea548060-attachment.txt", "type": "text/plain"}], "start": 1761546141779, "stop": 1761546141840}], "attachments": [{"name": "时区处理", "source": "51d788bf-a6e9-4f88-aaeb-31008fa023e2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4056d116-ca22-4de1-824c-ca6ed3cc624c-attachment.txt", "type": "text/plain"}], "start": 1761546141778, "stop": 1761546141840}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b8a52145-3cbc-40c4-993c-839add05b96e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a09588b3-fe1e-4761-82fd-56364697ccd4-attachment.txt", "type": "text/plain"}], "start": 1761546141840, "stop": 1761546141842}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f9dd03ed-cf6b-42ce-98cc-fd4495ac04ef-attachment.txt", "type": "text/plain"}], "start": 1761546141842, "stop": 1761546141842}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a9ebc52b-9283-4109-a611-3eab4c3442dc-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "77cd07e8-ece5-4ec5-8f02-6190e0422901-attachment.txt", "type": "text/plain"}], "start": 1761546143898, "stop": 1761546143945}], "attachments": [{"name": "时区处理", "source": "75754820-908c-4596-b700-06558ca33c96-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "96d9c0e4-ee0b-4137-8ae0-401af01e1a20-attachment.txt", "type": "text/plain"}], "start": 1761546143897, "stop": 1761546143945}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2cc3c261-12ed-4340-8311-8cb148cbca54-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b53ff35b-5e48-443e-937e-1bc36195e806-attachment.txt", "type": "text/plain"}], "start": 1761546143945, "stop": 1761546143947}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d28563e6-3c89-47da-b765-3cb8e8094857-attachment.txt", "type": "text/plain"}], "start": 1761546143947, "stop": 1761546143947}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1eb86231-bd1d-4bf2-90b6-f05c2d579ae4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f1afa6a9-5ffb-4eea-afa1-15b484a4ed30-attachment.txt", "type": "text/plain"}], "start": 1761546146006, "stop": 1761546146051}], "attachments": [{"name": "时区处理", "source": "fef1ed0c-6c60-45c4-a7d3-c7053e509099-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0f1d4555-e055-4198-bd3e-cb17eafa43c2-attachment.txt", "type": "text/plain"}], "start": 1761546146005, "stop": 1761546146051}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4d89787d-5031-4fc3-9a9e-a56801479158-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "75d1031f-de28-4e19-8b9c-4e1c60a33998-attachment.txt", "type": "text/plain"}], "start": 1761546146051, "stop": 1761546146052}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "abf3811a-dd22-4a8b-a2c9-916f893e8da9-attachment.txt", "type": "text/plain"}], "start": 1761546146052, "stop": 1761546146052}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "31e415da-89df-4152-a5eb-e9dbeea1b008-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "eb38aab4-1865-4fc0-b694-55cb0cf81423-attachment.txt", "type": "text/plain"}], "start": 1761546148105, "stop": 1761546148154}], "attachments": [{"name": "时区处理", "source": "d880961a-c7c7-41ad-a1f6-0981f9e21ae1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bf87b01e-5d7d-49ee-b24a-635af5eb3b13-attachment.txt", "type": "text/plain"}], "start": 1761546148103, "stop": 1761546148154}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ccf93489-7650-4dcb-877a-a4fd8de6c094-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "24502cc3-c8ca-4054-bbca-686e33459cdb-attachment.txt", "type": "text/plain"}], "start": 1761546148154, "stop": 1761546148155}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9db3f097-f144-4728-a6e6-70901b791608-attachment.txt", "type": "text/plain"}], "start": 1761546148155, "stop": 1761546148155}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "ec608bab-168c-40ee-b19a-e231c1718f95-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "88da8767-c9bc-42a9-9f79-c2402f310f45-attachment.txt", "type": "text/plain"}], "start": 1761546150203, "stop": 1761546150250}], "attachments": [{"name": "时区处理", "source": "97da9182-c894-4bdc-9c5f-0483ef3542d2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "0a7b0a92-7159-4650-aa9a-7d288a520993-attachment.txt", "type": "text/plain"}], "start": 1761546150202, "stop": 1761546150250}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "9e00caf8-a1fe-4426-b5da-11b3e4205947-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1d9c66c2-89c5-4057-8454-5917220ad45f-attachment.txt", "type": "text/plain"}], "start": 1761546150250, "stop": 1761546150251}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8675f27f-d6e1-4567-b7ee-86515c689adf-attachment.txt", "type": "text/plain"}], "start": 1761546150251, "stop": 1761546150251}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "15e4f5c0-0aac-4605-939b-c004d2d92f41-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "2d980366-8a00-4766-b727-c98ac1ebf738-attachment.txt", "type": "text/plain"}], "start": 1761546152307, "stop": 1761546152354}], "attachments": [{"name": "时区处理", "source": "15924b60-d41d-461f-97c2-40345d851613-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "fb3f80e5-d6e2-4216-bc4c-fe934103fd82-attachment.txt", "type": "text/plain"}], "start": 1761546152306, "stop": 1761546152354}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "64f513a5-c573-4485-9e67-3144e0ea7723-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8bb3f207-2d98-47b3-8fdf-d9a40337b839-attachment.txt", "type": "text/plain"}], "start": 1761546152354, "stop": 1761546152355}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a7234632-9e24-431c-928e-c8a7514d2cb6-attachment.txt", "type": "text/plain"}], "start": 1761546152355, "stop": 1761546152355}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "4107ddab-669e-4d82-9ed4-09e1a1ec0f84-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fe26cff3-a832-4f67-a9a5-a8b220a11054-attachment.txt", "type": "text/plain"}], "start": 1761546154413, "stop": 1761546154464}], "attachments": [{"name": "时区处理", "source": "0f4ce03c-fa47-4bbc-a9a0-e7421427b4d1-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "5af2fac9-1735-4f5b-a310-fd070f8b4ea9-attachment.txt", "type": "text/plain"}], "start": 1761546154412, "stop": 1761546154464}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6ea27f93-239d-4d90-a83d-0a4fcca4c664-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "95aacc68-fe48-4cdc-b66b-e57353032373-attachment.txt", "type": "text/plain"}], "start": 1761546154464, "stop": 1761546154465}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a16e692e-ad9d-429b-b644-715a70b35332-attachment.txt", "type": "text/plain"}], "start": 1761546154465, "stop": 1761546154465}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e7ddac1c-a153-4c38-956c-8a37d7648f9e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "075767aa-a860-4170-a19e-ce7b365eea2c-attachment.txt", "type": "text/plain"}], "start": 1761546156514, "stop": 1761546156562}], "attachments": [{"name": "时区处理", "source": "6e04aad9-5d23-4220-bc74-a53c39146a66-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c89b35e2-4779-47ad-a905-bd872626d7a6-attachment.txt", "type": "text/plain"}], "start": 1761546156513, "stop": 1761546156562}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5df2bce6-b3a0-47e4-99f5-f00ffde6f469-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "10c7fbaa-7db4-43d4-81fa-264144202a73-attachment.txt", "type": "text/plain"}], "start": 1761546156562, "stop": 1761546156563}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "7acdd7a5-6f01-44fb-923b-4f318b99c96c-attachment.txt", "type": "text/plain"}], "start": 1761546156563, "stop": 1761546156564}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "b91245b2-5486-4581-9d33-f7f94e57b6c1-attachment.txt", "type": "text/plain"}], "start": 1761546158576, "stop": 1761546158576}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "5c020dc3-1e43-45f8-93f1-5518ac0fdd9a-attachment.json", "type": "application/json"}], "start": 1761546158624, "stop": 1761546158625}], "attachments": [{"name": "执行SQL", "source": "0a4aa0d6-a3ae-4de9-bf25-21bc98d4bb2f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "efddc262-c89f-4ba7-9fa3-537b6484ef67-attachment.txt", "type": "text/plain"}], "start": 1761546158577, "stop": 1761546158625}], "attachments": [{"name": "时区处理", "source": "08d01cd7-7e92-4b9b-8523-764dc7990cbe-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ac39df78-47b2-4b7f-8a0f-aeae7b064346-attachment.txt", "type": "text/plain"}], "start": 1761546158576, "stop": 1761546158625}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "9be07453-4621-4950-ab04-0404b8871fcc-attachment.txt", "type": "text/plain"}], "start": 1761546158625, "stop": 1761546158625}], "attachments": [{"name": "执行SQL", "source": "033ad847-c11e-4593-bb48-d0648eeb5000-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fce08bc4-f636-4460-8661-e06bf62d1b29-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "02aeb4c6-8ef6-4c9b-b290-eba7692d21b2-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "53ede05e-af1c-46ce-a2b0-93943de8bead-attachment.txt", "type": "text/plain"}], "start": 1761546126968, "stop": 1761546158625}], "start": 1761546126968, "stop": 1761546158625}], "attachments": [{"name": "log", "source": "08727e2f-3957-4b85-a2f6-5bdd81092880-attachment.txt", "type": "text/plain"}], "start": 1761546126968, "stop": 1761546158626, "uuid": "e89b7f65-edaa-4047-b1f0-4f95dcf68495", "historyId": "bc9d0fd8150a69ff71d46d14fdc9932f", "testCaseId": "bc9d0fd8150a69ff71d46d14fdc9932f", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend7#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景7：VPS策略下单-手数范围0.3-1，总订单数量1，总手数5"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "57284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}