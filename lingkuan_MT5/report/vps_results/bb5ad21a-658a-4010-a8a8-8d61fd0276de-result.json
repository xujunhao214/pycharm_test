{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "passed", "description": "\n        ### 用例说明\n        - 前置条件：有vps策略和vps跟单\n        - 操作步骤：\n          1. 修改vps跟单账号开仓-关闭\n          2. 进行开仓\n          3. 跟单账号开仓失败，有漏单数据，把redis数据和MySQL数据进行校验\n          4. 修改vps跟单账号开仓-开启\n          5. 进行补单操作，然后平仓\n        - 预期结果：vps跟单账号开仓-关闭，有漏单数据\n        ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "a0a8ded5-83e3-483b-a892-a6d5b76a6b49-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7202367d-f0f8-468d-8075-175c61c737ef-attachment.txt", "type": "text/plain"}], "start": 1761270235618, "stop": 1761270235667}], "attachments": [{"name": "时区处理", "source": "85bebb60-0107-4ee4-8c14-aaa16fb95ce2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "57d49797-3eab-44d4-95bf-9adcb24a9cac-attachment.txt", "type": "text/plain"}], "start": 1761270235617, "stop": 1761270235667}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6248f820-2cab-4523-b9bf-ad951590b95f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b7040e3c-3143-4bdf-9cdf-177d4cc836d0-attachment.txt", "type": "text/plain"}], "start": 1761270235667, "stop": 1761270235668}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "7b588e87-2bab-4049-bee1-f5f6efe32fa3-attachment.txt", "type": "text/plain"}], "start": 1761270235668, "stop": 1761270235668}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5001a814-012c-46c6-9124-ff5e7ccd7899-attachment.txt", "type": "text/plain"}], "start": 1761270235668, "stop": 1761270235668}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2eda0b31-e800-48e6-9d81-d7315867a909-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1ed7afa0-b410-4a88-8a23-448fe68400e2-attachment.txt", "type": "text/plain"}], "start": 1761270237727, "stop": 1761270237779}], "attachments": [{"name": "时区处理", "source": "265c47eb-4ee1-428d-820b-a861b4e0aa05-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "79fc493f-3358-4564-91b4-0d1c5642b5ef-attachment.txt", "type": "text/plain"}], "start": 1761270237726, "stop": 1761270237779}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "5f1fb3cc-b174-4312-9188-4f008958c35c-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "586bf67f-63b2-4896-acfa-1de8a58bcbd9-attachment.txt", "type": "text/plain"}], "start": 1761270237779, "stop": 1761270237780}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "d541fb66-6589-4e63-bada-9cc69d0df8dc-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "92ffcec0-60c5-47b2-bef4-64557afe8b92-attachment.txt", "type": "text/plain"}], "start": 1761270237780, "stop": 1761270237780}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "d63f029c-a6a0-46a8-ab00-d7b53a328518-attachment.txt", "type": "text/plain"}], "start": 1761270237780, "stop": 1761270237781}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9ed459c1-a669-45ef-a36a-29d513cbb4ff-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "4f2ffe1d-09ed-469f-b5f4-9779c778ad1c-attachment.txt", "type": "text/plain"}], "start": 1761270239841, "stop": 1761270239890}], "attachments": [{"name": "时区处理", "source": "a4a8a004-cfea-43af-8f94-c267dcc9dd3c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a64de251-32cf-4ba8-91a8-fb27318417f5-attachment.txt", "type": "text/plain"}], "start": 1761270239839, "stop": 1761270239890}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e8849975-9988-413a-a2ef-dc6c8ef32625-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e6f4dbdf-1079-40a2-ada6-1a7afea9457e-attachment.txt", "type": "text/plain"}], "start": 1761270239890, "stop": 1761270239890}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "eeca736e-00c8-4a11-bf99-fb0a747a2f3e-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "16645cb9-c403-458e-931e-45a3d3a8e1a1-attachment.txt", "type": "text/plain"}], "start": 1761270239890, "stop": 1761270239891}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "bb7b7b88-580e-40d2-b626-91a75a8d5844-attachment.txt", "type": "text/plain"}], "start": 1761270239891, "stop": 1761270239891}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "227e30ff-9348-4b80-9fe4-8952769d0df7-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3557fc43-b4c9-4e5d-b866-3af12da0dad7-attachment.txt", "type": "text/plain"}], "start": 1761270241945, "stop": 1761270241995}], "attachments": [{"name": "时区处理", "source": "8e552cd9-d1db-491b-89c1-65d9d1e47329-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d07cb0ef-3ff3-4c1c-be27-5b89d49b4d13-attachment.txt", "type": "text/plain"}], "start": 1761270241944, "stop": 1761270241995}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "01586543-790e-47d1-ad05-66117881acc0-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d1e6bdfb-cf2b-4fe0-8e6e-a3cc5ccb520c-attachment.txt", "type": "text/plain"}], "start": 1761270241995, "stop": 1761270241996}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "bf51d90d-6f8e-4924-a32d-31797b621f00-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "f2dc7efe-4f49-4b5c-9b69-4cfba92c3b79-attachment.txt", "type": "text/plain"}], "start": 1761270241996, "stop": 1761270241997}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "ae44211e-a97c-4094-a48a-9fffa3372070-attachment.txt", "type": "text/plain"}], "start": 1761270241997, "stop": 1761270241997}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "3612af51-85f5-4d43-af19-ee500a10a6af-attachment.json", "type": "application/json"}], "start": 1761270241997, "stop": 1761270241997}], "attachments": [{"name": "执行SQL", "source": "c5e9bbce-cbca-4dd8-bdea-0212c2fd839b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "08acec6d-e638-4ce8-b99b-eea0a2c8bc65-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "6b18c68f-9c52-4582-8dec-da94f5fd9e2d-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "627ff9cf-093d-4ad2-9aab-12b1bbb5b474-attachment.txt", "type": "text/plain"}], "start": 1761270235571, "stop": 1761270241997}], "start": 1761270235571, "stop": 1761270241997}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "852525cc-a0b7-4aa8-8021-e9675afcd410-attachment.attach", "type": "text/plain"}], "start": 1761270241998, "stop": 1761270241998}], "start": 1761270241998, "stop": 1761270241998}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "b59ad95e-0b67-4a9b-8e14-3ceeb56fc425-attachment.attach", "type": "text/plain"}], "start": 1761270241998, "stop": 1761270241998}], "start": 1761270241998, "stop": 1761270241998}], "start": 1761270241997, "stop": 1761270241998}], "attachments": [{"name": "log", "source": "815935fd-1587-445c-bbf5-99fbc038a208-attachment.txt", "type": "text/plain"}], "start": 1761270235571, "stop": 1761270241998, "uuid": "b3f7035e-a594-4726-b064-e24de862ef07", "historyId": "c19702dbc0b1974aa5f050a3a0e2c51c", "testCaseId": "c19702dbc0b1974aa5f050a3a0e2c51c", "fullName": "test_vps.test_lianxi.TestLeakageopen#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景1：VPS策略下单-漏开"}, {"name": "feature", "value": "VPS策略下单-漏单场景"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_lianxi"}, {"name": "subSuite", "value": "TestLeakageopen_level"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "15992-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_lianxi"}]}