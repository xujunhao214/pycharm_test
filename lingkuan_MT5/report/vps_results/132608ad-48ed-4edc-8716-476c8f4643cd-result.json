{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend1 object at 0x000001EBBD33D9A0>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x000001EBBD5CC6A0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD19F730>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing1\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:411: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend1 object at 0x000001EBBD33D9A0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD19F730>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing1'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 进行开仓，手数范围0.1-1，总订单3，总手数1\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 411, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5be2ee37-3b67-4958-b01f-a2a44fe39833-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d7d70ae2-ffd3-43d4-9acf-fc59be9b92e7-attachment.txt", "type": "text/plain"}], "start": 1761545621888, "stop": 1761545621934}], "attachments": [{"name": "时区处理", "source": "8a9c9592-4012-47ed-b186-9ca08138fdd2-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "1727b9a0-0fa1-434a-a3f5-cc2ebdf7004c-attachment.txt", "type": "text/plain"}], "start": 1761545621887, "stop": 1761545621936}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "78817923-19c6-46ae-a30f-003c33783b5b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "03419d24-15b3-4a70-b158-337ff10a1d5b-attachment.txt", "type": "text/plain"}], "start": 1761545621936, "stop": 1761545621936}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "89c1a55d-d8b0-4a74-8fc0-335de749b61c-attachment.txt", "type": "text/plain"}], "start": 1761545621936, "stop": 1761545621937}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "972b83eb-f368-474d-a6e3-3ec669c2a886-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "bcc8c140-d4b0-4541-bd6a-33c4c178072b-attachment.txt", "type": "text/plain"}], "start": 1761545623997, "stop": 1761545624046}], "attachments": [{"name": "时区处理", "source": "84964fe2-f743-4d45-88d0-0d1e69a1a32a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ff5db337-f1f8-447c-a0db-b4580dd9b7e0-attachment.txt", "type": "text/plain"}], "start": 1761545623995, "stop": 1761545624046}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "7a89d669-c34d-47f7-a604-8de93e31d5c7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "01916bd6-3524-47c8-958c-f6d4f4d52fe9-attachment.txt", "type": "text/plain"}], "start": 1761545624046, "stop": 1761545624046}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "126499d7-59fb-4bd7-82aa-22e0d2e79455-attachment.txt", "type": "text/plain"}], "start": 1761545624046, "stop": 1761545624047}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "08102a08-c539-45cf-9024-74cf94d38360-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "59b57584-f6c1-42db-85ab-2ac8ddbc60f4-attachment.txt", "type": "text/plain"}], "start": 1761545626107, "stop": 1761545626154}], "attachments": [{"name": "时区处理", "source": "006a26af-a863-42b0-9927-f8e53f4d84ca-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c9b118b5-5e44-49b0-950b-42984d10e76f-attachment.txt", "type": "text/plain"}], "start": 1761545626106, "stop": 1761545626154}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d58a3aff-bebf-4ece-bcaf-ba023f19a78a-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ce9ba2d1-4fef-4930-909d-eee4c49823a0-attachment.txt", "type": "text/plain"}], "start": 1761545626154, "stop": 1761545626155}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5dba99dd-70ad-4955-a958-ac46bbbd3e16-attachment.txt", "type": "text/plain"}], "start": 1761545626155, "stop": 1761545626155}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "34475e64-37b9-4213-9df8-0b07421a856c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ef590277-3111-4d21-a51d-455f0da1c831-attachment.txt", "type": "text/plain"}], "start": 1761545628222, "stop": 1761545628270}], "attachments": [{"name": "时区处理", "source": "482b6451-5eb7-45db-8ea5-be6129b51c61-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "546a9682-6c86-4f2c-9c65-0b0707c3b157-attachment.txt", "type": "text/plain"}], "start": 1761545628221, "stop": 1761545628270}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "cec4bb51-8bc7-4051-b040-2941fee4710e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0051655a-108a-4373-b7fb-6424e832c38b-attachment.txt", "type": "text/plain"}], "start": 1761545628270, "stop": 1761545628271}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "6a342d3e-9d30-4728-8b6f-093d98208d0d-attachment.txt", "type": "text/plain"}], "start": 1761545628271, "stop": 1761545628271}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5b8ee5a6-fb7f-45cb-8689-db3afbcaf05a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7d96d42c-1e04-45c4-95db-6a15aa57ccca-attachment.txt", "type": "text/plain"}], "start": 1761545630320, "stop": 1761545630371}], "attachments": [{"name": "时区处理", "source": "8230c83f-87e2-41df-b912-f8bc600b7110-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "bd9520f8-c843-48bf-bb02-768f4891eeef-attachment.txt", "type": "text/plain"}], "start": 1761545630319, "stop": 1761545630371}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "543b7dce-4cad-4927-a77b-7ec79f15b654-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "93e4f2d0-dcba-455f-b773-b7e5d0af40f4-attachment.txt", "type": "text/plain"}], "start": 1761545630371, "stop": 1761545630373}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "89b52a11-54ee-4385-8d70-3d7251c17bf6-attachment.txt", "type": "text/plain"}], "start": 1761545630373, "stop": 1761545630373}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "28893464-7ef2-443d-80bc-deddabf08a59-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "072d5e1b-0eaa-4686-8b6d-70bc6a8bd14f-attachment.txt", "type": "text/plain"}], "start": 1761545632426, "stop": 1761545632482}], "attachments": [{"name": "时区处理", "source": "1643284e-2f19-42ef-b4c6-6371bdc8e3ed-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "da61a2a1-1876-4495-9b06-73041d31110c-attachment.txt", "type": "text/plain"}], "start": 1761545632425, "stop": 1761545632482}, {"name": "轮询中（已等待10.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "20d5ee96-ad25-4478-906c-dcb72625c537-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "332d063d-0df3-4bdb-b2db-30fcb7189c19-attachment.txt", "type": "text/plain"}], "start": 1761545632482, "stop": 1761545632483}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "51f9c1e1-69bd-40d2-830e-991607fe3dc7-attachment.txt", "type": "text/plain"}], "start": 1761545632483, "stop": 1761545632484}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "317886c9-373d-4bc2-b220-4b969f4d5b50-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "77dc605f-d48b-4ea7-9381-9793a1ea79f9-attachment.txt", "type": "text/plain"}], "start": 1761545634542, "stop": 1761545634593}], "attachments": [{"name": "时区处理", "source": "756f2326-ca41-427b-842f-a49ff85e888a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c6479b9e-14c4-4be1-9200-d99f4664235d-attachment.txt", "type": "text/plain"}], "start": 1761545634541, "stop": 1761545634593}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "80ee6f4f-3cd5-4bc5-a55e-a4c0fd55981e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6cc4391a-afd6-4e51-850f-f50df9914a5d-attachment.txt", "type": "text/plain"}], "start": 1761545634593, "stop": 1761545634594}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9959f8c6-4e1c-4c9f-aca8-4f3c32d9e469-attachment.txt", "type": "text/plain"}], "start": 1761545634594, "stop": 1761545634595}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "35aaadf1-0850-4a89-8d7a-9cc67bf2bd5c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "7777ed42-6c7d-4f05-8f6d-75fda3c83c82-attachment.txt", "type": "text/plain"}], "start": 1761545636644, "stop": 1761545636692}], "attachments": [{"name": "时区处理", "source": "01dd50e5-ca06-4d81-a11c-98e6c9865e9b-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "93d379c8-a110-4a7a-932e-eb64bae6d2ee-attachment.txt", "type": "text/plain"}], "start": 1761545636643, "stop": 1761545636692}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "ee54be91-81e7-4af5-8ae5-db4aa1c886cc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3aacefc9-70d0-436b-a6d7-3a71bd3efb37-attachment.txt", "type": "text/plain"}], "start": 1761545636692, "stop": 1761545636693}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "cd89c25e-962e-47b1-9b6d-ca2e31268dfb-attachment.txt", "type": "text/plain"}], "start": 1761545636693, "stop": 1761545636693}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "95d2b4ae-29f7-40c1-8d46-ad75e91478d4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "63c63bf2-1b14-4316-bfcc-875ecb73ce9e-attachment.txt", "type": "text/plain"}], "start": 1761545638751, "stop": 1761545638800}], "attachments": [{"name": "时区处理", "source": "72acf6fc-c836-4a3c-b73c-e2b91acf6807-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9df9fc53-761c-47f8-be34-4aa8ff751797-attachment.txt", "type": "text/plain"}], "start": 1761545638750, "stop": 1761545638800}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b9a9fdc6-85c0-4d5e-b494-fa9726f22758-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "52c3d1ea-294a-43e7-8adc-55b8c1809807-attachment.txt", "type": "text/plain"}], "start": 1761545638800, "stop": 1761545638801}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "039608d2-851e-4a03-a49f-609c07985b0f-attachment.txt", "type": "text/plain"}], "start": 1761545638801, "stop": 1761545638802}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "5da9b688-5957-4ec8-b6a8-2d44e5ec5432-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c15d4c4e-d124-4276-9c5a-af3c72712178-attachment.txt", "type": "text/plain"}], "start": 1761545640860, "stop": 1761545640908}], "attachments": [{"name": "时区处理", "source": "805a6c68-f922-4a21-89ea-0871224a9274-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8c70b5a6-9abe-42c6-82fa-430f7834153e-attachment.txt", "type": "text/plain"}], "start": 1761545640859, "stop": 1761545640908}, {"name": "轮询中（已等待19.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e543f11a-3435-40ef-be2e-e8ef82a635bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "57fa2143-6055-4fe0-90b4-b7925edc9bfe-attachment.txt", "type": "text/plain"}], "start": 1761545640908, "stop": 1761545640910}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "3f439ea9-92ca-4eb7-9c34-6c6dc34a1186-attachment.txt", "type": "text/plain"}], "start": 1761545640910, "stop": 1761545640910}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9989d375-3e6f-4765-8d5a-75965a472da8-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "69cd5134-19e0-4a74-a014-41adf8547dad-attachment.txt", "type": "text/plain"}], "start": 1761545642969, "stop": 1761545643016}], "attachments": [{"name": "时区处理", "source": "b5f6d7b4-39b0-4cc9-8668-cfbca5207a10-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "9cb8cd1d-004f-49ce-9e7a-bc15471b97ec-attachment.txt", "type": "text/plain"}], "start": 1761545642968, "stop": 1761545643016}, {"name": "轮询中（已等待21.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f02b19eb-3e00-4b0d-8bdf-f5ae041c492e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f0c8c326-e6db-4f09-8ccf-79784c6c392f-attachment.txt", "type": "text/plain"}], "start": 1761545643016, "stop": 1761545643017}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8bba9258-709b-4381-a3da-62f0f0a2cf45-attachment.txt", "type": "text/plain"}], "start": 1761545643017, "stop": 1761545643017}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "c163d42a-8152-47a1-a175-47af53a8691c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "cba68e46-4d66-4c9c-9860-fd23676276cb-attachment.txt", "type": "text/plain"}], "start": 1761545645072, "stop": 1761545645121}], "attachments": [{"name": "时区处理", "source": "b8ba02d9-16fc-44f6-8927-f97d0d7eca88-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "76e3d951-92c9-4e35-ab3a-bca5486bf34f-attachment.txt", "type": "text/plain"}], "start": 1761545645071, "stop": 1761545645121}, {"name": "轮询中（已等待23.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "d47b5676-ae52-413a-9de7-8846352a5167-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ac64b1af-cee7-4596-a408-8d80e62fd5e4-attachment.txt", "type": "text/plain"}], "start": 1761545645121, "stop": 1761545645123}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "a636d22c-2acf-4d7e-b75c-8bd75038bbec-attachment.txt", "type": "text/plain"}], "start": 1761545645123, "stop": 1761545645123}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e5fd357a-1be7-4a01-ba4a-8337f8b79908-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "a09b2ad9-00a3-4b83-90f4-b87f16e5b288-attachment.txt", "type": "text/plain"}], "start": 1761545647180, "stop": 1761545647237}], "attachments": [{"name": "时区处理", "source": "afa0bc73-25ee-47c3-ac86-816ee55bfab3-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a54bc9d1-d7b0-4c10-bd51-386f7debc69f-attachment.txt", "type": "text/plain"}], "start": 1761545647179, "stop": 1761545647237}, {"name": "轮询中（已等待25.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "45535250-eb71-4779-862f-d0ed4a58677f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "4bc69bb1-77cc-4f87-8ee7-9952a1871bd5-attachment.txt", "type": "text/plain"}], "start": 1761545647237, "stop": 1761545647238}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "087c9e36-a16b-467e-9d36-ae562e1e7c55-attachment.txt", "type": "text/plain"}], "start": 1761545647238, "stop": 1761545647238}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "97754519-f0eb-4851-807d-4bf315dfe587-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "5c16151c-8172-4510-ad1f-44c18210516d-attachment.txt", "type": "text/plain"}], "start": 1761545649300, "stop": 1761545649348}], "attachments": [{"name": "时区处理", "source": "d3a4b014-3c17-4e5b-a15f-36d2bbf1be08-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "a1c0ed6f-1e7f-4833-a0e6-a955991a0ccc-attachment.txt", "type": "text/plain"}], "start": 1761545649298, "stop": 1761545649348}, {"name": "轮询中（已等待27.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "97c60467-6e22-4948-828f-ccc05611bdf6-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "58d3fa61-43a1-4133-b3a4-d4272bdfebe4-attachment.txt", "type": "text/plain"}], "start": 1761545649348, "stop": 1761545649348}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "62c57069-3f43-4d50-b37b-c3c55b1c6d46-attachment.txt", "type": "text/plain"}], "start": 1761545649349, "stop": 1761545649349}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "885f63f3-e1f3-477c-bcb0-c16976cab0e0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "48dfeeb9-f2ce-46cf-bafe-00a7b4dfd226-attachment.txt", "type": "text/plain"}], "start": 1761545651410, "stop": 1761545651463}], "attachments": [{"name": "时区处理", "source": "3208d121-bedc-43d3-ba33-c14ac72fd899-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f5abeaeb-dfcb-44ca-b62e-68c573f4ecda-attachment.txt", "type": "text/plain"}], "start": 1761545651409, "stop": 1761545651463}, {"name": "轮询中（已等待29.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2def9203-8669-4d6a-a416-65b984eb87d9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6de282c5-de50-46cd-ba7a-7d712f196afc-attachment.txt", "type": "text/plain"}], "start": 1761545651463, "stop": 1761545651463}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5bcfae88-04cc-4029-b76f-090e64aa8346-attachment.txt", "type": "text/plain"}], "start": 1761545651463, "stop": 1761545651463}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "b170d56d-b07d-422e-91ee-4a43137efc62-attachment.txt", "type": "text/plain"}], "start": 1761545653477, "stop": 1761545653478}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "26ced7f5-3421-4c0d-b878-920739c70931-attachment.json", "type": "application/json"}], "start": 1761545653528, "stop": 1761545653528}], "attachments": [{"name": "执行SQL", "source": "562010d5-06b4-4f8e-97a3-2f855478d08d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "51e8b672-c2ec-4306-bfdc-60a011501612-attachment.txt", "type": "text/plain"}], "start": 1761545653479, "stop": 1761545653528}], "attachments": [{"name": "时区处理", "source": "2b96bbf4-2f7a-4b44-9eed-53f6e94e31e9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "d0e2e23d-70b3-4897-a8d4-9906bf49bf08-attachment.txt", "type": "text/plain"}], "start": 1761545653478, "stop": 1761545653528}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "991528cd-33f1-4c7e-b858-e30e1b065108-attachment.txt", "type": "text/plain"}], "start": 1761545653528, "stop": 1761545653529}], "attachments": [{"name": "执行SQL", "source": "2365657a-906f-48b3-aceb-174495ae65bb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "888e9646-a9e1-4666-bba7-a46b1dbad1e5-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "a8ac33ea-cfde-4913-abcd-f819fda89717-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "1c866817-fd77-4177-b5e9-0e0131a01743-attachment.txt", "type": "text/plain"}], "start": 1761545621835, "stop": 1761545653529}], "start": 1761545621835, "stop": 1761545653529}], "attachments": [{"name": "log", "source": "e9776428-5c4b-41d3-8559-267a8603e3d3-attachment.txt", "type": "text/plain"}], "start": 1761545621835, "stop": 1761545653530, "uuid": "4232772d-b8fa-4e41-99fa-d5626c5df28a", "historyId": "20ffc0753d2a04f0fbbdb23de7fe2489", "testCaseId": "20ffc0753d2a04f0fbbdb23de7fe2489", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend1#test_dbquery_orderSendclose", "labels": [{"name": "story", "value": "场景1：复制下单-手数0.1-1，总订单3，总手数1"}, {"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "57284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}