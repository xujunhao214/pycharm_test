{"name": "数据库校验-策略平仓-主指令及订单详情数据检查", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）", "trace": "self = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend3 object at 0x000001EBBD36F430>\nvar_manager = <lingkuan_MT5.commons.variable_manager.VariableManager object at 0x000001EBBD5CC6A0>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD9B1CD0>\n\n    @allure.title(\"数据库校验-策略平仓-主指令及订单详情数据检查\")\n    def test_dbquery_orderSendclose(self, var_manager, db_transaction):\n        with allure.step(\"1. 获取订单详情表账号数据\"):\n            new_user = var_manager.get_variable(\"new_user\")\n            sql = f\"\"\"\n                SELECT\n                    fod.size,\n                    fod.comment,\n                    fod.close_no,\n                    fod.magical,\n                    fod.open_price,\n                    fod.symbol,\n                    fod.order_no,\n                    foi.true_total_lots,\n                    foi.order_no,\n                    foi.operation_type,\n                    foi.create_time,\n                    foi.status\n                FROM\n                    follow_order_detail fod\n                INNER JOIN\n                    follow_order_instruct foi\n                ON\n                    foi.order_no = fod.close_no COLLATE utf8mb4_0900_ai_ci\n                WHERE foi.operation_type = %s\n                    AND fod.account = %s\n                    AND fod.comment = %s\n                    \"\"\"\n            params = (\n                '1',\n                new_user[\"account\"],\n                \"changjing3\"\n            )\n    \n            # 调用轮询等待方法（带时间范围过滤）\n>           db_data = self.query_database_with_time_with_timezone(\n                db_transaction=db_transaction,\n                sql=sql,\n                params=params,\n                time_field=\"fod.close_time\"\n            )\n\ntest_vps\\test_vps_ordersend.py:1303: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_MT5.test_vps.test_vps_ordersend.TestVPSOrdersend.TestVPSOrderSend3 object at 0x000001EBBD36F430>\ndb_transaction = <pymysql.connections.Connection object at 0x000001EBBD9B1CD0>\nsql = '\\n                    SELECT \\n                        fod.size,\\n                        fod.comment,\\n             ...\\n                        AND fod.account = %s\\n                        AND fod.comment = %s\\n                        '\nparams = ('1', '66938911', 'changjing3'), time_field = 'fod.close_time'\ntime_range = 1, order_by = 'create_time DESC', timeout = 30, poll_interval = 2\nstable_period = 2, timezone_offset = 5, attach_to_allure = True\n\n    def query_database_with_time_with_timezone(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,\n            poll_interval: int = POLL_INTERVAL,\n            stable_period: int = STBLE_PERIOD,\n            timezone_offset: int = TIMEZONE_OFFSET,\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"带时区转换的轮询查询（带Allure分层提示）\"\"\"\n        offset_str = f\"{timezone_offset:+03d}:00\"  # 转换为时区字符串（如+08:00）\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n    \n        logger.info(f\"[{self._get_current_time()}] 开始轮询（时区{offset_str}）| 超时: {timeout}秒\")\n    \n        with allure.step(f\"轮询等待数据稳定（时区{offset_str}，超时{timeout}秒）\"):\n            allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n            allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n            allure.attach(f\"{timezone_offset}\", \"时区偏移量（小时）\", allure.attachment_type.TEXT)\n            allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                          allure.attachment_type.TEXT)\n    \n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()\n                    # 执行带时区转换的单次查询\n                    result = self._execute_query_with_timezone(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定时间参数\n                        fixed_time_end=fixed_time_end,\n                        timezone_offset=offset_str,\n                        attach_to_allure=False\n                    )\n    \n                    # 记录轮询状态\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\", allure.attachment_type.TEXT)\n    \n                    # 复用数据稳定判断逻辑\n                    if len(result) > 0 and self._is_result_stable(result, last_result):\n                        if stable_start_time is None:\n                            stable_start_time = time.time()\n                            with allure.step(\"数据首次稳定\"):\n                                allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                              allure.attachment_type.TEXT)\n                        elif time.time() - stable_start_time >= stable_period:\n                            final_result = result\n                            logger.info(f\"[{self._get_current_time()}] 数据稳定，轮询结束\")\n                            with allure.step(\"数据稳定达标\"):\n                                allure.attach(f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                              \"结果说明\", allure.attachment_type.TEXT)\n                            break\n                    else:\n                        stable_start_time = None\n                        with allure.step(\"数据发生变化\"):\n                            allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"时区查询轮询异常\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询异常: {str(e)} | 继续等待\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理\n            if final_result is None:\n                with allure.step(\"时区查询轮询超时\"):\n                    allure.attach(f\"超过{timeout}秒未达到稳定状态，获取最终结果\", \"处理说明\",\n                                  allure.attachment_type.TEXT)\n                final_result = self._execute_query_with_timezone(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    timezone_offset=offset_str,\n                    attach_to_allure=True\n                )\n    \n            # 附加结果到报告\n            if final_result and attach_to_allure:\n                with allure.step(\"带时区查询最终结果\"):\n                    allure.attach(self.serialize_data(final_result[:50]), \"结果预览\", allure.attachment_type.JSON)\n    \n            if not final_result:\n                with allure.step(\"时区查询无结果\"):\n                    allure.attach(f\"轮询{timeout}秒后仍无查询结果\", \"异常详情\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\nE               TimeoutError: Failed: 时区查询超时（30秒）\n\ncommons\\api_base.py:1114: TimeoutError"}, "description": "\n    ### 测试说明\n    - 前置条件：有云策略和云跟单\n      1. 进行开仓，手数范围0.01-1，总订单数10\n      2. 校验账号的数据是否正确\n      3. 进行平仓\n      4. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\test_vps\\test_vps_ordersend.py\", line 1303, in test_dbquery_orderSendclose\n    db_data = self.query_database_with_time_with_timezone(\n  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 时区查询超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_MT5\\commons\\api_base.py\", line 1114, in query_database_with_time_with_timezone\n    raise TimeoutError(f\"Failed: 时区查询超时（{timeout}秒）\")\n"}, "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "b8f026cb-1436-4e2c-9e50-add249b00cd1-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "3ba0c60a-a400-4eb4-a783-0d096543254b-attachment.txt", "type": "text/plain"}], "start": 1761545798648, "stop": 1761545798696}], "attachments": [{"name": "时区处理", "source": "652eb935-1e81-4dbc-ac66-1ad4da4fe822-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "df327a17-d82f-455c-b884-1e2707795ccf-attachment.txt", "type": "text/plain"}], "start": 1761545798647, "stop": 1761545798696}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6d73ebd1-199f-4834-9498-e1733a3fe9c1-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e05c1c35-a3f3-4f3a-8611-55f91065aaae-attachment.txt", "type": "text/plain"}], "start": 1761545798696, "stop": 1761545798697}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f640f623-0edc-4531-9cff-b242ed50c9c3-attachment.txt", "type": "text/plain"}], "start": 1761545798697, "stop": 1761545798698}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "37bbbfed-535f-409f-809e-eaad3a1f8a3e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "14413f38-2be6-4126-ad69-8dd8bfacd5d3-attachment.txt", "type": "text/plain"}], "start": 1761545800760, "stop": 1761545800808}], "attachments": [{"name": "时区处理", "source": "644de0d7-d83f-41b1-abe8-eef81bca18ad-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "c779d2d9-2252-441e-9aa6-3ade20ba732b-attachment.txt", "type": "text/plain"}], "start": 1761545800759, "stop": 1761545800808}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "92ff38d3-3991-4689-9dd3-78344df7554e-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a3181a3e-662e-4e83-85dc-2f86b805b2ec-attachment.txt", "type": "text/plain"}], "start": 1761545800808, "stop": 1761545800809}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "24919457-eba3-4d84-8e83-6368c0b34e84-attachment.txt", "type": "text/plain"}], "start": 1761545800809, "stop": 1761545800810}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e36db533-083f-4dbe-a841-e48661c935a0-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b0904b08-f983-4d16-aa75-e4745123090a-attachment.txt", "type": "text/plain"}], "start": 1761545802860, "stop": 1761545802914}], "attachments": [{"name": "时区处理", "source": "cefad298-5eaa-4550-a198-f384f9eda9ea-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "09a2aa1f-3872-418b-9301-c69b7409c375-attachment.txt", "type": "text/plain"}], "start": 1761545802859, "stop": 1761545802914}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "29b5f5f9-5ca2-4b1c-b9b0-1a5a5c4f68e2-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "9e42d265-fb61-4322-b503-ed47fd9109c8-attachment.txt", "type": "text/plain"}], "start": 1761545802914, "stop": 1761545802915}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "96831402-1358-42c8-948c-de66650646ba-attachment.txt", "type": "text/plain"}], "start": 1761545802915, "stop": 1761545802915}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f3ecf988-52f7-4f68-8c58-e65657d7a440-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "b3cc1f81-4659-4100-aef0-8283895a2207-attachment.txt", "type": "text/plain"}], "start": 1761545804967, "stop": 1761545805014}], "attachments": [{"name": "时区处理", "source": "136d5b81-5aa5-475d-8c1e-603bdb186f36-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7b95d803-3104-4683-8c4c-3cecf9f94c63-attachment.txt", "type": "text/plain"}], "start": 1761545804966, "stop": 1761545805014}, {"name": "轮询中（已等待6.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e2e8df12-39f3-453c-9d8e-caa642664bc5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6044a45b-9059-48cf-bf8b-4ca91267279f-attachment.txt", "type": "text/plain"}], "start": 1761545805014, "stop": 1761545805015}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "4a6faf71-4c0c-4ef4-baca-fa97ee4d0046-attachment.txt", "type": "text/plain"}], "start": 1761545805015, "stop": 1761545805016}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "e7dd0591-e9c7-4eca-84c4-ab11fc382a3b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c147e5d9-a475-464d-bdcd-f8b30c69001b-attachment.txt", "type": "text/plain"}], "start": 1761545807081, "stop": 1761545807145}], "attachments": [{"name": "时区处理", "source": "bf8d5825-67f7-454e-bae0-e4a6c55b5c14-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "62e12864-9cd1-4b5e-9466-fb1278792f69-attachment.txt", "type": "text/plain"}], "start": 1761545807080, "stop": 1761545807145}, {"name": "轮询中（已等待8.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6fd10f61-c3ea-4113-a6dc-f84c7c94136d-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d7128c76-f105-4aad-bfb6-a9f7db2fd8c4-attachment.txt", "type": "text/plain"}], "start": 1761545807145, "stop": 1761545807146}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "1495df6c-c8fd-4d14-a1bc-1b75a39132ae-attachment.txt", "type": "text/plain"}], "start": 1761545807146, "stop": 1761545807146}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9c6dd2a6-6850-43e7-b0eb-6792b8ae8603-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1c3cda35-9cc7-4ca7-99a0-aedef74df89e-attachment.txt", "type": "text/plain"}], "start": 1761545809208, "stop": 1761545809267}], "attachments": [{"name": "时区处理", "source": "dd272013-09b5-41f2-830a-c76ba1b6ebe0-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "06ab0cfb-477c-4669-b1c1-ee87e8dbf292-attachment.txt", "type": "text/plain"}], "start": 1761545809207, "stop": 1761545809267}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a6d5b3d1-75ef-4fea-b155-38c3c0947e63-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2484a430-0906-4e81-b369-8a1c509a8de0-attachment.txt", "type": "text/plain"}], "start": 1761545809267, "stop": 1761545809268}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "92ce9cc0-4381-4361-9255-cc1b699708d0-attachment.txt", "type": "text/plain"}], "start": 1761545809268, "stop": 1761545809268}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "1354accf-e209-4dfc-b39f-c2be7fbd90e4-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "863c8394-cb0c-4870-abae-b1b78ef50892-attachment.txt", "type": "text/plain"}], "start": 1761545811318, "stop": 1761545811366}], "attachments": [{"name": "时区处理", "source": "aa72ceaf-42a9-4f50-84bd-ecbe84483c7c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2c81531b-d4cf-4799-9260-b5bfd34df23a-attachment.txt", "type": "text/plain"}], "start": 1761545811318, "stop": 1761545811366}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "41351006-a082-48b7-a824-094585713ea7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b1470e61-ee73-4ea5-9bf6-96bec0c7d66e-attachment.txt", "type": "text/plain"}], "start": 1761545811366, "stop": 1761545811367}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "ad364c40-eac3-4c1a-9990-23ab75492ab5-attachment.txt", "type": "text/plain"}], "start": 1761545811367, "stop": 1761545811367}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "88d4ae03-35e5-4354-9964-0b5bc7c0e00f-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "43141528-e9bb-41d7-9480-c2c719d795d0-attachment.txt", "type": "text/plain"}], "start": 1761545813415, "stop": 1761545813464}], "attachments": [{"name": "时区处理", "source": "dc119a0e-6bed-40c8-b74e-287f6e87546f-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "438048a9-ba44-4293-9d36-643af5d0d417-attachment.txt", "type": "text/plain"}], "start": 1761545813414, "stop": 1761545813464}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "734f5872-9dd6-4bc3-b7a0-e15bc3fc08bc-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "7e650a38-df2f-41ef-926b-cfa091c23689-attachment.txt", "type": "text/plain"}], "start": 1761545813464, "stop": 1761545813464}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9ad5e2c3-8c94-479f-bd00-63c2039c64f7-attachment.txt", "type": "text/plain"}], "start": 1761545813464, "stop": 1761545813465}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "005e8ecf-f000-4f67-b92c-9ee4d048d34c-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "ff33c216-fd00-4eac-9850-959ffef75216-attachment.txt", "type": "text/plain"}], "start": 1761545815518, "stop": 1761545815568}], "attachments": [{"name": "时区处理", "source": "e18f8aa0-3fbd-47fa-99fd-65cdf58ab478-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2a511d79-28a0-4f68-81f8-1cd736c59513-attachment.txt", "type": "text/plain"}], "start": 1761545815517, "stop": 1761545815568}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e530d094-bc8a-40fc-9829-51c0f59d4388-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e7039eaa-5ca7-4554-b783-f7d598d25b3a-attachment.txt", "type": "text/plain"}], "start": 1761545815568, "stop": 1761545815569}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "9da48652-fa62-4c6c-a270-e92410657a4e-attachment.txt", "type": "text/plain"}], "start": 1761545815569, "stop": 1761545815569}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "eb508393-8f54-4e74-bf7a-7d05396040bb-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "fa57e787-b67a-4850-9e4a-8afad6edb675-attachment.txt", "type": "text/plain"}], "start": 1761545817627, "stop": 1761545817945}], "attachments": [{"name": "时区处理", "source": "b09eb85b-9598-438c-91d6-01ce7696e3c9-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "311058c9-9860-4994-a232-d14a9edd87ed-attachment.txt", "type": "text/plain"}], "start": 1761545817626, "stop": 1761545817945}, {"name": "轮询中（已等待19.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "325f1cd3-1a67-43aa-96b6-a73eea693094-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d54cbe6c-d064-4002-931f-7e7b9d72c181-attachment.txt", "type": "text/plain"}], "start": 1761545817945, "stop": 1761545817946}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "e40fef11-ea1a-4b86-9a92-72cc8938da58-attachment.txt", "type": "text/plain"}], "start": 1761545817946, "stop": 1761545817947}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3f9077b3-112c-4bdb-a44e-eaed2b09fb17-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9d5d320a-c41c-4dcd-8ce7-4c45046fb915-attachment.txt", "type": "text/plain"}], "start": 1761545819999, "stop": 1761545820047}], "attachments": [{"name": "时区处理", "source": "1afae0fd-f7a8-41c2-b8a2-03d400942274-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "ab851604-ebc6-4eaa-aaf8-ed6a9fd2625f-attachment.txt", "type": "text/plain"}], "start": 1761545819998, "stop": 1761545820047}, {"name": "轮询中（已等待21.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "67590132-fcd6-44ff-9da5-f2c8e1115bca-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ed25c59c-eab0-4478-bc0f-9b1533633d23-attachment.txt", "type": "text/plain"}], "start": 1761545820047, "stop": 1761545820047}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "f2d01693-a2a4-428d-a5dd-373d75b3b816-attachment.txt", "type": "text/plain"}], "start": 1761545820047, "stop": 1761545820048}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "2a429e11-6925-4bf6-b977-40f24fea1c4d-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "05c52e30-e79d-4f3a-947e-c5076f6951cf-attachment.txt", "type": "text/plain"}], "start": 1761545822103, "stop": 1761545822153}], "attachments": [{"name": "时区处理", "source": "21c54ff2-0092-4991-8e30-916d6534a0c5-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "2019039d-11af-41c6-99b4-85ad926d94d8-attachment.txt", "type": "text/plain"}], "start": 1761545822102, "stop": 1761545822153}, {"name": "轮询中（已等待23.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "eecf453a-9435-4ece-b5de-3d798e9b4b18-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1953b294-1639-4ec0-8abf-dce682d098b6-attachment.txt", "type": "text/plain"}], "start": 1761545822153, "stop": 1761545822154}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "5afd713a-12a9-4f56-b385-58993b427ffe-attachment.txt", "type": "text/plain"}], "start": 1761545822154, "stop": 1761545822154}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "13f55e28-f6ba-4502-9229-4bf8f7e9aa2b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "87b282c6-9ff8-4f1b-add3-de6603a197ab-attachment.txt", "type": "text/plain"}], "start": 1761545824228, "stop": 1761545824278}], "attachments": [{"name": "时区处理", "source": "a4387406-c53c-4777-a20f-89e33f372b29-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "7d3c1d80-13ec-48bb-a2f7-c912930f7181-attachment.txt", "type": "text/plain"}], "start": 1761545824227, "stop": 1761545824278}, {"name": "轮询中（已等待25.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "36fa3a7c-8c39-409e-9896-7e254cee0098-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "a6d1496e-f666-4e67-83a7-e5807c62a47d-attachment.txt", "type": "text/plain"}], "start": 1761545824278, "stop": 1761545824279}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "8c0d714d-dbeb-4047-9961-f42ed1730ad2-attachment.txt", "type": "text/plain"}], "start": 1761545824279, "stop": 1761545824279}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "bdd077de-5f26-4130-afa5-052ebaf0a480-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "d7c280f4-7f8e-4fd0-b6fe-a47b332b7c4a-attachment.txt", "type": "text/plain"}], "start": 1761545826336, "stop": 1761545826385}], "attachments": [{"name": "时区处理", "source": "bc770531-6798-4b29-98de-f2cf1c5bbaed-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "53d22c8e-daa9-4c04-91ea-9f8f881e8949-attachment.txt", "type": "text/plain"}], "start": 1761545826335, "stop": 1761545826385}, {"name": "轮询中（已等待27.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "08148194-5170-4ee3-bb88-a03922844671-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6bcd9841-9430-466b-9b4f-65668fe0865f-attachment.txt", "type": "text/plain"}], "start": 1761545826385, "stop": 1761545826386}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "43de77ba-f3f4-4229-ac10-ec2e090e3224-attachment.txt", "type": "text/plain"}], "start": 1761545826386, "stop": 1761545826386}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "09fcb7df-e654-4e78-9bcb-e6cf85fbe161-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "badd1bd4-4d7c-4ee3-83e3-7b7badd0ea01-attachment.txt", "type": "text/plain"}], "start": 1761545828443, "stop": 1761545828494}], "attachments": [{"name": "时区处理", "source": "ce5d7394-2474-41ec-9709-007d6da80baf-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "8f02660d-a667-4fd2-9338-5b66c17f27b5-attachment.txt", "type": "text/plain"}], "start": 1761545828443, "stop": 1761545828494}, {"name": "轮询中（已等待29.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "226e4d98-d98d-4fa1-841d-4f750d028696-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "12284338-7453-4b0c-bedd-4178a7d9f27d-attachment.txt", "type": "text/plain"}], "start": 1761545828494, "stop": 1761545828495}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "daf29cc1-073f-4240-80dc-f6d6e0ef7d23-attachment.txt", "type": "text/plain"}], "start": 1761545828495, "stop": 1761545828495}, {"name": "时区查询轮询超时", "status": "passed", "attachments": [{"name": "处理说明", "source": "a89111ae-00bc-4aef-a994-ae9a3baf7c7b-attachment.txt", "type": "text/plain"}], "start": 1761545830502, "stop": 1761545830503}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "2d89a56b-7877-4238-a0f6-7098462fd96e-attachment.json", "type": "application/json"}], "start": 1761545830553, "stop": 1761545830554}], "attachments": [{"name": "执行SQL", "source": "8ac88c7b-ea45-4ba2-a61c-b1ba1b8f60ce-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c36faa3b-812f-42f0-9141-d88589a5f55f-attachment.txt", "type": "text/plain"}], "start": 1761545830504, "stop": 1761545830554}], "attachments": [{"name": "时区处理", "source": "13e99a10-0c96-4f47-8ab5-a51bb63f029a-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "6a9740ce-a80a-4be3-b581-262f22983c07-attachment.txt", "type": "text/plain"}], "start": 1761545830503, "stop": 1761545830554}, {"name": "时区查询无结果", "status": "passed", "attachments": [{"name": "异常详情", "source": "1d5b28ef-d40d-444a-8c77-3a521ae5967a-attachment.txt", "type": "text/plain"}], "start": 1761545830554, "stop": 1761545830554}], "attachments": [{"name": "执行SQL", "source": "abf7a718-4d5a-4650-820c-b229327a6c27-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "f478c9e1-2b38-47f3-99ac-131493f6bab2-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "f03a8029-10bf-4bf0-873c-8b003089bfa9-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "733d97c6-b6cf-48ad-a4df-480a6ae37579-attachment.txt", "type": "text/plain"}], "start": 1761545798600, "stop": 1761545830554}], "start": 1761545798599, "stop": 1761545830555}], "attachments": [{"name": "log", "source": "4e18014a-cc92-4910-9eba-2408f75f55d6-attachment.txt", "type": "text/plain"}], "start": 1761545798599, "stop": 1761545830555, "uuid": "8f105210-eca5-4896-a30e-6bf41de03836", "historyId": "ed48ba76717c4e8f482ada93e3b0270e", "testCaseId": "ed48ba76717c4e8f482ada93e3b0270e", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend3#test_dbquery_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景3：复制下单-手数范围0.01-1，总订单数10"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "57284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}