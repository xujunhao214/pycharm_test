{"name": "数据库校验-策略平仓-跟单指令及订单详情数据检查", "status": "passed", "description": "\n    ### 测试说明\n    - 前置条件：有vps策略和vps跟单\n      1. 修改跟单账号下单比例0.25，手数取余-取小数，合约比例0.5\n      2. 进行开仓，手数范围0.01-1，总手数0.3\n      3. 校验账号的数据是否正确-下单手数是0.3*0.25*0.5=0.0375，取小数是0.03\n      4. 进行平仓\n      5. 校验账号的数据是否正确\n    - 预期结果：账号的数据正确\n    ", "steps": [{"name": "1. 获取订单详情表账号数据", "status": "passed", "steps": [{"name": "轮询等待数据稳定（时区+05:00，超时30秒）", "status": "passed", "steps": [{"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "9974bd5d-e735-4968-9416-80a4a832f166-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1e3c3def-92f3-45e7-8ec5-93d7e3bd1eb3-attachment.txt", "type": "text/plain"}], "start": 1761546240726, "stop": 1761546240779}], "attachments": [{"name": "时区处理", "source": "a07ce0dc-338c-4716-891a-9f7c4acc3ecc-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "116cbb18-d925-4db0-85fd-812e873029c0-attachment.txt", "type": "text/plain"}], "start": 1761546240724, "stop": 1761546240779}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "156a4779-3259-4877-b1d9-6cda53964830-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8af30135-354e-4db8-977d-19a0e7a8a643-attachment.txt", "type": "text/plain"}], "start": 1761546240779, "stop": 1761546240780}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "判断结果", "source": "7e6beab4-3334-4166-be0b-6fe91817b0fb-attachment.txt", "type": "text/plain"}], "start": 1761546240780, "stop": 1761546240780}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "b2e561e5-bdf1-489d-8be7-1ce0fd3a11c9-attachment.txt", "type": "text/plain"}], "start": 1761546240780, "stop": 1761546240781}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "f43868f1-7c67-4aae-b332-af5b18527afe-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "c1f7b27b-b2c1-4d8d-b48f-8aad0f7de7a5-attachment.txt", "type": "text/plain"}], "start": 1761546242836, "stop": 1761546242885}], "attachments": [{"name": "时区处理", "source": "b53ff099-1339-4f69-b6ee-880a1c111c50-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "f713d638-6012-40a2-b16d-ec3ed740b6e6-attachment.txt", "type": "text/plain"}], "start": 1761546242835, "stop": 1761546242885}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "6d9721dd-0e85-41c9-8136-80841e7ac7de-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "dc6c6db6-a641-4cae-9561-417e3d691efa-attachment.txt", "type": "text/plain"}], "start": 1761546242885, "stop": 1761546242886}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "58ca3e46-c08c-4664-9e5c-2ef6eff44d1a-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "0cb9bc26-d64e-4191-b02f-a3b1933f5529-attachment.txt", "type": "text/plain"}], "start": 1761546242886, "stop": 1761546242886}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "2376405e-80d1-4291-a097-c46db050c47c-attachment.txt", "type": "text/plain"}], "start": 1761546242886, "stop": 1761546242887}, {"name": "带时区转换查询（目标时区: +05:00）", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "attachments": [{"name": "执行SQL", "source": "3f2fb0b1-ada5-49b3-9ed2-ad48392ae05b-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "970d114d-fecf-4a0d-9bd0-adab27fce4fe-attachment.txt", "type": "text/plain"}], "start": 1761546244943, "stop": 1761546244994}], "attachments": [{"name": "时区处理", "source": "5e3bd1ed-faad-4464-875e-1a6de9e1418c-attachment.txt", "type": "text/plain"}, {"name": "查询条件", "source": "4da50868-bf23-49ba-9f26-2538e3e125cd-attachment.txt", "type": "text/plain"}], "start": 1761546244942, "stop": 1761546244994}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "edf154ce-bdd6-47a5-9110-1a4de2147019-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6d782e68-9aa4-4674-8064-ddbf847a6e66-attachment.txt", "type": "text/plain"}], "start": 1761546244994, "stop": 1761546244995}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "f56b47dd-ad15-4017-a0a3-d94491b98c54-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "9c5fcc6e-cf5d-49d1-b6c7-ae1b6783c6bc-attachment.txt", "type": "text/plain"}], "start": 1761546244995, "stop": 1761546244995}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "b3d35192-c057-40f7-a0e8-208c06367169-attachment.txt", "type": "text/plain"}], "start": 1761546244995, "stop": 1761546244996}, {"name": "带时区查询最终结果", "status": "passed", "attachments": [{"name": "结果预览", "source": "949af231-6e62-4069-bca7-0cc70b588b9b-attachment.json", "type": "application/json"}], "start": 1761546244996, "stop": 1761546244996}], "attachments": [{"name": "执行SQL", "source": "c4349102-db65-442d-8a41-c935e5da751e-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "9d28cd7e-9886-41d9-9abd-dbe9ce49a4f4-attachment.txt", "type": "text/plain"}, {"name": "时区偏移量（小时）", "source": "88e7eaf3-9bc1-4b9c-8bbb-5e21a9fea711-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "8b4fdd1f-eb66-40d1-8c4a-0f600b3ca205-attachment.txt", "type": "text/plain"}], "start": 1761546240673, "stop": 1761546244996}], "start": 1761546240673, "stop": 1761546244996}, {"name": "2. 数据校验", "status": "passed", "steps": [{"name": "验证订单状态", "status": "passed", "steps": [{"name": "校验: 订单状态应为0或1或3", "status": "passed", "attachments": [{"name": "订单状态详情", "source": "14021230-4486-4d7f-8cbe-0f06aeeaa1f2-attachment.attach", "type": "text/plain"}], "start": 1761546244996, "stop": 1761546244997}], "start": 1761546244996, "stop": 1761546244997}, {"name": "验证详情总手数", "status": "passed", "steps": [{"name": "校验: 详情总手数应符合预期", "status": "passed", "attachments": [{"name": "详情总手数", "source": "5226ff69-5c49-488e-be96-da5e1696ede4-attachment.attach", "type": "text/plain"}], "start": 1761546244997, "stop": 1761546244997}], "start": 1761546244997, "stop": 1761546244997}, {"name": "验证详情手数和指令手数一致", "status": "passed", "steps": [{"name": "断言列表元素相同（忽略顺序）", "status": "passed", "attachments": [{"name": "实际列表", "source": "8ba4b16e-dd33-47be-afcd-a4461479c6e3-attachment.attach", "type": "text/plain"}, {"name": "预期列表", "source": "396a94f2-9d08-4dc1-907f-676a38d445e6-attachment.attach", "type": "text/plain"}], "start": 1761546244997, "stop": 1761546244998}], "start": 1761546244997, "stop": 1761546244998}], "start": 1761546244996, "stop": 1761546244998}], "attachments": [{"name": "log", "source": "3113abfa-7714-4b8f-8558-2a08ceb8b48c-attachment.txt", "type": "text/plain"}], "start": 1761546240672, "stop": 1761546244998, "uuid": "5b0ff40f-48d9-4dae-9d83-46733eafc568", "historyId": "73e05f0d8f176cd67d8e2a244515b391", "testCaseId": "73e05f0d8f176cd67d8e2a244515b391", "fullName": "test_vps.test_vps_ordersend.TestVPSOrderSend10#test_dbquery_addsalve_orderSendclose", "labels": [{"name": "feature", "value": "VPS策略下单-开仓的场景校验"}, {"name": "story", "value": "场景10：复制下单-手数范围0.01-1，总手数0.3"}, {"name": "parentSuite", "value": "test_vps"}, {"name": "suite", "value": "test_vps_ordersend"}, {"name": "subSuite", "value": "TestVPSOrdersend"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "57284-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_vps.test_vps_ordersend"}]}