{"name": "数据库校验-批量挂靠VPS跟单（后9个账号）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）", "trace": "self = <lingkuan_1201.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x00000174761C0220>\nvar_manager = <lingkuan_1201.commons.variable_manager.VariableManager object at 0x0000017476205310>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x00000174765B4730>\n\n    @allure.title(\"数据库校验-批量挂靠VPS跟单（后9个账号）\")\n    def test_dbimport_addSlave(self, var_manager, db_transaction):\n        # 1. 获取后9个账号的账号名（使用range直接循环索引1-9）\n        all_accounts_cloudTrader = []\n        cloudTrader_user_count = var_manager.get_variable(\"cloudTrader_user_count\")\n        for i in range(2, cloudTrader_user_count + 1):  # 循环索引1-9（共9次）\n            cloudTrader_account_var_name = f\"cloudTrader_user_accounts_{i}\"\n            cloudTrader_account = var_manager.get_variable(cloudTrader_account_var_name)\n            if not cloudTrader_account:\n                pytest.fail(f\"未找到第{i}个账号（变量：{cloudTrader_account_var_name}）\")\n            all_accounts_cloudTrader.append(cloudTrader_account)\n        print(f\"\\n将校验的后9个账号：{all_accounts_cloudTrader}\")\n    \n        # 2. 逐个校验后9个账号的数据库记录（后续代码与之前一致）\n        all_ids_cloudTrader = []\n        for idx, cloudTrader_account in enumerate(all_accounts_cloudTrader, 1):  # idx从1到9\n            with allure.step(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\"):\n                # 数据库查询和校验逻辑与之前一致\n                sql = f\"SELECT * FROM follow_trader WHERE account = %s\"\n                params = (cloudTrader_account,)\n    \n                db_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"account ASC\"\n                )\n                print(f\"验证第{idx}个账号（{cloudTrader_account}）的数据库记录\")\n    \n                if not db_data:\n                    pytest.fail(f\"账号 {cloudTrader_account} 在主表中未找到记录\")\n    \n                # 保存账号ID并校验状态/净值/订阅表（代码与之前一致）\n                cloudTrader_vps_id = db_data[0][\"id\"]\n                all_ids_cloudTrader.append(cloudTrader_vps_id)\n                var_manager.set_runtime_variable(f\"cloudTrader_vps_ids_{idx}\", cloudTrader_vps_id)\n                print(\n                    f\"账号 {cloudTrader_account} 的ID为：{cloudTrader_vps_id}，已保存到变量 cloudTrader_vps_ids_{idx}\")\n    \n            with allure.step(\"校验账号状态和净值\"):\n                status = db_data[0][\"status\"]\n                assert status == 0, f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\"\n                logging.info(f\"账号 {cloudTrader_account} 状态异常：预期status=0，实际={status}\")\n    \n                # euqit = db_data[0][\"euqit\"]\n                # assert euqit >= 0, f\"账号 {cloudTrader_account} 净值异常：预期euqit>=0，实际={euqit}\"\n                # logging.info(f\"账号 {cloudTrader_account} 净值异常：预期euqit>=0，实际={euqit}\")\n    \n                # 校验订阅表记录（代码与之前一致）\n                sql = f\"SELECT * FROM follow_trader_subscribe WHERE slave_account = %s\"\n                params = (cloudTrader_account,)\n>               db_sub_data = self.query_database_with_time(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    order_by=\"slave_account ASC\"\n                )\n\ntest_cloudTrader\\test_create.py:299: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <lingkuan_1201.test_cloudTrader.test_create.TestCreate_cloudTrader object at 0x00000174761C0220>\ndb_transaction = <DBUtils.PooledDB.PooledDedicatedDBConnection object at 0x00000174765B4730>\nsql = 'SELECT * FROM follow_trader_subscribe WHERE slave_account = %s'\nparams = ('31581',), time_field = None, time_range = 3\norder_by = 'slave_account ASC', timeout = 30, poll_interval = 2\nstable_period = 2, attach_to_allure = True\n\n    def query_database_with_time(\n            self,\n            db_transaction: pymysql.connections.Connection,\n            sql: str,\n            params: tuple = (),\n            time_field: Optional[str] = None,\n            time_range: int = MYSQL_TIME,  # 时间范围（分钟），默认使用你的全局变量\n            order_by: str = \"create_time DESC\",\n            timeout: int = WAIT_TIMEOUT,  # 轮询总超时，默认全局变量\n            poll_interval: int = POLL_INTERVAL,  # 轮询间隔，默认全局变量\n            stable_period: int = STBLE_PERIOD,  # 数据稳定期，默认全局变量\n            attach_to_allure: bool = True\n    ) -> List[Dict[str, Any]]:\n        \"\"\"轮询等待数据库记录稳定（核心改造：使用固定时间范围，避免数据过期）\"\"\"\n        start_time = time.time()\n        last_result = None\n        stable_start_time = None\n        final_result = None\n        has_data = False\n    \n        # 生成固定时间范围（轮询开始时计算一次）\n        poll_start_datetime = datetime.datetime.now()\n        fixed_time_start = (poll_start_datetime - datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        fixed_time_end = (poll_start_datetime + datetime.timedelta(minutes=time_range)).strftime(\n            \"%Y-%m-%d %H:%M:%S\")\n        logger.info(\n            f\"[{self._get_current_time()}] 开始轮询等待数据稳定 | \"\n            f\"超时: {timeout}秒 | 稳定期: {stable_period}秒\"\n        )\n    \n        with allure.step(f\"轮询等待数据稳定（超时: {timeout}秒，稳定期: {stable_period}秒）\"):\n            while time.time() - start_time < timeout:\n                try:\n                    db_transaction.commit()  # 刷新事务\n    \n                    # 传入固定时间范围，而非动态计算\n                    result = self._execute_query(\n                        db_transaction=db_transaction,\n                        sql=sql,\n                        params=params,\n                        time_field=time_field,\n                        order_by=order_by,\n                        fixed_time_start=fixed_time_start,  # 传递固定开始时间\n                        fixed_time_end=fixed_time_end,  # 传递固定结束时间\n                        attach_to_allure=False  # 轮询过程中不重复附加报告\n                    )\n    \n                    # 记录轮询状态（原有逻辑不变）\n                    elapsed = time.time() - start_time\n                    with allure.step(f\"轮询中（已等待{elapsed:.1f}秒）\"):\n                        allure.attach(f\"结果数量: {len(result)}\", \"当前状态\", allure.attachment_type.TEXT)\n                        allure.attach(f\"剩余时间: {timeout - elapsed:.1f}秒\", \"超时倒计时\",\n                                      allure.attachment_type.TEXT)\n    \n                    # 检查数据是否稳定（原有逻辑不变）\n                    if len(result) > 0:\n                        has_data = True\n                        if self._is_result_stable(result, last_result):\n                            if stable_start_time is None:\n                                stable_start_time = time.time()\n                                logger.debug(f\"[{self._get_current_time()}] 数据首次稳定，开始计时\")\n                                with allure.step(\"数据首次稳定\"):\n                                    allure.attach(f\"开始稳定期计时（需保持{stable_period}秒）\", \"状态说明\",\n                                                  allure.attachment_type.TEXT)\n                            elif time.time() - stable_start_time >= stable_period:\n                                final_result = result\n                                logger.info(\n                                    f\"[{self._get_current_time()}] 数据已稳定{stable_period}秒（耗时{time.time() - start_time:.1f}秒）| \"\n                                    f\"结果数: {len(result)}\"\n                                )\n                                with allure.step(\"数据稳定达标\"):\n                                    allure.attach(\n                                        f\"已稳定{stable_period}秒（总耗时{time.time() - start_time:.1f}秒）\",\n                                        \"结果说明\", allure.attachment_type.TEXT)\n                                break\n                        else:\n                            stable_start_time = None  # 数据变化，重置计时器\n                            logger.debug(f\"[{self._get_current_time()}] 数据仍在变化，重置稳定计时器\")\n                            with allure.step(\"数据发生变化\"):\n                                allure.attach(\"重置稳定期计时器\", \"状态说明\", allure.attachment_type.TEXT)\n                    else:\n                        stable_start_time = None\n                        has_data = False\n                        logger.debug(\n                            f\"[{self._get_current_time()}] 查询结果为空，继续等待\")\n                        with allure.step(\"查询结果为空\"):\n                            allure.attach(\"继续等待数据出现\", \"状态说明\", allure.attachment_type.TEXT)\n    \n                    last_result = result\n                    time.sleep(poll_interval)\n    \n                except Exception as e:\n                    with allure.step(\"轮询查询异常（单次查询失败）\"):\n                        allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                        allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                        allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                      allure.attachment_type.TEXT)\n                        allure.attach(str(e), \"错误详情\", allure.attachment_type.TEXT)\n                    logger.warning(f\"[{self._get_current_time()}] 轮询查询异常: {str(e)} \\n继续等待...\")\n                    time.sleep(poll_interval)\n    \n            # 超时处理：获取最终结果（仍使用固定时间范围）\n            if final_result is None:\n                with allure.step(\"轮询超时处理\"):\n                    allure.attach(\n                        f\"超过{timeout}秒未达到稳定状态，获取最终结果\",\n                        \"处理说明\",\n                        allure.attachment_type.TEXT)\n                final_result = self._execute_query(\n                    db_transaction=db_transaction,\n                    sql=sql,\n                    params=params,\n                    time_field=time_field,\n                    order_by=order_by,\n                    fixed_time_start=fixed_time_start,\n                    fixed_time_end=fixed_time_end,\n                    attach_to_allure=attach_to_allure\n                )\n    \n            # 附加最终结果到报告（原有逻辑不变）\n            if attach_to_allure:\n                display_count = min(len(final_result), 50)\n                with allure.step(\"数据库查询结果（最终稳定结果）\"):\n                    allure.attach(\n                        self.serialize_data(final_result[:display_count]),\n                        f\"查询结果（共{len(final_result)}条，显示前50条）\",\n                        allure.attachment_type.JSON\n                    )\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n                    allure.attach(str(params), \"SQL参数\", allure.attachment_type.TEXT)\n                    allure.attach(f\"固定时间范围: {fixed_time_start} ~ {fixed_time_end}\", \"查询时间窗口\",\n                                  allure.attachment_type.TEXT)  # Allure展示固定时间\n    \n            # 判断超时场景（原有逻辑不变）\n            if len(final_result) == 0:\n                with allure.step(\"轮询超时（无结果）\"):\n                    allure.attach(f\"等待{timeout}秒后仍无查询结果\", \"超时详情\", allure.attachment_type.TEXT)\n                    allure.attach(sql, \"执行SQL\", allure.attachment_type.TEXT)\n>               raise TimeoutError(f\"Failed: 等待记录出现超时（{timeout}秒）\")\nE               TimeoutError: Failed: 等待记录出现超时（30秒）\n\ncommons\\api_base.py:777: TimeoutError"}, "steps": [{"name": "验证第1个账号（31581）的数据库记录", "status": "passed", "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "passed", "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645783509, "stop": 1764645783736}], "attachments": [{"name": "查询条件", "source": "2769206b-b0c9-43ba-8b32-67d9dbb036e6-attachment.txt", "type": "text/plain"}], "start": 1764645783508, "stop": 1764645783736}, {"name": "轮询中（已等待0.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a17f50f1-00ec-4e23-81fc-be6e82bc9049-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "991afff8-c2de-49d7-b455-e4395e97b8c4-attachment.txt", "type": "text/plain"}], "start": 1764645783736, "stop": 1764645783736}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ebd55d7e-2be2-4aeb-8626-0da76e200c3f-attachment.txt", "type": "text/plain"}], "start": 1764645783736, "stop": 1764645783737}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645785801, "stop": 1764645785851}], "attachments": [{"name": "查询条件", "source": "87fc5ba6-addc-4750-bbde-ebf22a2db4d2-attachment.txt", "type": "text/plain"}], "start": 1764645785800, "stop": 1764645785851}, {"name": "轮询中（已等待2.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "81727111-1391-47e0-9924-bd5f64fa2314-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "30ac149e-84ce-4f83-80f3-7302dbc9d2c8-attachment.txt", "type": "text/plain"}], "start": 1764645785851, "stop": 1764645785852}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "96bf2f3f-39a5-4f83-a038-37760f4f65b3-attachment.txt", "type": "text/plain"}], "start": 1764645785852, "stop": 1764645785852}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645787913, "stop": 1764645787962}], "attachments": [{"name": "查询条件", "source": "0f45137c-b9d2-4910-9462-37bd8740c893-attachment.txt", "type": "text/plain"}], "start": 1764645787912, "stop": 1764645787962}, {"name": "轮询中（已等待4.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "e2b2b5cd-3bb5-46d0-8211-0a4c92cf1b97-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "647a4744-d985-41b8-bd42-f903b953bcdd-attachment.txt", "type": "text/plain"}], "start": 1764645787962, "stop": 1764645787964}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "97ead76f-052f-481a-a5ea-ea3cb6ecfb2e-attachment.txt", "type": "text/plain"}], "start": 1764645787964, "stop": 1764645787964}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645790029, "stop": 1764645790078}], "attachments": [{"name": "查询条件", "source": "ad21cdd8-6dd1-4e46-8ff3-20dce04e183e-attachment.txt", "type": "text/plain"}], "start": 1764645790027, "stop": 1764645790078}, {"name": "轮询中（已等待6.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f1e16e22-4b64-4542-8cd7-a0cffdfcc38f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1185701f-7a84-4d79-98a7-6b64ddd65a4e-attachment.txt", "type": "text/plain"}], "start": 1764645790078, "stop": 1764645790079}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "ffa7212c-77d8-4e5f-a80d-53fb3a10f2e7-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "eb2c732d-bbf8-4c43-b8c9-6cc79cb437dc-attachment.txt", "type": "text/plain"}], "start": 1764645790079, "stop": 1764645790080}, {"name": "数据发生变化", "status": "passed", "attachments": [{"name": "状态说明", "source": "99e912dc-d6dc-443d-b779-6cfbd6bf2115-attachment.txt", "type": "text/plain"}], "start": 1764645790080, "stop": 1764645790081}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645792140, "stop": 1764645792191}], "attachments": [{"name": "查询条件", "source": "536f1c8d-615f-4a99-b3dd-0d323a2a64d4-attachment.txt", "type": "text/plain"}], "start": 1764645792139, "stop": 1764645792191}, {"name": "轮询中（已等待8.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "dd147cbc-6a06-43e4-8a66-bddc85d041da-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "15b4754f-4d09-4821-8fef-d0d87d760d77-attachment.txt", "type": "text/plain"}], "start": 1764645792191, "stop": 1764645792192}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "e785563a-c277-4b9d-92a8-55b22e423529-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "05ce28e7-99cd-4ad8-93a9-fbb9e793f851-attachment.txt", "type": "text/plain"}], "start": 1764645792192, "stop": 1764645792194}, {"name": "数据首次稳定", "status": "passed", "attachments": [{"name": "状态说明", "source": "b844c8e5-3d98-42bc-87f3-d7647575fd0c-attachment.txt", "type": "text/plain"}], "start": 1764645792194, "stop": 1764645792195}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645794254, "stop": 1764645794486}], "attachments": [{"name": "查询条件", "source": "e410f352-b38b-4784-8dc7-1ab99275072b-attachment.txt", "type": "text/plain"}], "start": 1764645794253, "stop": 1764645794486}, {"name": "轮询中（已等待11.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "703b57cf-76c2-488a-95ce-0d35ca838463-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "b10eca7c-a626-422f-a762-9d64ea26ad87-attachment.txt", "type": "text/plain"}], "start": 1764645794486, "stop": 1764645794487}, {"name": "判断结果稳定性", "status": "passed", "attachments": [{"name": "唯一键信息", "source": "345a1ae9-619d-4cc9-89fc-e5049b873d09-attachment.txt", "type": "text/plain"}, {"name": "判断结果", "source": "14b3313a-e017-43bc-9b9f-dc1e70c7b39d-attachment.txt", "type": "text/plain"}], "start": 1764645794487, "stop": 1764645794488}, {"name": "数据稳定达标", "status": "passed", "attachments": [{"name": "结果说明", "source": "cbb24043-1bc5-4902-b0e2-d53acc51020a-attachment.txt", "type": "text/plain"}], "start": 1764645794488, "stop": 1764645794488}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共1条，显示前50条）", "source": "1290b8ce-cb74-48d3-a60b-3d597de0f4e0-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "a6e1f2f5-4ffe-41b3-8a0d-bf8bd778ee91-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "99cba750-ba70-408c-8c5c-557ae64dc7de-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "3dbee7cd-dd64-4a44-bced-0889bd8c97f7-attachment.txt", "type": "text/plain"}], "start": 1764645794488, "stop": 1764645794491}], "start": 1764645783459, "stop": 1764645794491}], "start": 1764645783459, "stop": 1764645794493}, {"name": "校验账号状态和净值", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1201\\test_cloudTrader\\test_create.py\", line 299, in test_dbimport_addSlave\n    db_sub_data = self.query_database_with_time(\n  File \"D:\\pycharm_test\\lingkuan_1201\\commons\\api_base.py\", line 777, in query_database_with_time\n    raise TimeoutError(f\"Failed: 等待记录出现超时（{timeout}秒）\")\n"}, "steps": [{"name": "轮询等待数据稳定（超时: 30秒，稳定期: 2秒）", "status": "broken", "statusDetails": {"message": "TimeoutError: Failed: 等待记录出现超时（30秒）\n", "trace": "  File \"D:\\pycharm_test\\lingkuan_1201\\commons\\api_base.py\", line 777, in query_database_with_time\n    raise TimeoutError(f\"Failed: 等待记录出现超时（{timeout}秒）\")\n"}, "steps": [{"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645794543, "stop": 1764645794594}], "attachments": [{"name": "查询条件", "source": "97211f61-253a-4834-85b8-f2d27b557d88-attachment.txt", "type": "text/plain"}], "start": 1764645794542, "stop": 1764645794594}, {"name": "轮询中（已等待0.1秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "add7eb83-034d-46d4-ada5-b8450f00c944-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "3d4dc8fb-7924-4e4c-9172-876c276833ef-attachment.txt", "type": "text/plain"}], "start": 1764645794594, "stop": 1764645794595}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "d355b7ae-b2d9-43d8-bd6c-68d9123f3723-attachment.txt", "type": "text/plain"}], "start": 1764645794595, "stop": 1764645794596}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645796658, "stop": 1764645796708}], "attachments": [{"name": "查询条件", "source": "209b3dc8-1d23-465e-b920-0299aefd4887-attachment.txt", "type": "text/plain"}], "start": 1764645796657, "stop": 1764645796708}, {"name": "轮询中（已等待2.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "a55f4702-2c2a-4ec4-9ddc-ed0b083db4a7-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ef3ed2ae-a07f-491a-97da-effae606ab23-attachment.txt", "type": "text/plain"}], "start": 1764645796708, "stop": 1764645796712}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "58fe72c9-6a1b-47ee-abcc-851d78db9470-attachment.txt", "type": "text/plain"}], "start": 1764645796712, "stop": 1764645796712}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645798769, "stop": 1764645798818}], "attachments": [{"name": "查询条件", "source": "9d5baf84-7cbe-4a7d-9880-7a4ff3908ce2-attachment.txt", "type": "text/plain"}], "start": 1764645798769, "stop": 1764645798818}, {"name": "轮询中（已等待4.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "86e0383c-e51a-406c-80fe-d54fd4fd3250-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "f8043381-3114-49ff-b998-ec1148cfd716-attachment.txt", "type": "text/plain"}], "start": 1764645798818, "stop": 1764645798820}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "880c2c1c-be35-4189-8c38-d0a2ff23ed6f-attachment.txt", "type": "text/plain"}], "start": 1764645798820, "stop": 1764645798820}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645800877, "stop": 1764645800947}], "attachments": [{"name": "查询条件", "source": "ac1d64e5-d1f5-4eda-afef-64cc7f372766-attachment.txt", "type": "text/plain"}], "start": 1764645800877, "stop": 1764645800947}, {"name": "轮询中（已等待6.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "99d77a8d-1303-4ed1-82c8-46a683a9c0ee-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "278f0250-0960-4ceb-86dd-a4b01627faf5-attachment.txt", "type": "text/plain"}], "start": 1764645800947, "stop": 1764645800948}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ac9e3db3-dc3c-46f7-a341-f25fe1c35ab1-attachment.txt", "type": "text/plain"}], "start": 1764645800949, "stop": 1764645800949}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645803006, "stop": 1764645803056}], "attachments": [{"name": "查询条件", "source": "34a769d7-28e9-4d69-9755-b389d32fcbf2-attachment.txt", "type": "text/plain"}], "start": 1764645803005, "stop": 1764645803056}, {"name": "轮询中（已等待8.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "55798b3e-a02b-44af-8ecb-f1bc012fbb3b-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "d33b86e2-0e67-4813-a120-61fbf5d78f41-attachment.txt", "type": "text/plain"}], "start": 1764645803056, "stop": 1764645803058}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8dc10821-d018-4a2e-9c48-6f895fa43ef8-attachment.txt", "type": "text/plain"}], "start": 1764645803058, "stop": 1764645803058}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645805116, "stop": 1764645805166}], "attachments": [{"name": "查询条件", "source": "bc3e0cc6-44ab-43a4-95eb-aba97c524f99-attachment.txt", "type": "text/plain"}], "start": 1764645805115, "stop": 1764645805166}, {"name": "轮询中（已等待10.7秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "b6f03e0c-f1c3-4130-83ba-f342da04c356-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "03750115-9334-4f4c-aa86-affb861e9c21-attachment.txt", "type": "text/plain"}], "start": 1764645805166, "stop": 1764645805167}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a47b9ef1-1974-40cd-96e7-ba068033b165-attachment.txt", "type": "text/plain"}], "start": 1764645805168, "stop": 1764645805171}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645807232, "stop": 1764645807284}], "attachments": [{"name": "查询条件", "source": "d22c1419-8e9b-46d2-971f-e08855693018-attachment.txt", "type": "text/plain"}], "start": 1764645807231, "stop": 1764645807284}, {"name": "轮询中（已等待12.8秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "23f6217c-7e26-47df-bc15-3aaae9bac00f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "6776ac0d-e883-4407-91e3-a21fa20c90df-attachment.txt", "type": "text/plain"}], "start": 1764645807284, "stop": 1764645807286}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "3144f1df-a36c-449d-a3f1-52ae786f70af-attachment.txt", "type": "text/plain"}], "start": 1764645807286, "stop": 1764645807286}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645809338, "stop": 1764645809387}], "attachments": [{"name": "查询条件", "source": "f4de705a-cffd-4621-a9c5-e17e5f8f68b7-attachment.txt", "type": "text/plain"}], "start": 1764645809336, "stop": 1764645809387}, {"name": "轮询中（已等待14.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "4d60380c-275c-49a4-8bda-224509726cbe-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "8e9892fb-4d5c-492d-8569-b77c5d17ae29-attachment.txt", "type": "text/plain"}], "start": 1764645809387, "stop": 1764645809388}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "024ec9cd-f681-4e71-a032-97b8152fe37a-attachment.txt", "type": "text/plain"}], "start": 1764645809388, "stop": 1764645809388}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645811452, "stop": 1764645811506}], "attachments": [{"name": "查询条件", "source": "77308bc1-1c8c-414e-8eb7-1fbbd46c6027-attachment.txt", "type": "text/plain"}], "start": 1764645811451, "stop": 1764645811506}, {"name": "轮询中（已等待17.0秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "07d75a66-35c1-437c-8e5e-539385c1ddfe-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "679a2b88-eceb-401e-a597-dd27b6e34125-attachment.txt", "type": "text/plain"}], "start": 1764645811506, "stop": 1764645811508}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "8c1741f9-bd27-4ced-af8f-f8ad318eef69-attachment.txt", "type": "text/plain"}], "start": 1764645811508, "stop": 1764645811508}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645813576, "stop": 1764645813788}], "attachments": [{"name": "查询条件", "source": "62fa649a-7c78-480f-b5f2-f4de8f237d33-attachment.txt", "type": "text/plain"}], "start": 1764645813574, "stop": 1764645813788}, {"name": "轮询中（已等待19.3秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "85c22289-b0b0-47cf-905c-dbd890d21df9-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "1bd2027e-631a-482e-8187-fa4888bff046-attachment.txt", "type": "text/plain"}], "start": 1764645813788, "stop": 1764645813790}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "a4d0d9e7-6a56-43c6-9a91-c7367fe576b8-attachment.txt", "type": "text/plain"}], "start": 1764645813790, "stop": 1764645813791}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645815850, "stop": 1764645815903}], "attachments": [{"name": "查询条件", "source": "f4affcd7-58e2-4490-8275-36aa8fe2abaa-attachment.txt", "type": "text/plain"}], "start": 1764645815849, "stop": 1764645815903}, {"name": "轮询中（已等待21.4秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "2f2d5dbc-c2e5-4089-9f82-fc68246aad35-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "e73a74fe-5123-4943-8809-1d4774d5c0ad-attachment.txt", "type": "text/plain"}], "start": 1764645815903, "stop": 1764645815904}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "3d0b087c-0b4b-493a-884c-08a238a304b0-attachment.txt", "type": "text/plain"}], "start": 1764645815904, "stop": 1764645815905}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645817962, "stop": 1764645818013}], "attachments": [{"name": "查询条件", "source": "15142c1b-9312-4995-8b17-3f4b38022829-attachment.txt", "type": "text/plain"}], "start": 1764645817961, "stop": 1764645818013}, {"name": "轮询中（已等待23.5秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "0b13c04f-4b0a-4558-b616-12dbfa2dc10f-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "2b6c54b6-de16-4c80-88ba-25765c986098-attachment.txt", "type": "text/plain"}], "start": 1764645818013, "stop": 1764645818014}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "b73ac9d6-3ae2-4b10-a549-fd62205cd9cb-attachment.txt", "type": "text/plain"}], "start": 1764645818014, "stop": 1764645818016}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645820076, "stop": 1764645820128}], "attachments": [{"name": "查询条件", "source": "1d6e6458-16c2-48b2-aea1-a792019cc82a-attachment.txt", "type": "text/plain"}], "start": 1764645820075, "stop": 1764645820128}, {"name": "轮询中（已等待25.6秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f7db36b6-77b0-46cb-82e7-44f7cda2eed5-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "bd9698af-2308-46b0-bd8d-2a56fd9ba2d2-attachment.txt", "type": "text/plain"}], "start": 1764645820128, "stop": 1764645820128}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "68caac1a-b2f2-46cb-ba02-7ac6533ab9ae-attachment.txt", "type": "text/plain"}], "start": 1764645820128, "stop": 1764645820129}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645822190, "stop": 1764645822403}], "attachments": [{"name": "查询条件", "source": "0c47460f-7864-48a2-be9b-7e80b3dde767-attachment.txt", "type": "text/plain"}], "start": 1764645822189, "stop": 1764645822403}, {"name": "轮询中（已等待27.9秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "11b88b4d-d562-443d-b663-60e330975580-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "ec60bc34-120e-4744-83ff-8348d5210732-attachment.txt", "type": "text/plain"}], "start": 1764645822403, "stop": 1764645822404}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "da6722d7-0f75-458d-8512-f0638e62e175-attachment.txt", "type": "text/plain"}], "start": 1764645822404, "stop": 1764645822404}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "start": 1764645824491, "stop": 1764645824646}], "attachments": [{"name": "查询条件", "source": "3b26def6-5cb7-4ddc-a76d-36e7ec0666cd-attachment.txt", "type": "text/plain"}], "start": 1764645824491, "stop": 1764645824646}, {"name": "轮询中（已等待30.2秒）", "status": "passed", "attachments": [{"name": "当前状态", "source": "f2dd03d7-74b7-44c1-b07d-74eb34cce0ca-attachment.txt", "type": "text/plain"}, {"name": "超时倒计时", "source": "0a26a602-5599-4208-8bf5-a96b67cd9f93-attachment.txt", "type": "text/plain"}], "start": 1764645824646, "stop": 1764645824648}, {"name": "查询结果为空", "status": "passed", "attachments": [{"name": "状态说明", "source": "ab90e54b-3212-449d-bba5-0b302acc8f50-attachment.txt", "type": "text/plain"}], "start": 1764645824649, "stop": 1764645824650}, {"name": "轮询超时处理", "status": "passed", "attachments": [{"name": "处理说明", "source": "a36fd138-18f1-4c4a-af89-5c47ab1669dc-attachment.txt", "type": "text/plain"}], "start": 1764645826658, "stop": 1764645826659}, {"name": "执行单次数据库查询", "status": "passed", "steps": [{"name": "执行数据库查询", "status": "passed", "steps": [{"name": "数据库查询结果", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "f8afd20f-2969-467c-9b4c-6e98578f89a7-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "392daef7-4e78-484d-b118-03ccd00179ef-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "1087df9d-d1ab-4a33-a6cd-1f56ce1350a7-attachment.txt", "type": "text/plain"}], "start": 1764645826717, "stop": 1764645826719}], "start": 1764645826660, "stop": 1764645826719}], "attachments": [{"name": "查询条件", "source": "00a7800e-ff4f-4f2e-8606-c080e0fb9596-attachment.txt", "type": "text/plain"}], "start": 1764645826660, "stop": 1764645826719}, {"name": "数据库查询结果（最终稳定结果）", "status": "passed", "attachments": [{"name": "查询结果（共0条，显示前50条）", "source": "3745805a-f36d-49c6-873e-ea67c15c8663-attachment.json", "type": "application/json"}, {"name": "执行SQL", "source": "f43dc3d8-8f3c-4a7c-a9a1-73140dcd3f8a-attachment.txt", "type": "text/plain"}, {"name": "SQL参数", "source": "be04b6c7-2d0f-43c9-ab68-13ecc04dc750-attachment.txt", "type": "text/plain"}, {"name": "查询时间窗口", "source": "75c03e81-afd9-4d9b-8459-8497c987abae-attachment.txt", "type": "text/plain"}], "start": 1764645826719, "stop": 1764645826722}, {"name": "轮询超时（无结果）", "status": "passed", "attachments": [{"name": "超时详情", "source": "83da9766-a899-4409-b067-aa8d25e9ed90-attachment.txt", "type": "text/plain"}, {"name": "执行SQL", "source": "1b9fdc05-d42a-4a1d-b5c6-c574a2b40723-attachment.txt", "type": "text/plain"}], "start": 1764645826722, "stop": 1764645826723}], "start": 1764645794493, "stop": 1764645826723}], "start": 1764645794493, "stop": 1764645826723}], "attachments": [{"name": "log", "source": "1ada81ca-f408-44b3-8269-b2b191cd4e82-attachment.txt", "type": "text/plain"}], "start": 1764645783459, "stop": 1764645826725, "uuid": "73ff1e7d-5a5d-4fe9-aed8-74435b695b8f", "historyId": "9096540b4712077bc0bb74ca9894ee36", "testCaseId": "9096540b4712077bc0bb74ca9894ee36", "fullName": "test_cloudTrader.test_create.TestCreate_cloudTrader#test_dbimport_addSlave", "labels": [{"name": "feature", "value": "数据管理-创建数据-为云策略准备"}, {"name": "tag", "value": "flaky(reruns=3, reruns_delay=5)"}, {"name": "parentSuite", "value": "test_cloudTrader"}, {"name": "suite", "value": "test_create"}, {"name": "subSuite", "value": "TestCreate_cloudTrader"}, {"name": "host", "value": "DESKTOP-4S9CU1E"}, {"name": "thread", "value": "64796-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cloudTrader.test_create"}]}